/*! For license information please see main.f35b3861.js.LICENSE.txt */
(()=>{"use strict";var e={463:(e,t,n)=>{var r=n(791),s=n(296);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},m={};function p(e,t,n,r,s,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new p(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new p(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new p(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new p(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new p(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new p(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new p(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new p(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new p(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function x(e){return e[1].toUpperCase()}function v(e,t,n,r){var s=g.hasOwnProperty(t)?g[t]:null;(null!==s?0!==s.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,s,r)&&(n=null),r||null===s?function(e){return!!d.call(m,e)||!d.call(f,e)&&(h.test(e)?m[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=null===n?3!==s.type&&"":n:(t=s.attributeName,r=s.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(s=s.type)||4===s&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,x);g[t]=new p(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,x);g[t]=new p(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,x);g[t]=new p(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),N=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),E=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var P,M=Object.assign;function F(e){if(void 0===P)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);P=t&&t[1]||""}return"\n"+P+e}var V=!1;function U(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var s=c.stack.split("\n"),i=r.stack.split("\n"),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(1!==a||1!==o)do{if(a--,0>--o||s[a]!==i[o]){var l="\n"+s[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case N:return"Portal";case S:return"Profiler";case j:return"StrictMode";case T:return"Suspense";case I:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case _:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===j?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function J(e,t){X(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,s=0;s<e.length;s++){if(e[s].value===n)return e[s].selected=!0,void(r&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ie(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),s=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}Object.keys(fe).forEach((function(e){me.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ye=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xe(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ne=null,ke=null,je=null;function Se(e){if(e=vs(e)){if("function"!==typeof Ne)throw Error(i(280));var t=e.stateNode;t&&(t=ws(t),Ne(e.stateNode,e.type,t))}}function Ce(e){ke?je?je.push(e):je=[e]:ke=e}function Ee(){if(ke){var e=ke,t=je;if(je=ke=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function _e(e,t){return e(t)}function Te(){}var Ie=!1;function De(e,t,n){if(Ie)return e(t,n);Ie=!0;try{return _e(e,t,n)}finally{Ie=!1,(null!==ke||null!==je)&&(Te(),Ee())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var r=ws(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Re=!1;if(u)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ue){Re=!1}function Le(e,t,n,r,s,i,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Pe=!1,Me=null,Fe=!1,Ve=null,Ue={onError:function(e){Pe=!0,Me=e}};function ze(e,t,n,r,s,i,a,o,l){Pe=!1,Me=null,Le.apply(Ue,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Be(e)!==e)throw Error(i(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(null===s)break;var a=s.alternate;if(null===a){if(null!==(r=s.return)){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return He(s),e;if(a===r)return He(s),t;a=a.sibling}throw Error(i(188))}if(n.return!==r.return)n=s,r=a;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=a;break}if(l===r){o=!0,r=s,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=s;break}if(l===r){o=!0,r=a,n=s;break}l=l.sibling}if(!o)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ke=s.unstable_scheduleCallback,Qe=s.unstable_cancelCallback,Ye=s.unstable_shouldYield,$e=s.unstable_requestPaint,Xe=s.unstable_now,Je=s.unstable_getCurrentPriorityLevel,Ze=s.unstable_ImmediatePriority,et=s.unstable_UserBlockingPriority,tt=s.unstable_NormalPriority,nt=s.unstable_LowPriority,rt=s.unstable_IdlePriority,st=null,it=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~s;0!==o?r=dt(o):0!==(i&=a)&&(r=dt(i))}else 0!==(a=n&~s)?r=dt(a):0!==i&&(r=dt(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&s)&&((s=r&-r)>=(i=t&-t)||16===s&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)s=1<<(n=31-at(t)),r|=e[n],t&=~s;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function mt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function xt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var vt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,Nt,kt,jt,St,Ct=!1,Et=[],_t=null,Tt=null,It=null,Dt=new Map,At=new Map,Rt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":_t=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function Pt(e,t,n,r,s,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},null!==t&&(null!==(t=vs(t))&&Nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function Mt(e){var t=xs(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void St(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=vs(n))&&Nt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Vt(e,t,n){Ft(e)&&n.delete(t)}function Ut(){Ct=!1,null!==_t&&Ft(_t)&&(_t=null),null!==Tt&&Ft(Tt)&&(Tt=null),null!==It&&Ft(It)&&(It=null),Dt.forEach(Vt),At.forEach(Vt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Ut)))}function Bt(e){function t(t){return zt(t,e)}if(0<Et.length){zt(Et[0],e);for(var n=1;n<Et.length;n++){var r=Et[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==_t&&zt(_t,e),null!==Tt&&zt(Tt,e),null!==It&&zt(It,e),Dt.forEach(t),At.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Rt.shift()}var qt=b.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var s=vt,i=qt.transition;qt.transition=null;try{vt=1,Kt(e,t,n,r)}finally{vt=s,qt.transition=i}}function Gt(e,t,n,r){var s=vt,i=qt.transition;qt.transition=null;try{vt=4,Kt(e,t,n,r)}finally{vt=s,qt.transition=i}}function Kt(e,t,n,r){if(Ht){var s=Yt(e,t,n,r);if(null===s)Hr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,s){switch(t){case"focusin":return _t=Pt(_t,e,t,n,r,s),!0;case"dragenter":return Tt=Pt(Tt,e,t,n,r,s),!0;case"mouseover":return It=Pt(It,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Dt.set(i,Pt(Dt.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,At.set(i,Pt(At.get(i)||null,e,t,n,r,s)),!0}return!1}(s,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==s;){var i=vs(s);if(null!==i&&wt(i),null===(i=Yt(e,t,n,r))&&Hr(e,t,r,Qt,n),i===s)break;s=i}null!==s&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=xs(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,s="value"in Xt?Xt.value:Xt.textContent,i=s.length;for(e=0;e<r&&n[e]===s[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===s[i-t];t++);return Zt=s.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,s,i){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=s,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),dn=M({},cn,{view:0,detail:0}),hn=sn(dn),fn=M({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),mn=sn(fn),pn=sn(M({},fn,{dataTransfer:0})),gn=sn(M({},dn,{relatedTarget:0})),yn=sn(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),xn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vn=sn(xn),bn=sn(M({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Sn(){return jn}var Cn=M({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Nn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),En=sn(Cn),_n=sn(M({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=sn(M({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),In=sn(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=M({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),An=sn(Dn),Rn=[9,13,27,32],On=u&&"CompositionEvent"in window,Ln=null;u&&"documentMode"in document&&(Ln=document.documentMode);var Pn=u&&"TextEvent"in window&&!Ln,Mn=u&&(!On||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),Vn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ce(r),0<(t=Gr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Kn=null;function Qn(e){Fr(e,0)}function Yn(e){if(K(bs(e)))return e}function $n(e,t){if("change"===e)return t}var Xn=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Kn=Gn=null)}function nr(e){if("value"===e.propertyName&&Yn(Kn)){var t=[];Wn(t,Kn,e,we(e)),De(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Kn)}function ir(e,t){if("click"===e)return Yn(t)}function ar(e,t){if("input"===e||"change"===e)return Yn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!d.call(t,s)||!or(e[s],t[s]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function mr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=void 0===r.end?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=ur(n,i);var a=ur(n,r);s&&a&&(1!==e.rangeCount||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,xr=null,vr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;vr||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},xr&&lr(xr,r)||(xr=r,0<(r=Gr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Nr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},kr={},jr={};function Sr(e){if(kr[e])return kr[e];if(!Nr[e])return e;var t,n=Nr[e];for(t in n)if(n.hasOwnProperty(t)&&t in jr)return kr[e]=n[t];return e}u&&(jr=document.createElement("div").style,"AnimationEvent"in window||(delete Nr.animationend.animation,delete Nr.animationiteration.animation,delete Nr.animationstart.animation),"TransitionEvent"in window||delete Nr.transitionend.transition);var Cr=Sr("animationend"),Er=Sr("animationiteration"),_r=Sr("animationstart"),Tr=Sr("transitionend"),Ir=new Map,Dr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){Ir.set(e,t),l(t,[e])}for(var Rr=0;Rr<Dr.length;Rr++){var Or=Dr[Rr];Ar(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Ar(Cr,"onAnimationEnd"),Ar(Er,"onAnimationIteration"),Ar(_r,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(Tr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,s,a,o,l,c){if(ze.apply(this,arguments),Pe){if(!Pe)throw Error(i(198));var u=Me;Pe=!1,Me=null,Fe||(Fe=!0,Ve=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;Mr(s,o,c),i=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;Mr(s,o,c),i=l}}}if(Fe)throw e=Ve,Fe=!1,Ve=null,e}function Vr(e,t){var n=t[ps];void 0===n&&(n=t[ps]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Pr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Ur("selectionchange",!1,t))}}function qr(e,t,n,r){switch($t(t)){case 1:var s=Wt;break;case 4:s=Gt;break;default:s=Kt}n=s.bind(null,t,n,e),s=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),r?void 0!==s?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):void 0!==s?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,s){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===s||8===o.nodeType&&o.parentNode===s)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===s||8===l.nodeType&&l.parentNode===s))return;a=a.return}for(;null!==o;){if(null===(a=xs(o)))return;if(5===(l=a.tag)||6===l){r=i=a;continue e}o=o.parentNode}}r=r.return}De((function(){var r=i,s=we(n),a=[];e:{var o=Ir.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=En;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Tn;break;case Cr:case Er:case _r:l=yn;break;case Tr:l=In;break;case"scroll":l=hn;break;case"wheel":l=An;break;case"copy":case"cut":case"paste":l=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=_n}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==o?o+"Capture":null:o;u=[];for(var f,m=r;null!==m;){var p=(f=m).stateNode;if(5===f.tag&&null!==p&&(f=p,null!==h&&(null!=(p=Ae(m,h))&&u.push(Wr(m,p,f)))),d)break;m=m.return}0<u.length&&(o=new l(o,c,null,n,s),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!xs(c)&&!c[ms])&&(l||o)&&(o=s.window===s?s:(o=s.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?xs(c):null)&&(c!==(d=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=mn,p="onMouseLeave",h="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(u=_n,p="onPointerLeave",h="onPointerEnter",m="pointer"),d=null==l?o:bs(l),f=null==c?o:bs(c),(o=new u(p,m+"leave",l,n,s)).target=d,o.relatedTarget=f,p=null,xs(s)===r&&((u=new u(h,m+"enter",c,n,s)).target=f,u.relatedTarget=d,p=u),d=p,l&&c)e:{for(h=c,m=0,f=u=l;f;f=Kr(f))m++;for(f=0,p=h;p;p=Kr(p))f++;for(;0<m-f;)u=Kr(u),m--;for(;0<f-m;)h=Kr(h),f--;for(;m--;){if(u===h||null!==h&&u===h.alternate)break e;u=Kr(u),h=Kr(h)}u=null}else u=null;null!==l&&Qr(a,o,l,u,!1),null!==c&&null!==d&&Qr(a,d,c,u,!0)}if("select"===(l=(o=r?bs(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=$n;else if(Hn(o))if(Xn)g=ar;else{g=sr;var y=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=ir);switch(g&&(g=g(e,r))?Wn(a,g,n,s):(y&&y(e,o,r),"focusout"===e&&(y=o._wrapperState)&&y.controlled&&"number"===o.type&&ee(o,"number",o.value)),y=r?bs(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,xr=null);break;case"focusout":xr=yr=gr=null;break;case"mousedown":vr=!0;break;case"contextmenu":case"mouseup":case"dragend":vr=!1,br(a,n,s);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":br(a,n,s)}var x;if(On)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Bn?Un(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(Mn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==v?"onCompositionEnd"===v&&Bn&&(x=en()):(Jt="value"in(Xt=s)?Xt.value:Xt.textContent,Bn=!0)),0<(y=Gr(r,v)).length&&(v=new bn(v,e,null,n,s),a.push({event:v,listeners:y}),x?v.data=x:null!==(x=zn(n))&&(v.data=x))),(x=Pn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Vn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!On&&Un(e,t)?(e=en(),Zt=Jt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(s=new bn("onBeforeInput","beforeinput",null,n,s),a.push({event:s,listeners:r}),s.data=x))}Fr(a,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var s=e,i=s.stateNode;5===s.tag&&null!==i&&(s=i,null!=(i=Ae(e,n))&&r.unshift(Wr(e,i,s)),null!=(i=Ae(e,t))&&r.push(Wr(e,i,s))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,s){for(var i=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,s?null!=(l=Ae(n,i))&&a.unshift(Wr(n,l,o)):s||null!=(l=Ae(n,i))&&a.push(Wr(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Yr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace($r,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(i(425))}function Zr(){}var es=null,ts=null;function ns(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var rs="function"===typeof setTimeout?setTimeout:void 0,ss="function"===typeof clearTimeout?clearTimeout:void 0,is="function"===typeof Promise?Promise:void 0,as="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof is?function(e){return is.resolve(null).then(e).catch(os)}:rs;function os(e){setTimeout((function(){throw e}))}function ls(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0===r)return e.removeChild(s),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=s}while(n);Bt(t)}function cs(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function us(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ds=Math.random().toString(36).slice(2),hs="__reactFiber$"+ds,fs="__reactProps$"+ds,ms="__reactContainer$"+ds,ps="__reactEvents$"+ds,gs="__reactListeners$"+ds,ys="__reactHandles$"+ds;function xs(e){var t=e[hs];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ms]||n[hs]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=us(e);null!==e;){if(n=e[hs])return n;e=us(e)}return t}n=(e=n).parentNode}return null}function vs(e){return!(e=e[hs]||e[ms])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bs(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function ws(e){return e[fs]||null}var Ns=[],ks=-1;function js(e){return{current:e}}function Ss(e){0>ks||(e.current=Ns[ks],Ns[ks]=null,ks--)}function Cs(e,t){ks++,Ns[ks]=e.current,e.current=t}var Es={},_s=js(Es),Ts=js(!1),Is=Es;function Ds(e,t){var n=e.type.contextTypes;if(!n)return Es;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s,i={};for(s in n)i[s]=t[s];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function As(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Rs(){Ss(Ts),Ss(_s)}function Os(e,t,n){if(_s.current!==Es)throw Error(i(168));Cs(_s,t),Cs(Ts,n)}function Ls(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var s in r=r.getChildContext())if(!(s in t))throw Error(i(108,q(e)||"Unknown",s));return M({},n,r)}function Ps(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Es,Is=_s.current,Cs(_s,e),Cs(Ts,Ts.current),!0}function Ms(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Ls(e,t,Is),r.__reactInternalMemoizedMergedChildContext=e,Ss(Ts),Ss(_s),Cs(_s,e)):Ss(Ts),Cs(Ts,n)}var Fs=null,Vs=!1,Us=!1;function zs(e){null===Fs?Fs=[e]:Fs.push(e)}function Bs(){if(!Us&&null!==Fs){Us=!0;var e=0,t=vt;try{var n=Fs;for(vt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fs=null,Vs=!1}catch(s){throw null!==Fs&&(Fs=Fs.slice(e+1)),Ke(Ze,Bs),s}finally{vt=t,Us=!1}}return null}var qs=[],Hs=0,Ws=null,Gs=0,Ks=[],Qs=0,Ys=null,$s=1,Xs="";function Js(e,t){qs[Hs++]=Gs,qs[Hs++]=Ws,Ws=e,Gs=t}function Zs(e,t,n){Ks[Qs++]=$s,Ks[Qs++]=Xs,Ks[Qs++]=Ys,Ys=e;var r=$s;e=Xs;var s=32-at(r)-1;r&=~(1<<s),n+=1;var i=32-at(t)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,$s=1<<32-at(t)+s|n<<s|r,Xs=i+e}else $s=1<<i|n<<s|r,Xs=e}function ei(e){null!==e.return&&(Js(e,1),Zs(e,1,0))}function ti(e){for(;e===Ws;)Ws=qs[--Hs],qs[Hs]=null,Gs=qs[--Hs],qs[Hs]=null;for(;e===Ys;)Ys=Ks[--Qs],Ks[Qs]=null,Xs=Ks[--Qs],Ks[Qs]=null,$s=Ks[--Qs],Ks[Qs]=null}var ni=null,ri=null,si=!1,ii=null;function ai(e,t){var n=Ac(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function oi(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ni=e,ri=cs(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ni=e,ri=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ys?{id:$s,overflow:Xs}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ac(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ni=e,ri=null,!0);default:return!1}}function li(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ci(e){if(si){var t=ri;if(t){var n=t;if(!oi(e,t)){if(li(e))throw Error(i(418));t=cs(n.nextSibling);var r=ni;t&&oi(e,t)?ai(r,n):(e.flags=-4097&e.flags|2,si=!1,ni=e)}}else{if(li(e))throw Error(i(418));e.flags=-4097&e.flags|2,si=!1,ni=e}}}function ui(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ni=e}function di(e){if(e!==ni)return!1;if(!si)return ui(e),si=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ns(e.type,e.memoizedProps)),t&&(t=ri)){if(li(e))throw hi(),Error(i(418));for(;t;)ai(e,t),t=cs(t.nextSibling)}if(ui(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ri=cs(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ri=null}}else ri=ni?cs(e.stateNode.nextSibling):null;return!0}function hi(){for(var e=ri;e;)e=cs(e.nextSibling)}function fi(){ri=ni=null,si=!1}function mi(e){null===ii?ii=[e]:ii.push(e)}var pi=b.ReactCurrentBatchConfig;function gi(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var yi=js(null),xi=null,vi=null,bi=null;function wi(){bi=vi=xi=null}function Ni(e){var t=yi.current;Ss(yi),e._currentValue=t}function ki(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ji(e,t){xi=e,bi=vi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bo=!0),e.firstContext=null)}function Si(e){var t=e._currentValue;if(bi!==e)if(e={context:e,memoizedValue:t,next:null},null===vi){if(null===xi)throw Error(i(308));vi=e,xi.dependencies={lanes:0,firstContext:e}}else vi=vi.next=e;return t}var Ci=null;function Ei(e){null===Ci?Ci=[e]:Ci.push(e)}function _i(e,t,n,r){var s=t.interleaved;return null===s?(n.next=n,Ei(t)):(n.next=s.next,s.next=n),t.interleaved=n,Ti(e,r)}function Ti(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ii=!1;function Di(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ai(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ri(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oi(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Tl)){var s=r.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Ti(e,n)}return null===(s=r.interleaved)?(t.next=t,Ei(r)):(t.next=s.next,s.next=t),r.interleaved=t,Ti(e,n)}function Li(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,xt(e,n)}}function Pi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var s=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?s=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?s=i=t:i=i.next=t}else s=i=t;return n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Mi(e,t,n,r){var s=e.updateQueue;Ii=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(null!==o){s.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?i=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=s.baseState;for(a=0,u=c=l=null,o=i;;){var h=o.lane,f=o.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=e,p=o;switch(h=t,f=n,p.tag){case 1:if("function"===typeof(m=p.payload)){d=m.call(f,d,h);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(h="function"===typeof(m=p.payload)?m.call(f,d,h):m)||void 0===h)break e;d=M({},d,h);break e;case 2:Ii=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=s.effects)?s.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(o=o.next)){if(null===(o=s.shared.pending))break;o=(h=o).next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}if(null===u&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,null!==(t=s.shared.interleaved)){s=t;do{a|=s.lane,s=s.next}while(s!==t)}else null===i&&(s.shared.lanes=0);Ml|=a,e.lanes=a,e.memoizedState=d}}function Fi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(null!==s){if(r.callback=null,r=n,"function"!==typeof s)throw Error(i(191,s));s.call(r)}}}var Vi=(new r.Component).refs;function Ui(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var zi={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),s=nc(e),i=Ri(r,s);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Oi(e,i,s))&&(rc(t,e,s,r),Li(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),s=nc(e),i=Ri(r,s);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Oi(e,i,s))&&(rc(t,e,s,r),Li(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),s=Ri(n,r);s.tag=2,void 0!==t&&null!==t&&(s.callback=t),null!==(t=Oi(e,s,r))&&(rc(t,e,r,n),Li(t,e,r))}};function Bi(e,t,n,r,s,i,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(s,i))}function qi(e,t,n){var r=!1,s=Es,i=t.contextType;return"object"===typeof i&&null!==i?i=Si(i):(s=As(t)?Is:_s.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ds(e,s):Es),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=zi,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Hi(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&zi.enqueueReplaceState(t,t.state,null)}function Wi(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs=Vi,Di(e);var i=t.contextType;"object"===typeof i&&null!==i?s.context=Si(i):(i=As(t)?Is:_s.current,s.context=Ds(e,i)),s.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(Ui(e,t,i,n),s.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(t=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),t!==s.state&&zi.enqueueReplaceState(s,s.state,null),Mi(e,n,s,r),s.state=e.memoizedState),"function"===typeof s.componentDidMount&&(e.flags|=4194308)}function Gi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var s=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=s.refs;t===Vi&&(t=s.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function Ki(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qi(e){return(0,e._init)(e._payload)}function Yi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function s(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=s(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===k?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===A&&Qi(i)===t.type)?((r=s(t,n.props)).ref=Gi(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=Gi(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vc(n,e.mode,r)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Pc(n,e.mode,r,i)).return=e,t):((t=s(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=Gi(e,null,t),n.return=e,n;case N:return(t=Vc(t,e.mode,n)).return=e,t;case A:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Pc(t,e.mode,n,null)).return=e,t;Ki(e,t)}return null}function f(e,t,n,r){var s=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==s?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===s?c(e,t,n,r):null;case N:return n.key===s?u(e,t,n,r):null;case A:return f(e,t,(s=n._init)(n._payload),r)}if(te(n)||L(n))return null!==s?null:d(e,t,n,r,null);Ki(e,n)}return null}function m(e,t,n,r,s){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,s);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,s);case N:return u(t,e=e.get(null===r.key?n:r.key)||null,r,s);case A:return m(e,t,n,(0,r._init)(r._payload),s)}if(te(r)||L(r))return d(t,e=e.get(n)||null,r,s,null);Ki(t,r)}return null}function p(s,i,o,l){for(var c=null,u=null,d=i,p=i=0,g=null;null!==d&&p<o.length;p++){d.index>p?(g=d,d=null):g=d.sibling;var y=f(s,d,o[p],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(s,d),i=a(y,i,p),null===u?c=y:u.sibling=y,u=y,d=g}if(p===o.length)return n(s,d),si&&Js(s,p),c;if(null===d){for(;p<o.length;p++)null!==(d=h(s,o[p],l))&&(i=a(d,i,p),null===u?c=d:u.sibling=d,u=d);return si&&Js(s,p),c}for(d=r(s,d);p<o.length;p++)null!==(g=m(d,s,p,o[p],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?p:g.key),i=a(g,i,p),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(s,e)})),si&&Js(s,p),c}function g(s,o,l,c){var u=L(l);if("function"!==typeof u)throw Error(i(150));if(null==(l=u.call(l)))throw Error(i(151));for(var d=u=null,p=o,g=o=0,y=null,x=l.next();null!==p&&!x.done;g++,x=l.next()){p.index>g?(y=p,p=null):y=p.sibling;var v=f(s,p,x.value,c);if(null===v){null===p&&(p=y);break}e&&p&&null===v.alternate&&t(s,p),o=a(v,o,g),null===d?u=v:d.sibling=v,d=v,p=y}if(x.done)return n(s,p),si&&Js(s,g),u;if(null===p){for(;!x.done;g++,x=l.next())null!==(x=h(s,x.value,c))&&(o=a(x,o,g),null===d?u=x:d.sibling=x,d=x);return si&&Js(s,g),u}for(p=r(s,p);!x.done;g++,x=l.next())null!==(x=m(p,s,g,x.value,c))&&(e&&null!==x.alternate&&p.delete(null===x.key?g:x.key),o=a(x,o,g),null===d?u=x:d.sibling=x,d=x);return e&&p.forEach((function(e){return t(s,e)})),si&&Js(s,g),u}return function e(r,i,a,l){if("object"===typeof a&&null!==a&&a.type===k&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var c=a.key,u=i;null!==u;){if(u.key===c){if((c=a.type)===k){if(7===u.tag){n(r,u.sibling),(i=s(u,a.props.children)).return=r,r=i;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===A&&Qi(c)===u.type){n(r,u.sibling),(i=s(u,a.props)).ref=Gi(r,u,a),i.return=r,r=i;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===k?((i=Pc(a.props.children,r.mode,l,a.key)).return=r,r=i):((l=Lc(a.type,a.key,a.props,null,r.mode,l)).ref=Gi(r,i,a),l.return=r,r=l)}return o(r);case N:e:{for(u=a.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){n(r,i.sibling),(i=s(i,a.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Vc(a,r.mode,l)).return=r,r=i}return o(r);case A:return e(r,i,(u=a._init)(a._payload),l)}if(te(a))return p(r,i,a,l);if(L(a))return g(r,i,a,l);Ki(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==i&&6===i.tag?(n(r,i.sibling),(i=s(i,a)).return=r,r=i):(n(r,i),(i=Fc(a,r.mode,l)).return=r,r=i),o(r)):n(r,i)}}var $i=Yi(!0),Xi=Yi(!1),Ji={},Zi=js(Ji),ea=js(Ji),ta=js(Ji);function na(e){if(e===Ji)throw Error(i(174));return e}function ra(e,t){switch(Cs(ta,t),Cs(ea,e),Cs(Zi,Ji),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ss(Zi),Cs(Zi,t)}function sa(){Ss(Zi),Ss(ea),Ss(ta)}function ia(e){na(ta.current);var t=na(Zi.current),n=le(t,e.type);t!==n&&(Cs(ea,e),Cs(Zi,n))}function aa(e){ea.current===e&&(Ss(Zi),Ss(ea))}var oa=js(0);function la(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ca=[];function ua(){for(var e=0;e<ca.length;e++)ca[e]._workInProgressVersionPrimary=null;ca.length=0}var da=b.ReactCurrentDispatcher,ha=b.ReactCurrentBatchConfig,fa=0,ma=null,pa=null,ga=null,ya=!1,xa=!1,va=0,ba=0;function wa(){throw Error(i(321))}function Na(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function ka(e,t,n,r,s,a){if(fa=a,ma=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,da.current=null===e||null===e.memoizedState?ao:oo,e=n(r,s),xa){a=0;do{if(xa=!1,va=0,25<=a)throw Error(i(301));a+=1,ga=pa=null,t.updateQueue=null,da.current=lo,e=n(r,s)}while(xa)}if(da.current=io,t=null!==pa&&null!==pa.next,fa=0,ga=pa=ma=null,ya=!1,t)throw Error(i(300));return e}function ja(){var e=0!==va;return va=0,e}function Sa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ga?ma.memoizedState=ga=e:ga=ga.next=e,ga}function Ca(){if(null===pa){var e=ma.alternate;e=null!==e?e.memoizedState:null}else e=pa.next;var t=null===ga?ma.memoizedState:ga.next;if(null!==t)ga=t,pa=e;else{if(null===e)throw Error(i(310));e={memoizedState:(pa=e).memoizedState,baseState:pa.baseState,baseQueue:pa.baseQueue,queue:pa.queue,next:null},null===ga?ma.memoizedState=ga=e:ga=ga.next=e}return ga}function Ea(e,t){return"function"===typeof t?t(e):t}function _a(e){var t=Ca(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=pa,s=r.baseQueue,a=n.pending;if(null!==a){if(null!==s){var o=s.next;s.next=a.next,a.next=o}r.baseQueue=s=a,n.pending=null}if(null!==s){a=s.next,r=r.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((fa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,o=r):c=c.next=h,ma.lanes|=d,Ml|=d}u=u.next}while(null!==u&&u!==a);null===c?o=r:c.next=l,or(r,t.memoizedState)||(bo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){s=e;do{a=s.lane,ma.lanes|=a,Ml|=a,s=s.next}while(s!==e)}else null===s&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ta(e){var t=Ca(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,a=t.memoizedState;if(null!==s){n.pending=null;var o=s=s.next;do{a=e(a,o.action),o=o.next}while(o!==s);or(a,t.memoizedState)||(bo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ia(){}function Da(e,t){var n=ma,r=Ca(),s=t(),a=!or(r.memoizedState,s);if(a&&(r.memoizedState=s,bo=!0),r=r.queue,qa(Oa.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ga&&1&ga.memoizedState.tag){if(n.flags|=2048,Fa(9,Ra.bind(null,n,r,s,t),void 0,null),null===Il)throw Error(i(349));0!==(30&fa)||Aa(n,t,s)}return s}function Aa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ma.updateQueue)?(t={lastEffect:null,stores:null},ma.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ra(e,t,n,r){t.value=n,t.getSnapshot=r,La(t)&&Pa(e)}function Oa(e,t,n){return n((function(){La(t)&&Pa(e)}))}function La(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Pa(e){var t=Ti(e,1);null!==t&&rc(t,e,1,-1)}function Ma(e){var t=Sa();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:e},t.queue=e,e=e.dispatch=to.bind(null,ma,e),[t.memoizedState,e]}function Fa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ma.updateQueue)?(t={lastEffect:null,stores:null},ma.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Va(){return Ca().memoizedState}function Ua(e,t,n,r){var s=Sa();ma.flags|=e,s.memoizedState=Fa(1|t,n,void 0,void 0===r?null:r)}function za(e,t,n,r){var s=Ca();r=void 0===r?null:r;var i=void 0;if(null!==pa){var a=pa.memoizedState;if(i=a.destroy,null!==r&&Na(r,a.deps))return void(s.memoizedState=Fa(t,n,i,r))}ma.flags|=e,s.memoizedState=Fa(1|t,n,i,r)}function Ba(e,t){return Ua(8390656,8,e,t)}function qa(e,t){return za(2048,8,e,t)}function Ha(e,t){return za(4,2,e,t)}function Wa(e,t){return za(4,4,e,t)}function Ga(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ka(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,za(4,4,Ga.bind(null,t,e),n)}function Qa(){}function Ya(e,t){var n=Ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Na(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $a(e,t){var n=Ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Na(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xa(e,t,n){return 0===(21&fa)?(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=n):(or(n,t)||(n=pt(),ma.lanes|=n,Ml|=n,e.baseState=!0),t)}function Ja(e,t){var n=vt;vt=0!==n&&4>n?n:4,e(!0);var r=ha.transition;ha.transition={};try{e(!1),t()}finally{vt=n,ha.transition=r}}function Za(){return Ca().memoizedState}function eo(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},no(e))ro(t,n);else if(null!==(n=_i(e,t,n,r))){rc(n,e,r,tc()),so(n,t,r)}}function to(e,t,n){var r=nc(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(no(e))ro(t,s);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=i(a,n);if(s.hasEagerState=!0,s.eagerState=o,or(o,a)){var l=t.interleaved;return null===l?(s.next=s,Ei(t)):(s.next=l.next,l.next=s),void(t.interleaved=s)}}catch(c){}null!==(n=_i(e,t,s,r))&&(rc(n,e,r,s=tc()),so(n,t,r))}}function no(e){var t=e.alternate;return e===ma||null!==t&&t===ma}function ro(e,t){xa=ya=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function so(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,xt(e,n)}}var io={readContext:Si,useCallback:wa,useContext:wa,useEffect:wa,useImperativeHandle:wa,useInsertionEffect:wa,useLayoutEffect:wa,useMemo:wa,useReducer:wa,useRef:wa,useState:wa,useDebugValue:wa,useDeferredValue:wa,useTransition:wa,useMutableSource:wa,useSyncExternalStore:wa,useId:wa,unstable_isNewReconciler:!1},ao={readContext:Si,useCallback:function(e,t){return Sa().memoizedState=[e,void 0===t?null:t],e},useContext:Si,useEffect:Ba,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ua(4194308,4,Ga.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ua(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ua(4,2,e,t)},useMemo:function(e,t){var n=Sa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Sa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=eo.bind(null,ma,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Sa().memoizedState=e},useState:Ma,useDebugValue:Qa,useDeferredValue:function(e){return Sa().memoizedState=e},useTransition:function(){var e=Ma(!1),t=e[0];return e=Ja.bind(null,e[1]),Sa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ma,s=Sa();if(si){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Il)throw Error(i(349));0!==(30&fa)||Aa(r,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,Ba(Oa.bind(null,r,a,e),[e]),r.flags|=2048,Fa(9,Ra.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Sa(),t=Il.identifierPrefix;if(si){var n=Xs;t=":"+t+"R"+(n=($s&~(1<<32-at($s)-1)).toString(32)+n),0<(n=va++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ba++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},oo={readContext:Si,useCallback:Ya,useContext:Si,useEffect:qa,useImperativeHandle:Ka,useInsertionEffect:Ha,useLayoutEffect:Wa,useMemo:$a,useReducer:_a,useRef:Va,useState:function(){return _a(Ea)},useDebugValue:Qa,useDeferredValue:function(e){return Xa(Ca(),pa.memoizedState,e)},useTransition:function(){return[_a(Ea)[0],Ca().memoizedState]},useMutableSource:Ia,useSyncExternalStore:Da,useId:Za,unstable_isNewReconciler:!1},lo={readContext:Si,useCallback:Ya,useContext:Si,useEffect:qa,useImperativeHandle:Ka,useInsertionEffect:Ha,useLayoutEffect:Wa,useMemo:$a,useReducer:Ta,useRef:Va,useState:function(){return Ta(Ea)},useDebugValue:Qa,useDeferredValue:function(e){var t=Ca();return null===pa?t.memoizedState=e:Xa(t,pa.memoizedState,e)},useTransition:function(){return[Ta(Ea)[0],Ca().memoizedState]},useMutableSource:Ia,useSyncExternalStore:Da,useId:Za,unstable_isNewReconciler:!1};function co(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var s=n}catch(i){s="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:s,digest:null}}function uo(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ho(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fo="function"===typeof WeakMap?WeakMap:Map;function mo(e,t,n){(n=Ri(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wl||(Wl=!0,Gl=r),ho(0,t)},n}function po(e,t,n){(n=Ri(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){ho(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){ho(0,t),"function"!==typeof r&&(null===Kl?Kl=new Set([this]):Kl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function go(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fo;var s=new Set;r.set(t,s)}else void 0===(s=r.get(t))&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Cc.bind(null,e,t,n),t.then(e,e))}function yo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function xo(e,t,n,r,s){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ri(-1,1)).tag=2,Oi(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var vo=b.ReactCurrentOwner,bo=!1;function wo(e,t,n,r){t.child=null===e?Xi(t,null,n,r):$i(t,e.child,n,r)}function No(e,t,n,r,s){n=n.render;var i=t.ref;return ji(t,s),r=ka(e,t,n,r,i,s),n=ja(),null===e||bo?(si&&n&&ei(t),t.flags|=1,wo(e,t,r,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Wo(e,t,s))}function ko(e,t,n,r,s){if(null===e){var i=n.type;return"function"!==typeof i||Rc(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,jo(e,t,i,r,s))}if(i=e.child,0===(e.lanes&s)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Wo(e,t,s)}return t.flags|=1,(e=Oc(i,r)).ref=t.ref,e.return=t,t.child=e}function jo(e,t,n,r,s){if(null!==e){var i=e.memoizedProps;if(lr(i,r)&&e.ref===t.ref){if(bo=!1,t.pendingProps=r=i,0===(e.lanes&s))return t.lanes=e.lanes,Wo(e,t,s);0!==(131072&e.flags)&&(bo=!0)}}return Eo(e,t,n,r,s)}function So(e,t,n){var r=t.pendingProps,s=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Cs(Ol,Rl),Rl|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Cs(Ol,Rl),Rl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,Cs(Ol,Rl),Rl|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Cs(Ol,Rl),Rl|=r;return wo(e,t,s,n),t.child}function Co(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Eo(e,t,n,r,s){var i=As(n)?Is:_s.current;return i=Ds(t,i),ji(t,s),n=ka(e,t,n,r,i,s),r=ja(),null===e||bo?(si&&r&&ei(t),t.flags|=1,wo(e,t,n,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Wo(e,t,s))}function _o(e,t,n,r,s){if(As(n)){var i=!0;Ps(t)}else i=!1;if(ji(t,s),null===t.stateNode)Ho(e,t),qi(t,n,r),Wi(t,n,r,s),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Si(c):c=Ds(t,c=As(n)?Is:_s.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==c)&&Hi(t,a,r,c),Ii=!1;var h=t.memoizedState;a.state=h,Mi(t,r,a,s),l=t.memoizedState,o!==r||h!==l||Ts.current||Ii?("function"===typeof u&&(Ui(t,n,u,r),l=t.memoizedState),(o=Ii||Bi(t,n,o,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ai(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:gi(t.type,o),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Si(l):l=Ds(t,l=As(n)?Is:_s.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==d||h!==l)&&Hi(t,a,r,l),Ii=!1,h=t.memoizedState,a.state=h,Mi(t,r,a,s);var m=t.memoizedState;o!==d||h!==m||Ts.current||Ii?("function"===typeof f&&(Ui(t,n,f,r),m=t.memoizedState),(c=Ii||Bi(t,n,c,r,h,m,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,m,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,m,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),a.props=r,a.state=m,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return To(e,t,n,r,i,s)}function To(e,t,n,r,s,i){Co(e,t);var a=0!==(128&t.flags);if(!r&&!a)return s&&Ms(t,n,!1),Wo(e,t,i);r=t.stateNode,vo.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=$i(t,e.child,null,i),t.child=$i(t,null,o,i)):wo(e,t,o,i),t.memoizedState=r.state,s&&Ms(t,n,!0),t.child}function Io(e){var t=e.stateNode;t.pendingContext?Os(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Os(0,t.context,!1),ra(e,t.containerInfo)}function Do(e,t,n,r,s){return fi(),mi(s),t.flags|=256,wo(e,t,n,r),t.child}var Ao,Ro,Oo,Lo,Po={dehydrated:null,treeContext:null,retryLane:0};function Mo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fo(e,t,n){var r,s=t.pendingProps,a=oa.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Cs(oa,1&a),null===e)return ci(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=s.children,e=s.fallback,o?(s=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&s)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Mc(l,s,0,null),e=Pc(e,s,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Mo(n),t.memoizedState=Po,e):Vo(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,s,a,o){if(n)return 256&t.flags?(t.flags&=-257,Uo(e,t,o,r=uo(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,s=t.mode,r=Mc({mode:"visible",children:r.children},s,0,null),(a=Pc(a,s,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&$i(t,e.child,null,o),t.child.memoizedState=Mo(o),t.memoizedState=Po,a);if(0===(1&t.mode))return Uo(e,t,o,null);if("$!"===s.data){if(r=s.nextSibling&&s.nextSibling.dataset)var l=r.dgst;return r=l,Uo(e,t,o,r=uo(a=Error(i(419)),r,void 0))}if(l=0!==(o&e.childLanes),bo||l){if(null!==(r=Il)){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(s=0!==(s&(r.suspendedLanes|o))?0:s)&&s!==a.retryLane&&(a.retryLane=s,Ti(e,s),rc(r,e,s,-1))}return gc(),Uo(e,t,o,r=uo(Error(i(421))))}return"$?"===s.data?(t.flags|=128,t.child=e.child,t=_c.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,ri=cs(s.nextSibling),ni=t,si=!0,ii=null,null!==e&&(Ks[Qs++]=$s,Ks[Qs++]=Xs,Ks[Qs++]=Ys,$s=e.id,Xs=e.overflow,Ys=t),t=Vo(t,r.children),t.flags|=4096,t)}(e,t,l,s,r,a,n);if(o){o=s.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:s.children};return 0===(1&l)&&t.child!==a?((s=t.child).childLanes=0,s.pendingProps=c,t.deletions=null):(s=Oc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Oc(r,o):(o=Pc(o,l,n,null)).flags|=2,o.return=t,s.return=t,s.sibling=o,t.child=s,s=o,o=t.child,l=null===(l=e.child.memoizedState)?Mo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Po,s}return e=(o=e.child).sibling,s=Oc(o,{mode:"visible",children:s.children}),0===(1&t.mode)&&(s.lanes=n),s.return=t,s.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Vo(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Uo(e,t,n,r){return null!==r&&mi(r),$i(t,e.child,null,n),(e=Vo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ki(e.return,t,n)}function Bo(e,t,n,r,s){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function qo(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(wo(e,t,r.children,n),0!==(2&(r=oa.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zo(e,n,t);else if(19===e.tag)zo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Cs(oa,r),0===(1&t.mode))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;null!==n;)null!==(e=n.alternate)&&null===la(e)&&(s=n),n=n.sibling;null===(n=s)?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Bo(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===la(e)){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Bo(t,!0,n,null,i);break;case"together":Bo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ho(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ml|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Go(e,t){if(!si)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ko(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=14680064&s.subtreeFlags,r|=14680064&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qo(e,t,n){var r=t.pendingProps;switch(ti(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ko(t),null;case 1:case 17:return As(t.type)&&Rs(),Ko(t),null;case 3:return r=t.stateNode,sa(),Ss(Ts),Ss(_s),ua(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(di(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ii&&(oc(ii),ii=null))),Ro(e,t),Ko(t),null;case 5:aa(t);var s=na(ta.current);if(n=t.type,null!==e&&null!=t.stateNode)Oo(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Ko(t),null}if(e=na(Zi.current),di(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hs]=t,r[fs]=a,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(s=0;s<Lr.length;s++)Vr(Lr[s],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":$(r,a),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Vr("invalid",r);break;case"textarea":se(r,a),Vr("invalid",r)}for(var l in xe(n,a),s=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),s=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),s=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Vr("scroll",r)}switch(n){case"input":G(r),Z(r,a,!0);break;case"textarea":G(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=s,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===s.nodeType?s:s.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hs]=t,e[fs]=r,Ao(e,t,!1,!1),t.stateNode=e;e:{switch(l=ve(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),s=r;break;case"iframe":case"object":case"embed":Vr("load",e),s=r;break;case"video":case"audio":for(s=0;s<Lr.length;s++)Vr(Lr[s],e);s=r;break;case"source":Vr("error",e),s=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),s=r;break;case"details":Vr("toggle",e),s=r;break;case"input":$(e,r),s=Y(e,r),Vr("invalid",e);break;case"option":default:s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=M({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":se(e,r),s=re(e,r),Vr("invalid",e)}for(a in xe(n,s),c=s)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Vr("scroll",e):null!=u&&v(e,a,u,l))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof s.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ko(t),null;case 6:if(e&&null!=t.stateNode)Lo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=na(ta.current),na(Zi.current),di(t)){if(r=t.stateNode,n=t.memoizedProps,r[hs]=t,(a=r.nodeValue!==n)&&null!==(e=ni))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hs]=t,t.stateNode=r}return Ko(t),null;case 13:if(Ss(oa),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(si&&null!==ri&&0!==(1&t.mode)&&0===(128&t.flags))hi(),fi(),t.flags|=98560,a=!1;else if(a=di(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(i(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(i(317));a[hs]=t}else fi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ko(t),a=!1}else null!==ii&&(oc(ii),ii=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&oa.current)?0===Ll&&(Ll=3):gc())),null!==t.updateQueue&&(t.flags|=4),Ko(t),null);case 4:return sa(),Ro(e,t),null===e&&Br(t.stateNode.containerInfo),Ko(t),null;case 10:return Ni(t.type._context),Ko(t),null;case 19:if(Ss(oa),null===(a=t.memoizedState))return Ko(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Go(a,!1);else{if(0!==Ll||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=la(e))){for(t.flags|=128,Go(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Cs(oa,1&oa.current|2),t.child}e=e.sibling}null!==a.tail&&Xe()>ql&&(t.flags|=128,r=!0,Go(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=la(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Go(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!si)return Ko(t),null}else 2*Xe()-a.renderingStartTime>ql&&1073741824!==n&&(t.flags|=128,r=!0,Go(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xe(),t.sibling=null,n=oa.current,Cs(oa,r?1&n|2:1&n),t):(Ko(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Rl)&&(Ko(t),6&t.subtreeFlags&&(t.flags|=8192)):Ko(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Yo(e,t){switch(ti(t),t.tag){case 1:return As(t.type)&&Rs(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return sa(),Ss(Ts),Ss(_s),ua(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return aa(t),null;case 13:if(Ss(oa),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));fi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ss(oa),null;case 4:return sa(),null;case 10:return Ni(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Ao=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ro=function(){},Oo=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,na(Zi.current);var i,a=null;switch(n){case"input":s=Y(e,s),r=Y(e,r),a=[];break;case"select":s=M({},s,{value:void 0}),r=M({},r,{value:void 0}),a=[];break;case"textarea":s=re(e,s),r=re(e,r),a=[];break;default:"function"!==typeof s.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in xe(n,r),n=null,s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&null!=s[u])if("style"===u){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=s?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Vr("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Lo=function(e,t,n,r){n!==r&&(t.flags|=4)};var $o=!1,Xo=!1,Jo="function"===typeof WeakSet?WeakSet:Set,Zo=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,void 0!==i&&tl(t,n,i)}s=s.next}while(s!==r)}}function sl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hs],delete t[fs],delete t[ps],delete t[gs],delete t[ys])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var dl=null,hl=!1;function fl(e,t,n){for(n=n.child;null!==n;)ml(e,t,n),n=n.sibling}function ml(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(st,n)}catch(o){}switch(n.tag){case 5:Xo||el(n,t);case 6:var r=dl,s=hl;dl=null,fl(e,t,n),hl=s,null!==(dl=r)&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?ls(e.parentNode,n):1===e.nodeType&&ls(e,n),Bt(e)):ls(dl,n.stateNode));break;case 4:r=dl,s=hl,dl=n.stateNode.containerInfo,hl=!0,fl(e,t,n),dl=r,hl=s;break;case 0:case 11:case 14:case 15:if(!Xo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,void 0!==a&&(0!==(2&i)||0!==(4&i))&&tl(n,t,a),s=s.next}while(s!==r)}fl(e,t,n);break;case 1:if(!Xo&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Sc(n,t,o)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Xo=(r=Xo)||null!==n.memoizedState,fl(e,t,n),Xo=r):fl(e,t,n);break;default:fl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Jo),t.forEach((function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var s=n[r];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,hl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===dl)throw Error(i(160));ml(a,o,s),dl=null,hl=!1;var c=s.alternate;null!==c&&(c.return=null),s.return=null}catch(u){Sc(s,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yl(t,e),t=t.sibling}function yl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),xl(e),4&r){try{rl(3,e,e.return),sl(3,e)}catch(g){Sc(e,e.return,g)}try{rl(5,e,e.return)}catch(g){Sc(e,e.return,g)}}break;case 1:gl(t,e),xl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),xl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var s=e.stateNode;try{he(s,"")}catch(g){Sc(e,e.return,g)}}if(4&r&&null!=(s=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&X(s,a),ve(l,o);var u=ve(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];"style"===d?ge(s,h):"dangerouslySetInnerHTML"===d?de(s,h):"children"===d?he(s,h):v(s,d,h,u)}switch(l){case"input":J(s,a);break;case"textarea":ie(s,a);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var m=a.value;null!=m?ne(s,!!a.multiple,m,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(s,!!a.multiple,a.defaultValue,!0):ne(s,!!a.multiple,a.multiple?[]:"",!1))}s[fs]=a}catch(g){Sc(e,e.return,g)}}break;case 6:if(gl(t,e),xl(e),4&r){if(null===e.stateNode)throw Error(i(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(g){Sc(e,e.return,g)}}break;case 3:if(gl(t,e),xl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){Sc(e,e.return,g)}break;case 4:default:gl(t,e),xl(e);break;case 13:gl(t,e),xl(e),8192&(s=e.child).flags&&(a=null!==s.memoizedState,s.stateNode.isHidden=a,!a||null!==s.alternate&&null!==s.alternate.memoizedState||(Bl=Xe())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Xo=(u=Xo)||d,gl(t,e),Xo=u):gl(t,e),xl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Zo=e,d=e.child;null!==d;){for(h=Zo=d;null!==Zo;){switch(m=(f=Zo).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var p=f.stateNode;if("function"===typeof p.componentWillUnmount){r=f,n=f.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){Sc(r,n,g)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){Nl(h);continue}}null!==m?(m.return=f,Zo=m):Nl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{s=h.stateNode,u?"function"===typeof(a=s.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=pe("display",o))}catch(g){Sc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Sc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gl(t,e),xl(e),4&r&&pl(e);case 21:}}function xl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var s=r.stateNode;32&r.flags&&(he(s,""),r.flags&=-33),ul(e,ll(e),s);break;case 3:case 4:var a=r.stateNode.containerInfo;cl(e,ll(e),a);break;default:throw Error(i(161))}}catch(o){Sc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Zo=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Zo;){var s=Zo,i=s.child;if(22===s.tag&&r){var a=null!==s.memoizedState||$o;if(!a){var o=s.alternate,l=null!==o&&null!==o.memoizedState||Xo;o=$o;var c=Xo;if($o=a,(Xo=l)&&!c)for(Zo=s;null!==Zo;)l=(a=Zo).child,22===a.tag&&null!==a.memoizedState?kl(s):null!==l?(l.return=a,Zo=l):kl(s);for(;null!==i;)Zo=i,bl(i,t,n),i=i.sibling;Zo=s,$o=o,Xo=c}wl(e)}else 0!==(8772&s.subtreeFlags)&&null!==i?(i.return=s,Zo=i):wl(e)}}function wl(e){for(;null!==Zo;){var t=Zo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xo||sl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xo)if(null===n)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:gi(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Fi(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fi(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(i(163))}Xo||512&t.flags&&il(t)}catch(f){Sc(t,t.return,f)}}if(t===e){Zo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zo=n;break}Zo=t.return}}function Nl(e){for(;null!==Zo;){var t=Zo;if(t===e){Zo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zo=n;break}Zo=t.return}}function kl(e){for(;null!==Zo;){var t=Zo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{sl(4,t)}catch(l){Sc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var s=t.return;try{r.componentDidMount()}catch(l){Sc(t,s,l)}}var i=t.return;try{il(t)}catch(l){Sc(t,i,l)}break;case 5:var a=t.return;try{il(t)}catch(l){Sc(t,a,l)}}}catch(l){Sc(t,t.return,l)}if(t===e){Zo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Zo=o;break}Zo=t.return}}var jl,Sl=Math.ceil,Cl=b.ReactCurrentDispatcher,El=b.ReactCurrentOwner,_l=b.ReactCurrentBatchConfig,Tl=0,Il=null,Dl=null,Al=0,Rl=0,Ol=js(0),Ll=0,Pl=null,Ml=0,Fl=0,Vl=0,Ul=null,zl=null,Bl=0,ql=1/0,Hl=null,Wl=!1,Gl=null,Kl=null,Ql=!1,Yl=null,$l=0,Xl=0,Jl=null,Zl=-1,ec=0;function tc(){return 0!==(6&Tl)?Xe():-1!==Zl?Zl:Zl=Xe()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Tl)&&0!==Al?Al&-Al:null!==pi.transition?(0===ec&&(ec=pt()),ec):0!==(e=vt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function rc(e,t,n,r){if(50<Xl)throw Xl=0,Jl=null,Error(i(185));yt(e,n,r),0!==(2&Tl)&&e===Il||(e===Il&&(0===(2&Tl)&&(Fl|=n),4===Ll&&lc(e,Al)),sc(e,r),1===n&&0===Tl&&0===(1&t.mode)&&(ql=Xe()+500,Vs&&Bs()))}function sc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-at(i),o=1<<a,l=s[a];-1===l?0!==(o&n)&&0===(o&r)||(s[a]=ft(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}(e,t);var r=ht(e,e===Il?Al:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Vs=!0,zs(e)}(cc.bind(null,e)):zs(cc.bind(null,e)),as((function(){0===(6&Tl)&&Bs()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ic(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Zl=-1,ec=0,0!==(6&Tl))throw Error(i(327));var n=e.callbackNode;if(kc()&&e.callbackNode!==n)return null;var r=ht(e,e===Il?Al:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var s=Tl;Tl|=2;var a=pc();for(Il===e&&Al===t||(Hl=null,ql=Xe()+500,fc(e,t));;)try{vc();break}catch(l){mc(e,l)}wi(),Cl.current=a,Tl=s,null!==Dl?t=0:(Il=null,Al=0,t=Ll)}if(0!==t){if(2===t&&(0!==(s=mt(e))&&(r=s,t=ac(e,s))),1===t)throw n=Pl,fc(e,0),lc(e,r),sc(e,Xe()),n;if(6===t)lc(e,r);else{if(s=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!or(i(),s))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(s)&&(2===(t=yc(e,r))&&(0!==(a=mt(e))&&(r=a,t=ac(e,a))),1===t))throw n=Pl,fc(e,0),lc(e,r),sc(e,Xe()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:Nc(e,zl,Hl);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=Bl+500-Xe())){if(0!==ht(e,0))break;if(((s=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=rs(Nc.bind(null,e,zl,Hl),t);break}Nc(e,zl,Hl);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-at(r);a=1<<o,(o=t[o])>s&&(s=o),r&=~a}if(r=s,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sl(r/1960))-r)){e.timeoutHandle=rs(Nc.bind(null,e,zl,Hl),r);break}Nc(e,zl,Hl);break;default:throw Error(i(329))}}}return sc(e,Xe()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=zl,zl=n,null!==t&&oc(t)),e}function oc(e){null===zl?zl=e:zl.push.apply(zl,e)}function lc(e,t){for(t&=~Vl,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Tl))throw Error(i(327));kc();var t=ht(e,0);if(0===(1&t))return sc(e,Xe()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=mt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Pl,fc(e,0),lc(e,t),sc(e,Xe()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Nc(e,zl,Hl),sc(e,Xe()),null}function uc(e,t){var n=Tl;Tl|=1;try{return e(t)}finally{0===(Tl=n)&&(ql=Xe()+500,Vs&&Bs())}}function dc(e){null!==Yl&&0===Yl.tag&&0===(6&Tl)&&kc();var t=Tl;Tl|=1;var n=_l.transition,r=vt;try{if(_l.transition=null,vt=1,e)return e()}finally{vt=r,_l.transition=n,0===(6&(Tl=t))&&Bs()}}function hc(){Rl=Ol.current,Ss(Ol)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ss(n)),null!==Dl)for(n=Dl.return;null!==n;){var r=n;switch(ti(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Rs();break;case 3:sa(),Ss(Ts),Ss(_s),ua();break;case 5:aa(r);break;case 4:sa();break;case 13:case 19:Ss(oa);break;case 10:Ni(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Il=e,Dl=e=Oc(e.current,null),Al=Rl=t,Ll=0,Pl=null,Vl=Fl=Ml=0,zl=Ul=null,null!==Ci){for(t=0;t<Ci.length;t++)if(null!==(r=(n=Ci[t]).interleaved)){n.interleaved=null;var s=r.next,i=n.pending;if(null!==i){var a=i.next;i.next=s,r.next=a}n.pending=r}Ci=null}return e}function mc(e,t){for(;;){var n=Dl;try{if(wi(),da.current=io,ya){for(var r=ma.memoizedState;null!==r;){var s=r.queue;null!==s&&(s.pending=null),r=r.next}ya=!1}if(fa=0,ga=pa=ma=null,xa=!1,va=0,El.current=null,null===n||null===n.return){Ll=1,Pl=t,Dl=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Al,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=yo(o);if(null!==m){m.flags&=-257,xo(m,o,l,0,t),1&m.mode&&go(a,u,t),c=u;var p=(t=m).updateQueue;if(null===p){var g=new Set;g.add(c),t.updateQueue=g}else p.add(c);break e}if(0===(1&t)){go(a,u,t),gc();break e}c=Error(i(426))}else if(si&&1&l.mode){var y=yo(o);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),xo(y,o,l,0,t),mi(co(c,l));break e}}a=c=co(c,l),4!==Ll&&(Ll=2),null===Ul?Ul=[a]:Ul.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Pi(a,mo(0,c,t));break e;case 1:l=c;var x=a.type,v=a.stateNode;if(0===(128&a.flags)&&("function"===typeof x.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===Kl||!Kl.has(v)))){a.flags|=65536,t&=-t,a.lanes|=t,Pi(a,po(a,l,t));break e}}a=a.return}while(null!==a)}wc(n)}catch(b){t=b,Dl===n&&null!==n&&(Dl=n=n.return);continue}break}}function pc(){var e=Cl.current;return Cl.current=io,null===e?io:e}function gc(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===Il||0===(268435455&Ml)&&0===(268435455&Fl)||lc(Il,Al)}function yc(e,t){var n=Tl;Tl|=2;var r=pc();for(Il===e&&Al===t||(Hl=null,fc(e,t));;)try{xc();break}catch(s){mc(e,s)}if(wi(),Tl=n,Cl.current=r,null!==Dl)throw Error(i(261));return Il=null,Al=0,Ll}function xc(){for(;null!==Dl;)bc(Dl)}function vc(){for(;null!==Dl&&!Ye();)bc(Dl)}function bc(e){var t=jl(e.alternate,e,Rl);e.memoizedProps=e.pendingProps,null===t?wc(e):Dl=t,El.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qo(n,t,Rl)))return void(Dl=n)}else{if(null!==(n=Yo(n,t)))return n.flags&=32767,void(Dl=n);if(null===e)return Ll=6,void(Dl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Dl=t);Dl=t=e}while(null!==t);0===Ll&&(Ll=5)}function Nc(e,t,n){var r=vt,s=_l.transition;try{_l.transition=null,vt=1,function(e,t,n,r){do{kc()}while(null!==Yl);if(0!==(6&Tl))throw Error(i(327));n=e.finishedWork;var s=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-at(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}(e,a),e===Il&&(Dl=Il=null,Al=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ql||(Ql=!0,Ic(tt,(function(){return kc(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=_l.transition,_l.transition=null;var o=vt;vt=1;var l=Tl;Tl|=4,El.current=null,function(e,t){if(es=Ht,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(w){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var m;h!==n||0!==s&&3!==h.nodeType||(l=o+s),h!==a||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(m=h.firstChild);)f=h,h=m;for(;;){if(h===e)break t;if(f===n&&++u===s&&(l=o),f===a&&++d===r&&(c=o),null!==(m=h.nextSibling))break;f=(h=f).parentNode}h=m}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ts={focusedElem:e,selectionRange:n},Ht=!1,Zo=t;null!==Zo;)if(e=(t=Zo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zo=e;else for(;null!==Zo;){t=Zo;try{var p=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var g=p.memoizedProps,y=p.memoizedState,x=t.stateNode,v=x.getSnapshotBeforeUpdate(t.elementType===t.type?g:gi(t.type,g),y);x.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(i(163))}}catch(w){Sc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zo=e;break}Zo=t.return}p=nl,nl=!1}(e,n),yl(n,e),mr(ts),Ht=!!es,ts=es=null,e.current=n,vl(n,e,s),$e(),Tl=l,vt=o,_l.transition=a}else e.current=n;if(Ql&&(Ql=!1,Yl=e,$l=s),a=e.pendingLanes,0===a&&(Kl=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(st,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),sc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Wl)throw Wl=!1,e=Gl,Gl=null,e;0!==(1&$l)&&0!==e.tag&&kc(),a=e.pendingLanes,0!==(1&a)?e===Jl?Xl++:(Xl=0,Jl=e):Xl=0,Bs()}(e,t,n,r)}finally{_l.transition=s,vt=r}return null}function kc(){if(null!==Yl){var e=bt($l),t=_l.transition,n=vt;try{if(_l.transition=null,vt=16>e?16:e,null===Yl)var r=!1;else{if(e=Yl,Yl=null,$l=0,0!==(6&Tl))throw Error(i(331));var s=Tl;for(Tl|=4,Zo=e.current;null!==Zo;){var a=Zo,o=a.child;if(0!==(16&Zo.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Zo=u;null!==Zo;){var d=Zo;switch(d.tag){case 0:case 11:case 15:rl(8,d,a)}var h=d.child;if(null!==h)h.return=d,Zo=h;else for(;null!==Zo;){var f=(d=Zo).sibling,m=d.return;if(al(d),d===u){Zo=null;break}if(null!==f){f.return=m,Zo=f;break}Zo=m}}}var p=a.alternate;if(null!==p){var g=p.child;if(null!==g){p.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Zo=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,Zo=o;else e:for(;null!==Zo;){if(0!==(2048&(a=Zo).flags))switch(a.tag){case 0:case 11:case 15:rl(9,a,a.return)}var x=a.sibling;if(null!==x){x.return=a.return,Zo=x;break e}Zo=a.return}}var v=e.current;for(Zo=v;null!==Zo;){var b=(o=Zo).child;if(0!==(2064&o.subtreeFlags)&&null!==b)b.return=o,Zo=b;else e:for(o=v;null!==Zo;){if(0!==(2048&(l=Zo).flags))try{switch(l.tag){case 0:case 11:case 15:sl(9,l)}}catch(N){Sc(l,l.return,N)}if(l===o){Zo=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Zo=w;break e}Zo=l.return}}if(Tl=s,Bs(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(st,e)}catch(N){}r=!0}return r}finally{vt=n,_l.transition=t}}return!1}function jc(e,t,n){e=Oi(e,t=mo(0,t=co(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),sc(e,t))}function Sc(e,t,n){if(3===e.tag)jc(e,e,n);else for(;null!==t;){if(3===t.tag){jc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Kl||!Kl.has(r))){t=Oi(t,e=po(t,e=co(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),sc(t,e));break}}t=t.return}}function Cc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Il===e&&(Al&n)===n&&(4===Ll||3===Ll&&(130023424&Al)===Al&&500>Xe()-Bl?fc(e,0):Vl|=n),sc(e,t)}function Ec(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=Ti(e,t))&&(yt(e,t,n),sc(e,n))}function _c(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ec(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),Ec(e,n)}function Ic(e,t){return Ke(e,t)}function Dc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(e,t,n,r){return new Dc(e,t,n,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Ac(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,s,a){var o=2;if(r=e,"function"===typeof e)Rc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case k:return Pc(n.children,s,a,t);case j:o=8,s|=8;break;case S:return(e=Ac(12,n,t,2|s)).elementType=S,e.lanes=a,e;case T:return(e=Ac(13,n,t,s)).elementType=T,e.lanes=a,e;case I:return(e=Ac(19,n,t,s)).elementType=I,e.lanes=a,e;case R:return Mc(n,s,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:o=10;break e;case E:o=9;break e;case _:o=11;break e;case D:o=14;break e;case A:o=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Ac(o,n,t,s)).elementType=e,t.type=r,t.lanes=a,t}function Pc(e,t,n,r){return(e=Ac(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Ac(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Ac(6,e,null,t)).lanes=n,e}function Vc(e,t,n){return(t=Ac(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,s,i,a,o,l){return e=new Uc(e,t,n,o,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Ac(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Di(i),e}function Bc(e){if(!e)return Es;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(As(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(As(n))return Ls(e,n,t)}return t}function qc(e,t,n,r,s,i,a,o,l){return(e=zc(n,r,!0,e,0,i,0,o,l)).context=Bc(null),n=e.current,(i=Ri(r=tc(),s=nc(n))).callback=void 0!==t&&null!==t?t:null,Oi(n,i,s),e.current.lanes=s,yt(e,s,r),sc(e,r),e}function Hc(e,t,n,r){var s=t.current,i=tc(),a=nc(s);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ri(i,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Oi(s,t,a))&&(rc(e,s,a,i),Li(e,s,a)),a}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}jl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ts.current)bo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bo=!1,function(e,t,n){switch(t.tag){case 3:Io(t),fi();break;case 5:ia(t);break;case 1:As(t.type)&&Ps(t);break;case 4:ra(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Cs(yi,r._currentValue),r._currentValue=s;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Cs(oa,1&oa.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fo(e,t,n):(Cs(oa,1&oa.current),null!==(e=Wo(e,t,n))?e.sibling:null);Cs(oa,1&oa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qo(e,t,n);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),Cs(oa,oa.current),r)break;return null;case 22:case 23:return t.lanes=0,So(e,t,n)}return Wo(e,t,n)}(e,t,n);bo=0!==(131072&e.flags)}else bo=!1,si&&0!==(1048576&t.flags)&&Zs(t,Gs,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ho(e,t),e=t.pendingProps;var s=Ds(t,_s.current);ji(t,n),s=ka(null,t,r,e,s,n);var a=ja();return t.flags|=1,"object"===typeof s&&null!==s&&"function"===typeof s.render&&void 0===s.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,As(r)?(a=!0,Ps(t)):a=!1,t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,Di(t),s.updater=zi,t.stateNode=s,s._reactInternals=t,Wi(t,r,e,n),t=To(null,t,r,!0,a,n)):(t.tag=0,si&&a&&ei(t),wo(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ho(e,t),e=t.pendingProps,r=(s=r._init)(r._payload),t.type=r,s=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===_)return 11;if(e===D)return 14}return 2}(r),e=gi(r,e),s){case 0:t=Eo(null,t,r,e,n);break e;case 1:t=_o(null,t,r,e,n);break e;case 11:t=No(null,t,r,e,n);break e;case 14:t=ko(null,t,r,gi(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,Eo(e,t,r,s=t.elementType===r?s:gi(r,s),n);case 1:return r=t.type,s=t.pendingProps,_o(e,t,r,s=t.elementType===r?s:gi(r,s),n);case 3:e:{if(Io(t),null===e)throw Error(i(387));r=t.pendingProps,s=(a=t.memoizedState).element,Ai(e,t),Mi(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Do(e,t,r,n,s=co(Error(i(423)),t));break e}if(r!==s){t=Do(e,t,r,n,s=co(Error(i(424)),t));break e}for(ri=cs(t.stateNode.containerInfo.firstChild),ni=t,si=!0,ii=null,n=Xi(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fi(),r===s){t=Wo(e,t,n);break e}wo(e,t,r,n)}t=t.child}return t;case 5:return ia(t),null===e&&ci(t),r=t.type,s=t.pendingProps,a=null!==e?e.memoizedProps:null,o=s.children,ns(r,s)?o=null:null!==a&&ns(r,a)&&(t.flags|=32),Co(e,t),wo(e,t,o,n),t.child;case 6:return null===e&&ci(t),null;case 13:return Fo(e,t,n);case 4:return ra(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$i(t,null,r,n):wo(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,No(e,t,r,s=t.elementType===r?s:gi(r,s),n);case 7:return wo(e,t,t.pendingProps,n),t.child;case 8:case 12:return wo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,Cs(yi,r._currentValue),r._currentValue=o,null!==a)if(or(a.value,o)){if(a.children===s.children&&!Ts.current){t=Wo(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Ri(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),ki(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(i(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),ki(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}wo(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,ji(t,n),r=r(s=Si(s)),t.flags|=1,wo(e,t,r,n),t.child;case 14:return s=gi(r=t.type,t.pendingProps),ko(e,t,r,s=gi(r.type,s),n);case 15:return jo(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:gi(r,s),Ho(e,t),t.tag=1,As(r)?(e=!0,Ps(t)):e=!1,ji(t,n),qi(t,r,s),Wi(t,r,s,n),To(null,t,r,!0,e,n);case 19:return qo(e,t,n);case 22:return So(e,t,n)}throw Error(i(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function eu(e,t,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if("function"===typeof s){var o=s;s=function(){var e=Wc(a);o.call(e)}}Hc(t,a,e,s)}else a=function(e,t,n,r,s){if(s){if("function"===typeof r){var i=r;r=function(){var e=Wc(a);i.call(e)}}var a=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=a,e[ms]=a.current,Br(8===e.nodeType?e.parentNode:e),dc(),a}for(;s=e.lastChild;)e.removeChild(s);if("function"===typeof r){var o=r;r=function(){var e=Wc(l);o.call(e)}}var l=zc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[ms]=l.current,Br(8===e.nodeType?e.parentNode:e),dc((function(){Hc(t,l,n,r)})),l}(n,t,e,s,r);return Wc(a)}$c.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Hc(e,t,null,null)},$c.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){Hc(null,e,null,null)})),t[ms]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=jt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Mt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(xt(t,1|n),sc(t,Xe()),0===(6&Tl)&&(ql=Xe()+500,Bs()))}break;case 13:dc((function(){var t=Ti(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Kc(e,1)}},Nt=function(e){if(13===e.tag){var t=Ti(e,134217728);if(null!==t)rc(t,e,134217728,tc());Kc(e,134217728)}},kt=function(e){if(13===e.tag){var t=nc(e),n=Ti(e,t);if(null!==n)rc(n,e,t,tc());Kc(e,t)}},jt=function(){return vt},St=function(e,t){var n=vt;try{return vt=e,t()}finally{vt=n}},Ne=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=ws(r);if(!s)throw Error(i(90));K(r),J(r,s)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},_e=uc,Te=dc;var tu={usingClientEntryPoint:!1,Events:[vs,bs,ws,Ce,Ee,uc]},nu={findFiberByHostInstance:xs,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var su=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!su.isDisabled&&su.supportsFiber)try{st=su.inject(ru),it=su}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:N,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(i(299));var n=!1,r="",s=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,s),e[ms]=t.current,Br(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(i(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,s=!1,a="",o=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(s=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,s,0,a,o),e[ms]=t.current,Br(e),r)for(e=0;e<r.length;e++)s=(s=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new $c(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(i(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(i(40));return!!e._reactRootContainer&&(dc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[ms]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:(e,t,n)=>{var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:(e,t,n)=>{var r=n(791),s=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:s,type:e,key:c,ref:u,props:i,_owner:o.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},117:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}function x(){}function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=y.prototype;var b=v.prototype=new x;b.constructor=v,p(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,N=Object.prototype.hasOwnProperty,k={current:null},j={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var s,i={},a=null,o=null;if(null!=t)for(s in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)N.call(t,s)&&!j.hasOwnProperty(s)&&(i[s]=t[s]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps)void 0===i[s]&&(i[s]=l[s]);return{$$typeof:n,type:e,key:a,ref:o,props:i,_owner:k.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function _(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,s,i,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===i?"."+_(l,0):i,w(a)?(s="",null!=e&&(s=e.replace(E,"$&/")+"/"),T(a,t,s,"",(function(e){return e}))):null!=a&&(C(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,s+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(E,"$&/")+"/")+e)),t.push(a)),1;if(l=0,i=""===i?".":i+":",w(e))for(var c=0;c<e.length;c++){var u=i+_(o=e[c],c);l+=T(o,t,s,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=T(o=o.value,t,s,u=i+_(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function I(e,t,n){if(null==e)return e;var r=[],s=0;return T(e,r,"","",(function(e){return t.call(n,e,s++)})),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},R={transition:null},O={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:R,ReactCurrentOwner:k};t.Children={map:I,forEach:function(e,t,n){I(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=s,t.Profiler=a,t.PureComponent=v,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=p({},e.props),i=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=k.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)N.call(t,c)&&!j.hasOwnProperty(c)&&(s[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)s.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}return{$$typeof:n,type:e.type,key:i,ref:a,props:s,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,n){return A.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,n){return A.current.useReducer(e,t,n)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return A.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return A.current.useTransition()},t.version="18.2.0"},791:(e,t,n)=>{e.exports=n(117)},184:(e,t,n)=>{e.exports=n(374)},813:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,s=e[r];if(!(0<i(s,t)))break e;e[r]=t,e[n]=s,n=r}}function r(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,s=e.length,a=s>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>i(l,n))c<s&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<s&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,m=!1,p=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,x="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)s(u);else{if(!(t.startTime<=e))break;s(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,b(e),!p)if(null!==r(c))p=!0,R(N);else{var t=r(u);null!==t&&O(w,t.startTime-e)}}function N(e,n){p=!1,g&&(g=!1,x(C),C=-1),m=!0;var i=f;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!T());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var o=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(c)&&s(c),b(n)}else s(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&O(w,d.startTime-n),l=!1}return l}finally{h=null,f=i,m=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,j=!1,S=null,C=-1,E=5,_=-1;function T(){return!(t.unstable_now()-_<E)}function I(){if(null!==S){var e=t.unstable_now();_=e;var n=!0;try{n=S(!0,e)}finally{n?k():(j=!1,S=null)}}else j=!1}if("function"===typeof v)k=function(){v(I)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,A=D.port2;D.port1.onmessage=I,k=function(){A.postMessage(null)}}else k=function(){y(I,0)};function R(e){S=e,j||(j=!0,k())}function O(e,n){C=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||m||(p=!0,R(N))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,s,i){var a=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?a+i:a:i=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:s,priorityLevel:e,startTime:i,expirationTime:o=i+o,sortIndex:-1},i>a?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(g?(x(C),C=-1):g=!0,O(w,i-a))):(e.sortIndex=o,n(c,e),p||m||(p=!0,R(N))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},296:(e,t,n)=>{e.exports=n(813)}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,s){if(1&s&&(r=this(r)),8&s)return r;if("object"===typeof r&&r){if(4&s&&r.__esModule)return r;if(16&s&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&s&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(i,a),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e,t=n(791),r=n.t(t,2),s=n(250),i=n(164),a=n.t(i,2);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));const l="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function d(e,t){return{usr:e.state,key:e.key,idx:t}}function h(e,t,n,r){return void 0===n&&(n=null),o({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?m(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function f(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function m(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function p(t,n,r,s){void 0===s&&(s={});let{window:i=document.defaultView,v5Compat:a=!1}=s,u=i.history,m=e.Pop,p=null,g=y();function y(){return(u.state||{idx:null}).idx}function x(){m=e.Pop;let t=y(),n=null==t?null:t-g;g=t,p&&p({action:m,location:b.location,delta:n})}function v(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:f(e);return c(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,u.replaceState(o({},u.state,{idx:g}),""));let b={get action(){return m},get location(){return t(i,u)},listen(e){if(p)throw new Error("A history only accepts one active listener");return i.addEventListener(l,x),p=e,()=>{i.removeEventListener(l,x),p=null}},createHref:e=>n(i,e),createURL:v,encodeLocation(e){let t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(t,n){m=e.Push;let s=h(b.location,t,n);r&&r(s,t),g=y()+1;let o=d(s,g),l=b.createHref(s);try{u.pushState(o,"",l)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;i.location.assign(l)}a&&p&&p({action:m,location:b.location,delta:1})},replace:function(t,n){m=e.Replace;let s=h(b.location,t,n);r&&r(s,t),g=y();let i=d(s,g),o=b.createHref(s);u.replaceState(i,"",o),a&&p&&p({action:m,location:b.location,delta:0})},go:e=>u.go(e)};return b}var g;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(g||(g={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function y(e,t,n){void 0===n&&(n="/");let r=D(("string"===typeof t?m(t):t).pathname||"/",n);if(null==r)return null;let s=x(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(s);let i=null;for(let a=0;null==i&&a<s.length;++a)i=_(s[a],I(r));return i}function x(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let s=(e,s,i)=>{let a={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};a.relativePath.startsWith("/")&&(c(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let o=P([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),x(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:E(o,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of v(e.path))s(e,t,r);else s(e,t)})),t}function v(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return s?[i,""]:[i];let a=v(r.join("/")),o=[];return o.push(...a.map((e=>""===e?i:[i,e].join("/")))),s&&o.push(...a),o.map((t=>e.startsWith("/")&&""===t?"/":t))}const b=/^:[\w-]+$/,w=3,N=2,k=1,j=10,S=-2,C=e=>"*"===e;function E(e,t){let n=e.split("/"),r=n.length;return n.some(C)&&(r+=S),t&&(r+=N),n.filter((e=>!C(e))).reduce(((e,t)=>e+(b.test(t)?w:""===t?k:j)),r)}function _(e,t){let{routesMeta:n}=e,r={},s="/",i=[];for(let a=0;a<n.length;++a){let e=n[a],o=a===n.length-1,l="/"===s?t:t.slice(s.length)||"/",c=T({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},l);if(!c)return null;Object.assign(r,c.params);let u=e.route;i.push({params:r,pathname:P([s,c.pathname]),pathnameBase:M(P([s,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(s=P([s,c.pathnameBase]))}return i}function T(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),s+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":""!==e&&"/"!==e&&(s+="(?:(?=\\/|$))");let i=new RegExp(s,t?void 0:"i");return[i,r]}(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:s}=t;if("*"===r){let e=o[n]||"";a=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=s&&!l?void 0:function(e,t){try{return decodeURIComponent(e)}catch(n){return u(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(l||"",r),e}),{}),pathname:i,pathnameBase:a,pattern:e}}function I(e){try{return decodeURI(e)}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function D(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function A(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function R(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function O(e,t){let n=R(e);return t?n.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)):n.map((e=>e.pathnameBase))}function L(e,t,n,r){let s;void 0===r&&(r=!1),"string"===typeof e?s=m(e):(s=o({},e),c(!s.pathname||!s.pathname.includes("?"),A("?","pathname","search",s)),c(!s.pathname||!s.pathname.includes("#"),A("#","pathname","hash",s)),c(!s.search||!s.search.includes("#"),A("#","search","hash",s)));let i,a=""===e||""===s.pathname,l=a?"/":s.pathname;if(null==l)i=n;else{let e=t.length-1;if(!r&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;s.pathname=t.join("/")}i=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:s=""}="string"===typeof e?m(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:F(r),hash:V(s)}}(s,i),d=l&&"/"!==l&&l.endsWith("/"),h=(a||"."===l)&&n.endsWith("/");return u.pathname.endsWith("/")||!d&&!h||(u.pathname+="/"),u}const P=e=>e.join("/").replace(/\/\/+/g,"/"),M=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),F=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",V=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function U(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const z=["post","put","patch","delete"],B=(new Set(z),["get",...z]);new Set(B),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q.apply(this,arguments)}const H=t.createContext(null);const W=t.createContext(null);const G=t.createContext(null);const K=t.createContext(null);const Q=t.createContext({outlet:null,matches:[],isDataRoute:!1});const Y=t.createContext(null);function $(){return null!=t.useContext(K)}function X(){return $()||c(!1),t.useContext(K).location}function J(e){t.useContext(G).static||t.useLayoutEffect(e)}function Z(){let{isDataRoute:e}=t.useContext(Q);return e?function(){let{router:e}=ce(oe.UseNavigateStable),n=de(le.UseNavigateStable),r=t.useRef(!1);return J((()=>{r.current=!0})),t.useCallback((function(t,s){void 0===s&&(s={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,q({fromRouteId:n},s)))}),[e,n])}():function(){$()||c(!1);let e=t.useContext(H),{basename:n,future:r,navigator:s}=t.useContext(G),{matches:i}=t.useContext(Q),{pathname:a}=X(),o=JSON.stringify(O(i,r.v7_relativeSplatPath)),l=t.useRef(!1);return J((()=>{l.current=!0})),t.useCallback((function(t,r){if(void 0===r&&(r={}),!l.current)return;if("number"===typeof t)return void s.go(t);let i=L(t,JSON.parse(o),a,"path"===r.relative);null==e&&"/"!==n&&(i.pathname="/"===i.pathname?n:P([n,i.pathname])),(r.replace?s.replace:s.push)(i,r.state,r)}),[n,s,o,a,e])}()}function ee(e,n){let{relative:r}=void 0===n?{}:n,{future:s}=t.useContext(G),{matches:i}=t.useContext(Q),{pathname:a}=X(),o=JSON.stringify(O(i,s.v7_relativeSplatPath));return t.useMemo((()=>L(e,JSON.parse(o),a,"path"===r)),[e,o,a,r])}function te(n,r,s,i){$()||c(!1);let{navigator:a}=t.useContext(G),{matches:o}=t.useContext(Q),l=o[o.length-1],u=l?l.params:{},d=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let h,f=X();if(r){var p;let e="string"===typeof r?m(r):r;"/"===d||(null==(p=e.pathname)?void 0:p.startsWith(d))||c(!1),h=e}else h=f;let g=h.pathname||"/",x=y(n,{pathname:"/"===d?g:g.slice(d.length)||"/"});let v=ae(x&&x.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:P([d,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:P([d,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),o,s,i);return r&&v?t.createElement(K.Provider,{value:{location:q({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:e.Pop}},v):v}function ne(){let e=function(){var e;let n=t.useContext(Y),r=ue(le.UseRouteError),s=de(le.UseRouteError);if(void 0!==n)return n;return null==(e=r.errors)?void 0:e[s]}(),n=U(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:s};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:i},r):null,null)}const re=t.createElement(ne,null);class se extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(Q.Provider,{value:this.props.routeContext},t.createElement(Y.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ie(e){let{routeContext:n,match:r,children:s}=e,i=t.useContext(H);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(Q.Provider,{value:n},s)}function ae(e,n,r,s){var i;if(void 0===n&&(n=[]),void 0===r&&(r=null),void 0===s&&(s=null),null==e){var a;if(null==(a=r)||!a.errors)return null;e=r.matches}let o=e,l=null==(i=r)?void 0:i.errors;if(null!=l){let e=o.findIndex((e=>e.route.id&&(null==l?void 0:l[e.route.id])));e>=0||c(!1),o=o.slice(0,Math.min(o.length,e+1))}let u=!1,d=-1;if(r&&s&&s.v7_partialHydration)for(let t=0;t<o.length;t++){let e=o[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=t),e.route.id){let{loaderData:t,errors:n}=r,s=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||s){u=!0,o=d>=0?o.slice(0,d+1):[o[0]];break}}}return o.reduceRight(((e,s,i)=>{let a,c=!1,h=null,f=null;var m;r&&(a=l&&s.route.id?l[s.route.id]:void 0,h=s.route.errorElement||re,u&&(d<0&&0===i?(m="route-fallback",!1||he[m]||(he[m]=!0),c=!0,f=null):d===i&&(c=!0,f=s.route.hydrateFallbackElement||null)));let p=n.concat(o.slice(0,i+1)),g=()=>{let n;return n=a?h:c?f:s.route.Component?t.createElement(s.route.Component,null):s.route.element?s.route.element:e,t.createElement(ie,{match:s,routeContext:{outlet:e,matches:p,isDataRoute:null!=r},children:n})};return r&&(s.route.ErrorBoundary||s.route.errorElement||0===i)?t.createElement(se,{location:r.location,revalidation:r.revalidation,component:h,error:a,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()}),null)}var oe=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(oe||{}),le=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(le||{});function ce(e){let n=t.useContext(H);return n||c(!1),n}function ue(e){let n=t.useContext(W);return n||c(!1),n}function de(e){let n=function(e){let n=t.useContext(Q);return n||c(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||c(!1),r.route.id}const he={};r.startTransition;function fe(e){let{to:n,replace:r,state:s,relative:i}=e;$()||c(!1);let{future:a,static:o}=t.useContext(G),{matches:l}=t.useContext(Q),{pathname:u}=X(),d=Z(),h=L(n,O(l,a.v7_relativeSplatPath),u,"path"===i),f=JSON.stringify(h);return t.useEffect((()=>d(JSON.parse(f),{replace:r,state:s,relative:i})),[d,f,i,r,s]),null}function me(e){c(!1)}function pe(n){let{basename:r="/",children:s=null,location:i,navigationType:a=e.Pop,navigator:o,static:l=!1,future:u}=n;$()&&c(!1);let d=r.replace(/^\/*/,"/"),h=t.useMemo((()=>({basename:d,navigator:o,static:l,future:q({v7_relativeSplatPath:!1},u)})),[d,u,o,l]);"string"===typeof i&&(i=m(i));let{pathname:f="/",search:p="",hash:g="",state:y=null,key:x="default"}=i,v=t.useMemo((()=>{let e=D(f,d);return null==e?null:{location:{pathname:e,search:p,hash:g,state:y,key:x},navigationType:a}}),[d,f,p,g,y,x,a]);return null==v?null:t.createElement(G.Provider,{value:h},t.createElement(K.Provider,{children:s,value:v}))}function ge(e){let{children:t,location:n}=e;return te(ye(t),n)}new Promise((()=>{}));t.Component;function ye(e,n){void 0===n&&(n=[]);let r=[];return t.Children.forEach(e,((e,s)=>{if(!t.isValidElement(e))return;let i=[...n,s];if(e.type===t.Fragment)return void r.push.apply(r,ye(e.props.children,i));e.type!==me&&c(!1),e.props.index&&e.props.children&&c(!1);let a={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=ye(e.props.children,i)),r.push(a)})),r}function xe(){return xe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xe.apply(this,arguments)}function ve(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}function be(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce(((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map((e=>[n,e])):[[n,r]])}),[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const we=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Ne=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"];const ke=t.createContext({isTransitioning:!1});new Map;const je=r.startTransition;a.flushSync,r.useId;function Se(e){let{basename:n,children:r,future:s,window:i}=e,a=t.useRef();var o;null==a.current&&(a.current=(void 0===(o={window:i,v5Compat:!0})&&(o={}),p((function(e,t){let{pathname:n,search:r,hash:s}=e.location;return h("",{pathname:n,search:r,hash:s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:f(t)}),null,o)));let l=a.current,[c,u]=t.useState({action:l.action,location:l.location}),{v7_startTransition:d}=s||{},m=t.useCallback((e=>{d&&je?je((()=>u(e))):u(e)}),[u,d]);return t.useLayoutEffect((()=>l.listen(m)),[l,m]),t.createElement(pe,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:l,future:s})}const Ce="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ee=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_e=t.forwardRef((function(e,n){let r,{onClick:s,relative:i,reloadDocument:a,replace:o,state:l,target:u,to:d,preventScrollReset:h,unstable_viewTransition:m}=e,p=ve(e,we),{basename:g}=t.useContext(G),y=!1;if("string"===typeof d&&Ee.test(d)&&(r=d,Ce))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),n=D(t.pathname,g);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:y=!0}catch(b){}let x=function(e,n){let{relative:r}=void 0===n?{}:n;$()||c(!1);let{basename:s,navigator:i}=t.useContext(G),{hash:a,pathname:o,search:l}=ee(e,{relative:r}),u=o;return"/"!==s&&(u="/"===o?s:P([s,o])),i.createHref({pathname:u,search:l,hash:a})}(d,{relative:i}),v=function(e,n){let{target:r,replace:s,state:i,preventScrollReset:a,relative:o,unstable_viewTransition:l}=void 0===n?{}:n,c=Z(),u=X(),d=ee(e,{relative:o});return t.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let n=void 0!==s?s:f(u)===f(d);c(e,{replace:n,state:i,preventScrollReset:a,relative:o,unstable_viewTransition:l})}}),[u,c,d,s,i,r,e,a,o,l])}(d,{replace:o,state:l,target:u,preventScrollReset:h,relative:i,unstable_viewTransition:m});return t.createElement("a",xe({},p,{href:r||x,onClick:y||a?s:function(e){s&&s(e),e.defaultPrevented||v(e)},ref:n,target:u}))}));const Te=t.forwardRef((function(e,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:a=!1,style:o,to:l,unstable_viewTransition:u,children:d}=e,h=ve(e,Ne),f=ee(l,{relative:h.relative}),m=X(),p=t.useContext(W),{navigator:g}=t.useContext(G),y=null!=p&&function(e,n){void 0===n&&(n={});let r=t.useContext(ke);null==r&&c(!1);let{basename:s}=Ae(Ie.useViewTransitionState),i=ee(e,{relative:n.relative});if(!r.isTransitioning)return!1;let a=D(r.currentLocation.pathname,s)||r.currentLocation.pathname,o=D(r.nextLocation.pathname,s)||r.nextLocation.pathname;return null!=T(i.pathname,o)||null!=T(i.pathname,a)}(f)&&!0===u,x=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,v=m.pathname,b=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;s||(v=v.toLowerCase(),b=b?b.toLowerCase():null,x=x.toLowerCase());const w="/"!==x&&x.endsWith("/")?x.length-1:x.length;let N,k=v===x||!a&&v.startsWith(x)&&"/"===v.charAt(w),j=null!=b&&(b===x||!a&&b.startsWith(x)&&"/"===b.charAt(x.length)),S={isActive:k,isPending:j,isTransitioning:y},C=k?r:void 0;N="function"===typeof i?i(S):[i,k?"active":null,j?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let E="function"===typeof o?o(S):o;return t.createElement(_e,xe({},h,{"aria-current":C,className:N,ref:n,style:E,to:l,unstable_viewTransition:u}),"function"===typeof d?d(S):d)}));var Ie,De;function Ae(e){let n=t.useContext(H);return n||c(!1),n}function Re(e){let n=t.useRef(be(e)),r=t.useRef(!1),s=X(),i=t.useMemo((()=>function(e,t){let n=be(e);return t&&t.forEach(((e,r)=>{n.has(r)||t.getAll(r).forEach((e=>{n.append(r,e)}))})),n}(s.search,r.current?null:n.current)),[s.search]),a=Z(),o=t.useCallback(((e,t)=>{const n=be("function"===typeof e?e(i):e);r.current=!0,a("?"+n,t)}),[a,i]);return[i,o]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ie||(Ie={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(De||(De={}));function Oe(e){return Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oe(e)}function Le(e){var t=function(e,t){if("object"!=Oe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Oe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Oe(t)?t:String(t)}function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){var r,s,i;r=e,s=t,i=n[t],(s=Le(s))in r?Object.defineProperty(r,s,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[s]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Fe=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=63&s|128):55296===(64512&s)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++r)),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=63&s|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=63&s|128)}return t},Ve={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<e.length;s+=3){const t=e[s],i=s+1<e.length,a=i?e[s+1]:0,o=s+2<e.length,l=o?e[s+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;o||(h=64,i||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Fe(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=e[n++];t[r++]=String.fromCharCode((31&s)<<6|63&i)}else if(s>239&&s<365){const i=((7&s)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(i>>10)),t[r++]=String.fromCharCode(56320+(1023&i))}else{const i=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&s)<<12|(63&i)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<e.length;){const t=n[e.charAt(s++)],i=s<e.length?n[e.charAt(s)]:0;++s;const a=s<e.length?n[e.charAt(s)]:64;++s;const o=s<e.length?n[e.charAt(s)]:64;if(++s,null==t||null==i||null==a||null==o)throw new Ue;const l=t<<2|i>>4;if(r.push(l),64!==a){const e=i<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Ue extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ze=function(e){return function(e){const t=Fe(e);return Ve.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Be=function(e){try{return Ve.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};const qe=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,He=()=>{try{return qe()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&Be(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},We=e=>{const t=(e=>{var t;return null===(t=He())||void 0===t||null===(t=t.emulatorHosts)||void 0===t?void 0:t[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Ge=()=>{var e;return null===(e=He())||void 0===e?void 0:e.config};class Ke{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Qe(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function Ye(e){return(await fetch(e,{credentials:"include"})).ok}const $e={};let Xe=!1;function Je(e,t){if("undefined"===typeof window||"undefined"===typeof document||!Qe(window.location.host)||$e[e]===t||$e[e]||Xe)return;function n(e){return"__firebase__banner__".concat(e)}$e[e]=t;const r="__firebase__banner",s=function(){const e={prod:[],emulator:[]};for(const t of Object.keys($e))$e[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function i(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{Xe=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function a(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),a=document.getElementById(t)||document.createElement("span"),o=n("learnmore"),l=document.getElementById(o)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,o);const n=i();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,a,l,n),document.body.appendChild(t)}s?(a.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',a.innerText="Preview backend running in this workspace."),a.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",a):a()}function Ze(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function et(){var e;const t=null===(e=He())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}class tt extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,tt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nt.prototype.create)}}class nt{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],s=r?function(e,t){return e.replace(rt,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",i="".concat(this.serviceName,": ").concat(s," (").concat(n,").");return new tt(n,i,t)}}const rt=/\{\$([^}]+)}/g;function st(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const n=e[s],i=t[s];if(it(n)&&it(i)){if(!st(n,i))return!1}else if(n!==i)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function it(e){return null!==e&&"object"===typeof e}function at(e){return e&&e._delegate?e._delegate:e}class ot{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const lt="[DEFAULT]";class ct{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Ke;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:lt})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[s,i]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(s)&&i.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),s=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const s of n)try{s(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(s=t,s===lt?void 0:s),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(i){}var s;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt;return this.component?this.component.multipleInstances?e:lt:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ut{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ct(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const dt=[];var ht;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ht||(ht={}));const ft={debug:ht.DEBUG,verbose:ht.VERBOSE,info:ht.INFO,warn:ht.WARN,error:ht.ERROR,silent:ht.SILENT},mt=ht.INFO,pt={[ht.DEBUG]:"log",[ht.VERBOSE]:"log",[ht.INFO]:"info",[ht.WARN]:"warn",[ht.ERROR]:"error"},gt=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=pt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var s=arguments.length,i=new Array(s>2?s-2:0),a=2;a<s;a++)i[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...i)};class yt{constructor(e){this.name=e,this._logLevel=mt,this._logHandler=gt,this._userLogHandler=null,dt.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ht))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?ft[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ht.DEBUG,...t),this._logHandler(this,ht.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ht.VERBOSE,...t),this._logHandler(this,ht.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ht.INFO,...t),this._logHandler(this,ht.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ht.WARN,...t),this._logHandler(this,ht.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ht.ERROR,...t),this._logHandler(this,ht.ERROR,...t)}}const xt=(e,t)=>t.some((t=>e instanceof t));let vt,bt;const wt=new WeakMap,Nt=new WeakMap,kt=new WeakMap,jt=new WeakMap,St=new WeakMap;let Ct={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Nt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||kt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Tt(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Et(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(bt||(bt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(It(this),n),Tt(wt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Tt(e.apply(It(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];const i=e.call(It(this),t,...r);return kt.set(i,t.sort?t.sort():[t]),Tt(i)}}function _t(e){return"function"===typeof e?Et(e):(e instanceof IDBTransaction&&function(e){if(Nt.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",i),e.removeEventListener("abort",i)},s=()=>{t(),r()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",i),e.addEventListener("abort",i)}));Nt.set(e,t)}(e),xt(e,vt||(vt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Ct):e)}function Tt(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",i)},s=()=>{t(Tt(e.result)),r()},i=()=>{n(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",i)}));return t.then((t=>{t instanceof IDBCursor&&wt.set(t,e)})).catch((()=>{})),St.set(t,e),t}(e);if(jt.has(e))return jt.get(e);const t=_t(e);return t!==e&&(jt.set(e,t),St.set(t,e)),t}const It=e=>St.get(e);const Dt=["get","getKey","getAll","getAllKeys","count"],At=["put","add","delete","clear"],Rt=new Map;function Ot(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Rt.get(t))return Rt.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=At.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!s&&!Dt.includes(n))return;const i=async function(e){const t=this.transaction(e,s?"readwrite":"readonly");let i=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(i=i.index(o.shift())),(await Promise.all([i[n](...o),s&&t.done]))[0]};return Rt.set(t,i),i}Ct=(e=>Me(Me({},e),{},{get:(t,n,r)=>Ot(t,n)||e.get(t,n,r),has:(t,n)=>!!Ot(t,n)||e.has(t,n)}))(Ct);class Lt{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const Pt="@firebase/app",Mt="0.14.1",Ft=new yt("@firebase/app"),Vt="[DEFAULT]",Ut={[Pt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/ai":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},zt=new Map,Bt=new Map,qt=new Map;function Ht(e,t){try{e.container.addComponent(t)}catch(n){Ft.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Wt(e){const t=e.name;if(qt.has(t))return Ft.debug("There were multiple attempts to register component ".concat(t,".")),!1;qt.set(t,e);for(const n of zt.values())Ht(n,e);for(const n of Bt.values())Ht(n,e);return!0}function Gt(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Kt(e){return null!==e&&void 0!==e&&void 0!==e.settings}const Qt=new nt("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Yt{constructor(e,t,n){this._isDeleted=!1,this._options=Me({},e),this._config=Me({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ot("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qt.create("app-deleted",{appName:this._name})}}function $t(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Me({name:Vt,automaticDataCollectionEnabled:!0},t),s=r.name;if("string"!==typeof s||!s)throw Qt.create("bad-app-name",{appName:String(s)});if(n||(n=Ge()),!n)throw Qt.create("no-options");const i=zt.get(s);if(i){if(st(n,i.options)&&st(r,i.config))return i;throw Qt.create("duplicate-app",{appName:s})}const a=new ut(s);for(const l of qt.values())a.addComponent(l);const o=new Yt(n,r,a);return zt.set(s,o),o}function Xt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt;const t=zt.get(e);if(!t&&e===Vt&&Ge())return $t();if(!t)throw Qt.create("no-app",{appName:e});return t}function Jt(e,t,n){var r;let s=null!==(r=Ut[e])&&void 0!==r?r:e;n&&(s+="-".concat(n));const i=s.match(/\s|\//),a=t.match(/\s|\//);if(i||a){const e=['Unable to register library "'.concat(s,'" with version "').concat(t,'":')];return i&&e.push('library name "'.concat(s,'" contains illegal characters (whitespace or "/")')),i&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Ft.warn(e.join(" "))}Wt(new ot("".concat(s,"-version"),(()=>({library:s,version:t})),"VERSION"))}const Zt="firebase-heartbeat-database",en=1,tn="firebase-heartbeat-store";let nn=null;function rn(){return nn||(nn=function(e,t){let{blocked:n,upgrade:r,blocking:s,terminated:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=Tt(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(Tt(a.result),e.oldVersion,e.newVersion,Tt(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),o.then((e=>{i&&e.addEventListener("close",(()=>i())),s&&e.addEventListener("versionchange",(e=>s(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),o}(Zt,en,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(tn)}catch(n){console.warn(n)}}}).catch((e=>{throw Qt.create("idb-open",{originalErrorMessage:e.message})}))),nn}async function sn(e,t){try{const n=(await rn()).transaction(tn,"readwrite"),r=n.objectStore(tn);await r.put(t,an(e)),await n.done}catch(n){if(n instanceof tt)Ft.warn(n.message);else{const e=Qt.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});Ft.warn(e.message)}}}function an(e){return"".concat(e.name,"!").concat(e.options.appId)}class on{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new cn(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){try{var e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ln();var t;if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Ft.warn(n)}}async getHeartbeatsHeader(){try{var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=ln(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const s of e){const e=n.find((e=>e.agent===s.agent));if(e){if(e.dates.push(s.date),un(n)>t){e.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),un(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),s=ze(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Ft.warn(t),""}}}function ln(){return(new Date).toISOString().substring(0,10)}class cn{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"===typeof indexedDB}catch(e){return!1}}()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var e;t((null===(e=s.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await rn()).transaction(tn),n=await t.objectStore(tn).get(an(e));return await t.done,n}catch(t){if(t instanceof tt)Ft.warn(t.message);else{const e=Qt.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});Ft.warn(e.message)}}}(this.app);return null!==e&&void 0!==e&&e.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return sn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return sn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function un(e){return ze(JSON.stringify({version:2,heartbeats:e})).length}var dn;dn="",Wt(new ot("platform-logger",(e=>new Lt(e)),"PRIVATE")),Wt(new ot("heartbeat",(e=>new on(e)),"PRIVATE")),Jt(Pt,Mt,dn),Jt(Pt,Mt,"esm2020"),Jt("fire-js","");Jt("firebase","12.1.0","app");var hn,fn,mn="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},pn={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var s=0;16>s;++s)r[s]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],s=e.g[2];var i=e.g[3],a=t+(i^n&(s^i))+r[0]+3614090360&4294967295;a=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=n+(a<<7&4294967295|a>>>25))+((a=i+(s^t&(n^s))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=s+(n^i&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^s&(i^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^n&(s^i))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=i+(s^t&(n^s))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=s+(n^i&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^s&(i^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^n&(s^i))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=i+(s^t&(n^s))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=s+(n^i&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^s&(i^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^n&(s^i))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=i+(s^t&(n^s))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=s+(n^i&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^s&(i^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^i&(n^s))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^s&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=s+(t^n&(i^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(s^i))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(s^i&(n^s))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^s&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=s+(t^n&(i^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(s^i))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(s^i&(n^s))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^s&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=s+(t^n&(i^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(s^i))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(s^i&(n^s))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^s&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=s+(t^n&(i^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(s^i))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^s^i)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^s)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=s+(i^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(s^i^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^s^i)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^s)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=s+(i^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(s^i^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^s^i)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^s)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=s+(i^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(s^i^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^s^i)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^s)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=s+(i^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(s^i^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(s^(n|~i))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~s))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=s+(t^(i|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(s|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(s^(n|~i))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~s))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=s+(t^(i|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(s|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(s^(n|~i))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~s))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=s+(t^(i|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(s|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((i=(t=n+((a=t+(s^(n|~i))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~s))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((s=i+((a=s+(t^(i|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(s+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+s&4294967295,e.g[3]=e.g[3]+i&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,s=e.length-1;0<=s;s--){var i=0|e[s];r&&i==t||(n[s]=i,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var s=Array(arguments.length-2),i=2;i<arguments.length;i++)s[i-2]=arguments[i];return t.prototype[n].apply(e,s)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,s=this.B,i=this.h,a=0;a<t;){if(0==i)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(s[i++]=e.charCodeAt(a++),i==this.blockSize){n(this,s),i=0;break}}else for(;a<t;)if(s[i++]=e[a++],i==this.blockSize){n(this,s),i=0;break}}this.h=i,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var s={};function i(e){return-128<=e&&128>e?function(e,t){var n=s;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return o;if(0>e)return h(a(-e));for(var t=[],n=1,s=0;e>=n;s++)t[s]=e/n|0,n*=4294967296;return new r(t,0)}var o=i(0),l=i(1),c=i(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],s=0;s<t;s++)n[s]=~e.g[s];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function m(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function p(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new p(o,o);if(d(e))return t=g(h(e),t),new p(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new p(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=y(n),r=y(r);var s=x(n,1),i=x(r,1);for(r=x(r,2),n=x(n,2);!u(r);){var c=i.add(r);0>=c.l(e)&&(s=s.add(n),i=c),r=x(r,1),n=x(n,1)}return t=f(e,s.j(t)),new p(s,t)}for(s=o;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(i=a(n)).j(t);d(c)||0<c.l(e);)c=(i=a(n-=r)).j(t);u(i)&&(i=l),s=s.add(i),e=f(e,c)}return new p(s,e)}function y(e){for(var t=e.g.length+1,n=[],s=0;s<t;s++)n[s]=e.i(s)<<1|e.i(s-1)>>>31;return new r(n,e.h)}function x(e,t){var n=t>>5;t%=32;for(var s=e.g.length-n,i=[],a=0;a<s;a++)i[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new r(i,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var s=g(n,t).g,i=((0<(n=f(n,s.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=s))return i+r;for(;6>i.length;)i="0"+i;r=i+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0,i=0;i<=t;i++){var a=s+(65535&this.i(i))+(65535&e.i(i)),o=(a>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);s=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],s=0;s<2*t;s++)n[s]=0;for(s=0;s<this.g.length;s++)for(var i=0;i<e.g.length;i++){var l=this.i(s)>>>16,f=65535&this.i(s),p=e.i(i)>>>16,g=65535&e.i(i);n[2*s+2*i]+=f*g,m(n,2*s+2*i),n[2*s+2*i+1]+=l*g,m(n,2*s+2*i+1),n[2*s+2*i+1]+=f*p,m(n,2*s+2*i+1),n[2*s+2*i+2]+=l*p,m(n,2*s+2*i+2)}for(s=0;s<t;s++)n[s]=n[2*s+1]<<16|n[2*s];for(s=t;s<2*t;s++)n[s]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0;s<t;s++)n[s]=this.i(s)&e.i(s);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0;s<t;s++)n[s]=this.i(s)|e.i(s);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0;s<t;s++)n[s]=this.i(s)^e.i(s);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,fn=pn.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),s=o,i=0;i<t.length;i+=8){var l=Math.min(8,t.length-i),c=parseInt(t.substring(i,i+l),n);8>l?(l=a(Math.pow(n,l)),s=s.j(l).add(a(c))):s=(s=s.j(r)).add(a(c))}return s},hn=pn.Integer=r}).apply("undefined"!==typeof mn?mn:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var gn,yn,xn,vn,bn,wn,Nn,kn,jn="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Sn={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof jn&&jn];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var s=n;e=e.split(".");for(var i=0;i<e.length-1;i++){var a=e[i];if(!(a in s))break e;s=s[a]}(r=r(i=s[e=e[e.length-1]]))!=i&&null!=r&&t(s,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,s={next:function(){if(!r&&n<e.length){var s=n++;return{value:t(s,e[s]),done:!1}}return r=!0,{done:!0,value:void 0}}};return s[Symbol.iterator]=function(){return s},s}(this,(function(e,t){return t}))}}));var r=r||{},s=this||self;function i(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var s=Array(arguments.length-2),i=2;i<arguments.length;i++)s[i-2]=arguments[i];return t.prototype[n].apply(e,s)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(i(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let s=0;s<r;s++)e[n+s]=t[s]}else e.push(t)}}function m(e){return/^[\s\xa0]*$/.test(e)}function p(){var e=s.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var y=-1!=p().indexOf("Gecko")&&!(-1!=p().toLowerCase().indexOf("webkit")&&-1==p().indexOf("Edge"))&&!(-1!=p().indexOf("Trident")||-1!=p().indexOf("MSIE"))&&-1==p().indexOf("Edge");function x(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function v(e){const t={};for(const n in e)t[n]=e[n];return t}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(e,t){let n,r;for(let s=1;s<arguments.length;s++){for(n in r=arguments[s],r)e[n]=r[n];for(let t=0;t<b.length;t++)n=b[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function N(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function k(e){s.setTimeout((()=>{throw e}),0)}function j(){var e=T;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var S=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new C),(e=>e.reset()));class C{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let E,_=!1,T=new class{constructor(){this.h=this.g=null}add(e,t){const n=S.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},I=()=>{const e=s.Promise.resolve(void 0);E=()=>{e.then(D)}};var D=()=>{for(var e;e=j();){try{e.h.call(e.g)}catch(n){k(n)}var t=S;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}_=!1};function A(){this.s=this.s,this.C=this.C}function R(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}A.prototype.s=!1,A.prototype.ma=function(){this.s||(this.s=!0,this.N())},A.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},R.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};s.addEventListener("test",e,t),s.removeEventListener("test",e,t)}catch(n){}return e}();function L(e,t){if(R.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{g(t.nodeName);var s=!0;break e}catch(i){}s=!1}s||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:P[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&L.aa.h.call(this)}}d(L,R);var P={2:"touch",3:"pen",4:"mouse"};L.prototype.h=function(){L.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var M="closure_listenable_"+(1e6*Math.random()|0),F=0;function V(e,t,n,r,s){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=s,this.key=++F,this.da=this.fa=!1}function U(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function z(e){this.src=e,this.g={},this.h=0}function B(e,t){var n=t.type;if(n in e.g){var r,s=e.g[n],i=Array.prototype.indexOf.call(s,t,void 0);(r=0<=i)&&Array.prototype.splice.call(s,i,1),r&&(U(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function q(e,t,n,r){for(var s=0;s<e.length;++s){var i=e[s];if(!i.da&&i.listener==t&&i.capture==!!n&&i.ha==r)return s}return-1}z.prototype.add=function(e,t,n,r,s){var i=e.toString();(e=this.g[i])||(e=this.g[i]=[],this.h++);var a=q(e,t,r,s);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new V(t,this.src,i,!!r,s)).fa=n,e.push(t)),t};var H="closure_lm_"+(1e6*Math.random()|0),W={};function G(e,t,n,r,s){if(r&&r.once)return Q(e,t,n,r,s);if(Array.isArray(t)){for(var i=0;i<t.length;i++)G(e,t[i],n,r,s);return null}return n=te(n),e&&e[M]?e.K(t,n,a(r)?!!r.capture:!!r,s):K(e,t,n,!1,r,s)}function K(e,t,n,r,s,i){if(!t)throw Error("Invalid event type");var o=a(s)?!!s.capture:!!s,l=Z(e);if(l||(e[H]=l=new z(e)),(n=l.add(t,n,r,o,i)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)O||(s=o),void 0===s&&(s=!1),e.addEventListener(t.toString(),r,s);else if(e.attachEvent)e.attachEvent(X(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Q(e,t,n,r,s){if(Array.isArray(t)){for(var i=0;i<t.length;i++)Q(e,t[i],n,r,s);return null}return n=te(n),e&&e[M]?e.L(t,n,a(r)?!!r.capture:!!r,s):K(e,t,n,!0,r,s)}function Y(e,t,n,r,s){if(Array.isArray(t))for(var i=0;i<t.length;i++)Y(e,t[i],n,r,s);else r=a(r)?!!r.capture:!!r,n=te(n),e&&e[M]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=q(i=e.g[t],n,r,s))&&(U(i[n]),Array.prototype.splice.call(i,n,1),0==i.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=q(t,n,r,s)),(n=-1<e?t[e]:null)&&$(n))}function $(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[M])B(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(X(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(B(n,e),0==n.h&&(n.src=null,t[H]=null)):U(e)}}}function X(e){return e in W?W[e]:W[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new L(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&$(e),e=n.call(r,t)}return e}function Z(e){return(e=e[H])instanceof z?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){A.call(this),this.i=new z(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new R(t,e);else if(t instanceof R)t.target=t.target||e;else{var s=t;w(t=new R(r,e),s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var a=t.g=n[i];s=se(a,r,!0,t)&&s}if(s=se(a=t.g=e,r,!0,t)&&s,s=se(a,r,!1,t)&&s,n)for(i=0;i<n.length;i++)s=se(a=t.g=n[i],r,!1,t)&&s}function se(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var s=!0,i=0;i<t.length;++i){var a=t[i];if(a&&!a.da&&a.capture==n){var o=a.listener,l=a.ha||a.src;a.fa&&B(e.i,a),s=!1!==o.call(l,r)&&s}}return s&&!r.defaultPrevented}function ie(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:s.setTimeout(e,t||0)}function ae(e){e.g=ie((()=>{e.g=null,e.i&&(e.i=!1,ae(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,A),ne.prototype[M]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Y(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)U(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class oe extends A{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ae(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){A.call(this),this.h=e,this.g={}}d(le,A);var ce=[];function ue(e){x(e.g,(function(e,t){this.g.hasOwnProperty(t)&&$(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=s.JSON.stringify,he=s.JSON.parse,fe=class{stringify(e){return s.JSON.stringify(e,void 0)}parse(e){return s.JSON.parse(e,void 0)}};function me(){}function pe(e){return e.h||(e.h=e.i())}function ge(){}me.prototype.h=null;var ye={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xe(){R.call(this,"d")}function ve(){R.call(this,"c")}d(xe,R),d(ve,R);var be={},we=null;function Ne(){return we=we||new ne}function ke(e){R.call(this,be.La,e)}function je(e){const t=Ne();re(t,new ke(t))}function Se(e,t){R.call(this,be.STAT_EVENT,e),this.stat=t}function Ce(e){const t=Ne();re(t,new Se(t,e))}function Ee(e,t){R.call(this,be.Ma,e),this.size=t}function _e(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return s.setTimeout((function(){e()}),t)}function Te(){this.g=!0}function Ie(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(var a=1;a<s.length;a++)s[a]=""}}}return de(n)}catch(o){return t}}(e,n)+(r?" "+r:"")}))}be.La="serverreachability",d(ke,R),be.STAT_EVENT="statevent",d(Se,R),be.Ma="timingevent",d(Ee,R),Te.prototype.xa=function(){this.g=!1},Te.prototype.info=function(){};var De,Ae={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Re={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Oe(){}function Le(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Pe}function Pe(){this.i=null,this.g="",this.h=!1}d(Oe,me),Oe.prototype.g=function(){return new XMLHttpRequest},Oe.prototype.i=function(){return{}},De=new Oe;var Me={},Fe={};function Ve(e,t,n){e.L=1,e.v=dt(at(t)),e.m=n,e.P=!0,Ue(e,null)}function Ue(e,t){e.F=Date.now(),qe(e),e.A=at(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),St(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Pe,e.g=fn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new oe(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var s="readystatechange";Array.isArray(s)||(s&&(ce[0]=s.toString()),s=ce);for(var i=0;i<s.length;i++){var a=G(n,s[i],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?v(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),je(),function(e,t,n,r,s,i){e.info((function(){if(e.g)if(i)for(var a="",o=i.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+t+"\n"+n+"\n"+a}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function ze(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Be(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fe:(n=Number(t.substring(n,r)),isNaN(n)?Me:(r+=1)+n>t.length?Fe:(t=t.slice(r,r+n),e.C=r+n,t))}function qe(e){e.S=Date.now()+e.I,He(e,e.I)}function He(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=_e(c(e.ba,e),t)}function We(e){e.B&&(s.clearTimeout(e.B),e.B=null)}function Ge(e){0==e.j.G||e.J||ln(e.j,e)}function Ke(e){We(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Qe(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;on(n),$t(n)}rn(n),Ce(18)}}else n.za=s[1],0<n.za-n.T&&37500>s[2]&&n.F&&0==n.v&&!n.C&&(n.C=_e(c(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else un(n,11)}else if((e.K||n.g==e)&&on(n),!m(t))for(s=n.Da.g.parse(t),t=0;t<s.length;t++){let c=s[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const s=c[4];null!=s&&(n.Aa=s,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var i=r.h;i.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(i.j=i.l,i.g=new Set,i.h&&(et(i,i.h),i.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=hn(r,r.J?r.ia:null,r.W),a.K){tt(r.h,a);var o=a,l=r.L;l&&(o.I=l),o.B&&(We(o),qe(o)),r.g=a}else nn(r);0<n.i.length&&Jt(n)}else"stop"!=c[0]&&"close"!=c[0]||un(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?un(n,7):Yt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}je()}catch(u){}}Le.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Wt(e)?t.j():this.Y(e)},Le.prototype.Y=function(e){try{if(e==this.g)e:{const h=Wt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Gt(this.g)))){this.J||4!=h||7==t||je(),We(this);var n=this.g.Z();this.X=n;t:if(ze(this)){var r=Gt(this.g);e="";var i=r.length,a=4==Wt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ke(this),Ge(this);var o="";break t}this.h.i=new s.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==i-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,r,s,i,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+t+"\n"+n+"\n"+i+" "+a}))}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!m(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Ce(12),Ke(this),Ge(this);break e}Ie(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qe(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=Be(this,o),e==Fe){4==h&&(this.s=4,Ce(14),n=!1),Ie(this.i,this.l,null,"[Incomplete Response]");break}if(e==Me){this.s=4,Ce(15),Ie(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}Ie(this.i,this.l,e,null),Qe(this,e)}if(ze(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=o.length||this.h.h||(this.s=1,Ce(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),sn(d),d.M=!0,Ce(11))}}else Ie(this.i,this.l,o,"[Invalid Chunked Response]"),Ke(this),Ge(this)}else Ie(this.i,this.l,o,null),Qe(this,o);4==h&&Ke(this),this.o&&!this.J&&(4==h?ln(this.j,this):(this.o=!1,qe(this)))}else(function(e){const t={};e=(e.g&&2<=Wt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(m(e[r]))continue;var n=N(e[r]);const s=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const i=t[s]||[];t[s]=i,i.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,Ce(12)):(this.s=0,Ce(13)),Ke(this),Ge(this)}}}catch(h){}},Le.prototype.cancel=function(){this.J=!0,Ke(this)},Le.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(je(),Ce(17)),Ke(this),this.s=2,Ge(this)):He(this,this.S-e)};var Ye=class{constructor(e,t){this.g=e,this.map=t}};function $e(e){this.l=e||10,s.PerformanceNavigationTiming?e=0<(e=s.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xe(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(i(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(i(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(i(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),s=r.length,a=0;a<s;a++)t.call(void 0,r[a],n&&n[a],e)}$e.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var st=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function it(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof it){this.h=e.h,ot(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new wt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(st))?(this.h=!1,ot(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new wt(null,this.h))}function at(e){return new it(e)}function ot(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof wt?(e.i=t,function(e,t){t&&!e.j&&(Nt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(kt(this,t),St(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,vt)),e.i=new wt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,mt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function mt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}it.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?xt:yt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,bt)),e.join("")};var pt,gt=/[#\/\?@]/g,yt=/[#\?:]/g,xt=/[#\?]/g,vt=/[#\?@]/g,bt=/#/g;function wt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Nt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),s=null;if(0<=r){var i=e[n].substring(0,r);s=e[n].substring(r+1)}else i=e[n];t(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function kt(e,t){Nt(e),t=Ct(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function jt(e,t){return Nt(e),t=Ct(e,t),e.g.has(t)}function St(e,t,n){kt(e,t),0<n.length&&(e.i=null,e.g.set(Ct(e,t),h(n)),e.h+=n.length)}function Ct(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Et(e,t,n,r,s){try{s&&(s.onload=null,s.onerror=null,s.onabort=null,s.ontimeout=null),r(n)}catch(i){}}function _t(){this.g=new fe}function Tt(e,t,n){const r=n||"";try{rt(e,(function(e,n){let s=e;a(e)&&(s=de(e)),t.push(r+n+"="+encodeURIComponent(s))}))}catch(s){throw t.push(r+"type="+encodeURIComponent("_badmap")),s}}function It(e){this.l=e.Ub||null,this.j=e.eb||!1}function Dt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function At(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Rt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Ot(e)}function Ot(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Lt(e){let t="";return x(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Pt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Lt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Mt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=wt.prototype).add=function(e,t){Nt(this),this.i=null,e=Ct(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){Nt(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){Nt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const s=e[r];for(let e=0;e<s.length;e++)n.push(t[r])}return n},e.V=function(e){Nt(this);let t=[];if("string"===typeof e)jt(this,e)&&(t=t.concat(this.g.get(Ct(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return Nt(this),this.i=null,jt(this,e=Ct(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const i=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var s=i;""!==a[r]&&(s+="="+encodeURIComponent(String(a[r]))),e.push(s)}}return this.i=e.join("&")},d(It,me),It.prototype.g=function(){return new Dt(this.l,this.j)},It.prototype.i=(pt={},function(){return pt}),d(Dt,ne),(e=Dt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Ot(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||s).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Rt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ot(this)),this.g&&(this.readyState=3,Ot(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof s.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;At(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Rt(this):Ot(this),3==this.readyState&&At(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Rt(this))},e.Qa=function(e){this.g&&(this.response=e,Rt(this))},e.ga=function(){this.g&&Rt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Dt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Mt,ne);var Ft=/^https?$/i,Vt=["POST","PUT"];function Ut(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,zt(e),qt(e)}function zt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Bt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Wt(e)||2!=e.Z()))if(e.u&&4==Wt(e))ie(e.Ea,0,e);else if(re(e,"readystatechange"),4==Wt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var i;if(i=0===r){var a=String(e.D).match(st)[1]||null;!a&&s.self&&s.self.location&&(a=s.self.location.protocol.slice(0,-1)),i=!Ft.test(a?a.toLowerCase():"")}n=i}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var o=2<Wt(e)?e.g.statusText:""}catch(l){o=""}e.l=o+" ["+e.Z()+"]",zt(e)}}finally{qt(e)}}}function qt(e,t){if(e.g){Ht(e);const r=e.g,s=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{r.onreadystatechange=s}catch(n){}}}function Ht(e){e.I&&(s.clearTimeout(e.I),e.I=null)}function Wt(e){return e.g?e.g.readyState:0}function Gt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Kt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Qt(e){this.Aa=0,this.i=[],this.j=new Te,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Kt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Kt("baseRetryDelayMs",5e3,e),this.cb=Kt("retryDelaySeedMs",1e4,e),this.Wa=Kt("forwardChannelMaxRetries",2,e),this.wa=Kt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new $e(e&&e.concurrentRequestLimit),this.Da=new _t,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Yt(e){if(Xt(e),3==e.G){var t=e.U++,n=at(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),en(e,n),(t=new Le(e,e.j,t)).L=2,t.v=dt(at(n)),n=!1,s.navigator&&s.navigator.sendBeacon)try{n=s.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&s.Image&&((new Image).src=t.v,n=!0),n||(t.g=fn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),qe(t)}dn(e)}function $t(e){e.g&&(sn(e),e.g.cancel(),e.g=null)}function Xt(e){$t(e),e.u&&(s.clearTimeout(e.u),e.u=null),on(e),e.h.cancel(),e.s&&("number"===typeof e.s&&s.clearTimeout(e.s),e.s=null)}function Jt(e){if(!Xe(e.h)&&!e.s){e.s=!0;var t=e.Ga;E||I(),_||(E(),_=!0),T.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const r=at(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),en(e,r),e.m&&e.o&&Pt(r,e.m,e.o),n=new Le(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Ve(n,r,t)}function en(e,t){e.H&&x(e.H,(function(e,n){ut(t,n,e)})),e.l&&rt({},(function(e,n){ut(t,n,e)}))}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var s=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=s[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let o=0;o<n;o++){let n=s[o].g;const l=s[o].map;if(n-=t,0>n)t=Math.max(0,s[o].g-100),a=!1;else try{Tt(l,e,"req"+n+"_")}catch(i){r&&r(l)}}if(a){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;E||I(),_||(E(),_=!0),T.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=_e(c(e.Fa,e),cn(e,e.v)),e.v++,!0)}function sn(e){null!=e.A&&(s.clearTimeout(e.A),e.A=null)}function an(e){e.g=new Le(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=at(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Pt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(at(t)),n.m=null,n.P=!0,Ue(n,e)}function on(e){null!=e.C&&(s.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){on(e),sn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var s=e.B;re(r=Ne(),new Ee(r,n)),Jt(e)}else nn(e);else if(3==(s=t.s)||0==s&&0<t.X||!(1==r&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=_e(c(e.Ga,e,t),cn(e,e.B)),e.B++,!0))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),s){case 1:un(e,5);break;case 4:un(e,10);break;case 3:un(e,6);break;default:un(e,2)}}function cn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function un(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new it(r||"//www.google.com/images/cleardot.gif"),s.location&&"http"==s.location.protocol||ot(r,"https"),dt(r),t?function(e,t){const n=new Te;if(s.Image){const r=new Image;r.onload=u(Et,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Et,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Et,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Et,n,"TestLoadImage: timeout",!1,t,r),s.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Te;const n=new AbortController,r=setTimeout((()=>{n.abort(),Et(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?Et(0,0,!0,t):Et(0,0,!1,t)})).catch((()=>{clearTimeout(r),Et(0,0,!1,t)}))}(r.toString(),n)}else Ce(2);e.G=0,e.l&&e.l.sa(t),dn(e),Xt(e)}function dn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function hn(e,t,n){var r=n instanceof it?at(n):new it(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var i=s.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new it(null);r&&ot(a,r),t&&(a.g=t),i&&lt(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),en(e,r),r}function fn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Mt(new It({eb:n})):new Mt(e.pa)).Ha(e.J),t}function mn(){}function pn(){}function Cn(e,t){ne.call(this),this.g=new Qt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!m(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!m(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Tn(this)}function En(e){xe.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function _n(){ve.call(this),this.status=1}function Tn(e){this.g=e}(e=Mt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():De.g(),this.v=this.o?pe(this.o):pe(De),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Ut(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=s.FormData&&e instanceof s.FormData,!(0<=Array.prototype.indexOf.call(Vt,t,void 0))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ht(this),this.u=!0,this.g.send(e),this.u=!1}catch(a){Ut(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),qt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qt(this,!0)),Mt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Bt(this):this.bb())},e.bb=function(){Bt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Wt(this)?this.g.status:-1}catch(pt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(pt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Qt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Ce(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=hn(this,null,this.W),Jt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const s=new Le(this,this.j,e);let i=this.o;if(this.S&&(i?(i=v(i),w(i,this.S)):i=this.S),null!==this.m||this.O||(s.H=i,i=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,s,t),ut(n=at(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),en(this,n),i&&(this.O?t="headers="+encodeURIComponent(String(Lt(i)))+"&"+t:this.m&&Pt(n,this.m,i)),et(this.h,s),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),s.T=!0,Ve(s,n,null)):Ve(s,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||Xe(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,an(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=_e(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ce(10),$t(this),an(this))},e.Za=function(){null!=this.C&&(this.C=null,$t(this),rn(this),Ce(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Ce(2)):(this.j.info("Failed to ping google.com"),Ce(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=mn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},pn.prototype.g=function(e,t){return new Cn(e,t)},d(Cn,ne),Cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Cn.prototype.close=function(){Yt(this.g)},Cn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Ye(t.Ya++,e)),3==t.G&&Jt(t)},Cn.prototype.N=function(){this.g.l=null,delete this.j,Yt(this.g),delete this.g,Cn.aa.N.call(this)},d(En,xe),d(_n,ve),d(Tn,mn),Tn.prototype.ua=function(){re(this.g,"a")},Tn.prototype.ta=function(e){re(this.g,new En(e))},Tn.prototype.sa=function(e){re(this.g,new _n)},Tn.prototype.ra=function(){re(this.g,"b")},pn.prototype.createWebChannel=pn.prototype.g,Cn.prototype.send=Cn.prototype.o,Cn.prototype.open=Cn.prototype.m,Cn.prototype.close=Cn.prototype.close,kn=Sn.createWebChannelTransport=function(){return new pn},Nn=Sn.getStatEventTarget=function(){return Ne()},wn=Sn.Event=be,bn=Sn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ae.NO_ERROR=0,Ae.TIMEOUT=8,Ae.HTTP_ERROR=6,vn=Sn.ErrorCode=Ae,Re.COMPLETE="complete",xn=Sn.EventType=Re,ge.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",ne.prototype.listen=ne.prototype.K,yn=Sn.WebChannel=ge,Sn.FetchXmlHttpFactory=It,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,gn=Sn.XhrIo=Mt}).apply("undefined"!==typeof jn?jn:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Cn="@firebase/firestore",En="4.9.0";class _n{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_n.UNAUTHENTICATED=new _n(null),_n.GOOGLE_CREDENTIALS=new _n("google-credentials-uid"),_n.FIRST_PARTY=new _n("first-party-uid"),_n.MOCK_USER=new _n("mock-user");let Tn="12.0.0";const In=new yt("@firebase/firestore");function Dn(){return In.logLevel}function An(e){if(In.logLevel<=ht.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=n.map(Ln);In.debug("Firestore (".concat(Tn,"): ").concat(e),...s)}}function Rn(e){if(In.logLevel<=ht.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=n.map(Ln);In.error("Firestore (".concat(Tn,"): ").concat(e),...s)}}function On(e){if(In.logLevel<=ht.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=n.map(Ln);In.warn("Firestore (".concat(Tn,"): ").concat(e),...s)}}function Ln(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Pn(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,Mn(e,r,n)}function Mn(e,t,n){let r="FIRESTORE (".concat(Tn,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw Rn(r),new Error(r)}function Fn(e,t,n,r){let s="Unexpected state";"string"==typeof n?s=n:r=n,e||Mn(t,s,r)}function Vn(e,t){return e}const Un={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class zn extends tt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Bn{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class qn{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Hn{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(_n.UNAUTHENTICATED)))}shutdown(){}}class Wn{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Gn{constructor(e){this.t=e,this.currentUser=_n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Fn(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let s=new Bn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Bn,e.enqueueRetryable((()=>r(this.currentUser)))};const i=()=>{const t=s;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{An("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(An("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Bn)}}),0),i()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(An("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Fn("string"==typeof t.accessToken,31837,{l:t}),new qn(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fn(null===e||"string"==typeof e,2055,{h:e}),new _n(e)}}class Kn{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=_n.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Qn{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new Kn(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(_n.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Yn{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $n{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Fn(void 0===this.o,3512);const n=e=>{null!=e.error&&An("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,An("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{An("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):An("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Yn(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Fn("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new Yn(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Xn(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Jn{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=Xn(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Zn(e,t){return e<t?-1:e>t?1:0}function er(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.charAt(r),s=t.charAt(r);if(n!==s)return rr(n)===rr(s)?Zn(n,s):rr(n)?1:-1}return Zn(e.length,t.length)}const tr=55296,nr=57343;function rr(e){const t=e.charCodeAt(0);return t>=tr&&t<=nr}function sr(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}const ir="__name__";class ar{constructor(e,t,n){void 0===t?t=0:t>e.length&&Pn(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&Pn(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===ar.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ar?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=ar.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Zn(e.length,t.length)}static compareSegments(e,t){const n=ar.isNumericId(e),r=ar.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?ar.extractNumericId(e).compare(ar.extractNumericId(t)):er(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return hn.fromString(e.substring(4,e.length-2))}}class or extends ar{construct(e,t,n){return new or(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const s of n){if(s.indexOf("//")>=0)throw new zn(Un.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push(...s.split("/").filter((e=>e.length>0)))}return new or(e)}static emptyPath(){return new or([])}}const lr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cr extends ar{construct(e,t,n){return new cr(e,t,n)}static isValidIdentifier(e){return lr.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===ir}static keyField(){return new cr([ir])}static fromServerFormat(e){const t=[];let n="",r=0;const s=()=>{if(0===n.length)throw new zn(Un.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let i=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new zn(Un.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new zn(Un.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(i=!i,r++):"."!==t||i?(n+=t,r++):(s(),r++)}if(s(),i)throw new zn(Un.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cr(t)}static emptyPath(){return new cr([])}}class ur{constructor(e){this.path=e}static fromPath(e){return new ur(or.fromString(e))}static fromName(e){return new ur(or.fromString(e).popFirst(5))}static empty(){return new ur(or.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===or.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return or.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ur(new or(e.slice()))}}function dr(e,t,n){if(!n)throw new zn(Un.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function hr(e){if(!ur.isDocumentKey(e))throw new zn(Un.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function fr(e){if(ur.isDocumentKey(e))throw new zn(Un.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function mr(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function pr(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Pn(12329,{type:typeof e})}function gr(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new zn(Un.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=pr(e);throw new zn(Un.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function yr(e,t){if(t<=0)throw new zn(Un.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}function xr(e,t){const n={typeString:e};return t&&(n.value=t),n}function vr(e,t){if(!mr(e))throw new zn(Un.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const s=t[r].typeString,i="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n="JSON missing required field: '".concat(r,"'");break}const a=e[r];if(s&&typeof a!==s){n="JSON field '".concat(r,"' must be a ").concat(s,".");break}if(void 0!==i&&a!==i.value){n="Expected '".concat(r,"' field to equal '").concat(i.value,"'");break}}if(n)throw new zn(Un.INVALID_ARGUMENT,n);return!0}const br=-62135596800,wr=1e6;class Nr{static now(){return Nr.fromMillis(Date.now())}static fromDate(e){return Nr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*wr);return new Nr(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new zn(Un.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new zn(Un.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<br)throw new zn(Un.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new zn(Un.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/wr}_compareTo(e){return this.seconds===e.seconds?Zn(this.nanoseconds,e.nanoseconds):Zn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Nr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(vr(e,Nr._jsonSchema))return new Nr(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-br;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Nr._jsonSchemaVersion="firestore/timestamp/1.0",Nr._jsonSchema={type:xr("string",Nr._jsonSchemaVersion),seconds:xr("number"),nanoseconds:xr("number")};class kr{static fromTimestamp(e){return new kr(e)}static min(){return new kr(new Nr(0,0))}static max(){return new kr(new Nr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const jr=-1;class Sr{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Sr.UNKNOWN_ID=-1;function Cr(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,s=kr.fromTimestamp(1e9===r?new Nr(n+1,0):new Nr(n,r));return new _r(s,ur.empty(),t)}function Er(e){return new _r(e.readTime,e.key,jr)}class _r{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new _r(kr.min(),ur.empty(),jr)}static max(){return new _r(kr.max(),ur.empty(),jr)}}function Tr(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=ur.comparator(e.documentKey,t.documentKey),0!==n?n:Zn(e.largestBatchId,t.largestBatchId))}const Ir="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Dr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ar(e){if(e.code!==Un.FAILED_PRECONDITION||e.message!==Ir)throw e;An("LocalStore","Unexpectedly lost primary lease")}class Rr{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Pn(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Rr(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Rr?t:Rr.resolve(t)}catch(e){return Rr.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Rr.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Rr.reject(t)}static resolve(e){return new Rr(((t,n)=>{t(e)}))}static reject(e){return new Rr(((t,n)=>{n(e)}))}static waitFor(e){return new Rr(((t,n)=>{let r=0,s=0,i=!1;e.forEach((e=>{++r,e.next((()=>{++s,i&&s===r&&t()}),(e=>n(e)))})),i=!0,s===r&&t()}))}static or(e){let t=Rr.resolve(!1);for(const n of e)t=t.next((e=>e?Rr.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Rr(((n,r)=>{const s=e.length,i=new Array(s);let a=0;for(let o=0;o<s;o++){const l=o;t(e[l]).next((e=>{i[l]=e,++a,a===s&&n(i)}),(e=>r(e)))}}))}static doWhile(e,t){return new Rr(((n,r)=>{const s=()=>{!0===e()?t().next((()=>{s()}),r):n()};s()}))}}function Or(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Lr(e){return"IndexedDbTransactionError"===e.name}class Pr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Pr.ce=-1;const Mr=-1;function Fr(e){return null==e}function Vr(e){return 0===e&&1/e==-1/0}function Ur(e){return"number"==typeof e&&Number.isInteger(e)&&!Vr(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const zr="\x01";function Br(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Hr(t)),t=qr(e.get(n),t);return Hr(t)}function qr(e,t){let n=t;const r=e.length;for(let s=0;s<r;s++){const t=e.charAt(s);switch(t){case"\0":n+="\x01\x10";break;case zr:n+="\x01\x11";break;default:n+=t}}return n}function Hr(e){return e+zr+"\x01"}const Wr="remoteDocuments",Gr="owner",Kr="mutationQueues",Qr="mutations";const Yr="documentMutations",$r="remoteDocumentsV14",Xr="remoteDocumentGlobal",Jr="targets",Zr="targetDocuments",es="targetGlobal",ts="collectionParents",ns="clientMetadata",rs="bundles",ss="namedQueries",is="indexConfiguration",as="indexState",os="indexEntries",ls="documentOverlays",cs="globals",us=[Kr,Qr,Yr,Wr,Jr,Gr,es,Zr,ns,Xr,ts,rs,ss],ds=[Kr,Qr,Yr,$r,Jr,Gr,es,Zr,ns,Xr,ts,rs,ss,ls],hs=ds,fs=[...hs,is,as,os];function ms(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ps(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function gs(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class ys{constructor(e,t){this.comparator=e,this.root=t||vs.EMPTY}insert(e,t){return new ys(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,vs.BLACK,null,null))}remove(e){return new ys(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xs(this.root,e,this.comparator,!1)}getReverseIterator(){return new xs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xs(this.root,e,this.comparator,!0)}}class xs{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vs{constructor(e,t,n,r,s){this.key=e,this.value=t,this.color=null!=n?n:vs.RED,this.left=null!=r?r:vs.EMPTY,this.right=null!=s?s:vs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,s){return new vs(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const s=n(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return vs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return vs.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Pn(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Pn(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Pn(27949);return e+(this.isRed()?0:1)}}vs.EMPTY=null,vs.RED=!0,vs.BLACK=!1,vs.EMPTY=new class{constructor(){this.size=0}get key(){throw Pn(57766)}get value(){throw Pn(16141)}get color(){throw Pn(16727)}get left(){throw Pn(29726)}get right(){throw Pn(36894)}copy(e,t,n,r,s){return this}insert(e,t,n){return new vs(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class bs{constructor(e){this.comparator=e,this.data=new ys(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ws(this.data.getIterator())}getIteratorFrom(e){return new ws(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof bs))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new bs(this.comparator);return t.data=e,t}}class ws{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ns{constructor(e){this.fields=e,e.sort(cr.comparator)}static empty(){return new Ns([])}unionWith(e){let t=new bs(cr.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Ns(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return sr(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class ks extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class js{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new ks("Invalid base64 string: "+e):e}}(e);return new js(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new js(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Zn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}js.EMPTY_BYTE_STRING=new js("");const Ss=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cs(e){if(Fn(!!e,39018),"string"==typeof e){let t=0;const n=Ss.exec(e);if(Fn(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Es(e.seconds),nanos:Es(e.nanos)}}function Es(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function _s(e){return"string"==typeof e?js.fromBase64String(e):js.fromUint8Array(e)}const Ts="server_timestamp",Is="__type__",Ds="__previous_value__",As="__local_write_time__";function Rs(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[Is])||void 0===t?void 0:t.stringValue)===Ts}function Os(e){const t=e.mapValue.fields[Ds];return Rs(t)?Os(t):t}function Ls(e){const t=Cs(e.mapValue.fields[As].timestampValue);return new Nr(t.seconds,t.nanos)}class Ps{constructor(e,t,n,r,s,i,a,o,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=s,this.forceLongPolling=i,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l,this.isUsingEmulator=c}}const Ms="(default)";class Fs{constructor(e,t){this.projectId=e,this.database=t||Ms}static empty(){return new Fs("","")}get isDefaultDatabase(){return this.database===Ms}isEqual(e){return e instanceof Fs&&e.projectId===this.projectId&&e.database===this.database}}const Vs="__type__",Us="__max__",zs={mapValue:{fields:{__type__:{stringValue:Us}}}},Bs="__vector__",qs="value";function Hs(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Rs(e)?4:oi(e)?9007199254740991:ii(e)?10:11:Pn(28295,{value:e})}function Ws(e,t){if(e===t)return!0;const n=Hs(e);if(n!==Hs(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ls(e).isEqual(Ls(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Cs(e.timestampValue),r=Cs(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return _s(e.bytesValue).isEqual(_s(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Es(e.geoPointValue.latitude)===Es(t.geoPointValue.latitude)&&Es(e.geoPointValue.longitude)===Es(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Es(e.integerValue)===Es(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Es(e.doubleValue),r=Es(t.doubleValue);return n===r?Vr(n)===Vr(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return sr(e.arrayValue.values||[],t.arrayValue.values||[],Ws);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ms(n)!==ms(r))return!1;for(const s in n)if(n.hasOwnProperty(s)&&(void 0===r[s]||!Ws(n[s],r[s])))return!1;return!0}(e,t);default:return Pn(52216,{left:e})}}function Gs(e,t){return void 0!==(e.values||[]).find((e=>Ws(e,t)))}function Ks(e,t){if(e===t)return 0;const n=Hs(e),r=Hs(t);if(n!==r)return Zn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Zn(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Es(e.integerValue||e.doubleValue),r=Es(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Qs(e.timestampValue,t.timestampValue);case 4:return Qs(Ls(e),Ls(t));case 5:return er(e.stringValue,t.stringValue);case 6:return function(e,t){const n=_s(e),r=_s(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let s=0;s<n.length&&s<r.length;s++){const e=Zn(n[s],r[s]);if(0!==e)return e}return Zn(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Zn(Es(e.latitude),Es(t.latitude));return 0!==n?n:Zn(Es(e.longitude),Es(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Ys(e.arrayValue,t.arrayValue);case 10:return function(e,t,n,r,s,i){const a=e.fields||{},o=t.fields||{},l=null===(n=a[qs])||void 0===n?void 0:n.arrayValue,c=null===(r=o[qs])||void 0===r?void 0:r.arrayValue,u=Zn((null===l||void 0===l||null===(s=l.values)||void 0===s?void 0:s.length)||0,(null===c||void 0===c||null===(i=c.values)||void 0===i?void 0:i.length)||0);return 0!==u?u:Ys(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===zs.mapValue&&t===zs.mapValue)return 0;if(e===zs.mapValue)return 1;if(t===zs.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),s=t.fields||{},i=Object.keys(s);r.sort(),i.sort();for(let a=0;a<r.length&&a<i.length;++a){const e=er(r[a],i[a]);if(0!==e)return e;const t=Ks(n[r[a]],s[i[a]]);if(0!==t)return t}return Zn(r.length,i.length)}(e.mapValue,t.mapValue);default:throw Pn(23264,{he:n})}}function Qs(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Zn(e,t);const n=Cs(e),r=Cs(t),s=Zn(n.seconds,r.seconds);return 0!==s?s:Zn(n.nanos,r.nanos)}function Ys(e,t){const n=e.values||[],r=t.values||[];for(let s=0;s<n.length&&s<r.length;++s){const e=Ks(n[s],r[s]);if(e)return e}return Zn(n.length,r.length)}function $s(e){return Xs(e)}function Xs(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Cs(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return _s(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return ur.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Xs(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const s of t)r?r=!1:n+=",",n+="".concat(s,":").concat(Xs(e.fields[s]));return n+"}"}(e.mapValue):Pn(61005,{value:e})}function Js(e){switch(Hs(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Os(e);return t?16+Js(t):16;case 5:return 2*e.stringValue.length;case 6:return _s(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+Js(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return ps(e.fields,((e,n)=>{t+=e.length+Js(n)})),t}(e.mapValue);default:throw Pn(13486,{value:e})}}function Zs(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function ei(e){return!!e&&"integerValue"in e}function ti(e){return!!e&&"arrayValue"in e}function ni(e){return!!e&&"nullValue"in e}function ri(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function si(e){return!!e&&"mapValue"in e}function ii(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[Vs])||void 0===t?void 0:t.stringValue)===Bs}function ai(e){if(e.geoPointValue)return{geoPointValue:Me({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Me({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return ps(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=ai(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ai(e.arrayValue.values[n]);return t}return Me({},e)}function oi(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Us}class li{constructor(e){this.value=e}static empty(){return new li({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!si(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ai(t)}setAll(e){let t=cr.emptyPath(),n={},r=[];e.forEach(((e,s)=>{if(!t.isImmediateParentOf(s)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=s.popLast()}e?n[s.lastSegment()]=ai(e):r.push(s.lastSegment())}));const s=this.getFieldsMap(t);this.applyChanges(s,n,r)}delete(e){const t=this.field(e.popLast());si(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ws(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];si(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){ps(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new li(ai(this.value))}}function ci(e){const t=[];return ps(e.fields,((e,n)=>{const r=new cr([e]);if(si(n)){const e=ci(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Ns(t)}class ui{constructor(e,t,n,r,s,i,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=s,this.data=i,this.documentState=a}static newInvalidDocument(e){return new ui(e,0,kr.min(),kr.min(),kr.min(),li.empty(),0)}static newFoundDocument(e,t,n,r){return new ui(e,1,t,kr.min(),n,r,0)}static newNoDocument(e,t){return new ui(e,2,t,kr.min(),kr.min(),li.empty(),0)}static newUnknownDocument(e,t){return new ui(e,3,t,kr.min(),kr.min(),li.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(kr.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=li.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=li.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=kr.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ui&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ui(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class di{constructor(e,t){this.position=e,this.inclusive=t}}function hi(e,t,n){let r=0;for(let s=0;s<e.position.length;s++){const i=t[s],a=e.position[s];if(r=i.field.isKeyField()?ur.comparator(ur.fromName(a.referenceValue),n.key):Ks(a,n.data.field(i.field)),"desc"===i.dir&&(r*=-1),0!==r)break}return r}function fi(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Ws(e.position[n],t.position[n]))return!1;return!0}class mi{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function pi(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class gi{}class yi extends gi{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Si(e,t,n):"array-contains"===t?new Ti(e,n):"in"===t?new Ii(e,n):"not-in"===t?new Di(e,n):"array-contains-any"===t?new Ai(e,n):new yi(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Ci(e,n):new Ei(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(Ks(t,this.value)):null!==t&&Hs(this.value)===Hs(t)&&this.matchesComparison(Ks(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Pn(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xi extends gi{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new xi(e,t)}matches(e){return vi(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function vi(e){return"and"===e.op}function bi(e){return wi(e)&&vi(e)}function wi(e){for(const t of e.filters)if(t instanceof xi)return!1;return!0}function Ni(e){if(e instanceof yi)return e.field.canonicalString()+e.op.toString()+$s(e.value);if(bi(e))return e.filters.map((e=>Ni(e))).join(",");{const t=e.filters.map((e=>Ni(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function ki(e,t){return e instanceof yi?function(e,t){return t instanceof yi&&e.op===t.op&&e.field.isEqual(t.field)&&Ws(e.value,t.value)}(e,t):e instanceof xi?function(e,t){return t instanceof xi&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&ki(n,t.filters[r])),!0)}(e,t):void Pn(19439)}function ji(e){return e instanceof yi?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat($s(e.value))}(e):e instanceof xi?function(e){return e.op.toString()+" {"+e.getFilters().map(ji).join(" ,")+"}"}(e):"Filter"}class Si extends yi{constructor(e,t,n){super(e,t,n),this.key=ur.fromName(n.referenceValue)}matches(e){const t=ur.comparator(e.key,this.key);return this.matchesComparison(t)}}class Ci extends yi{constructor(e,t){super(e,"in",t),this.keys=_i("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Ei extends yi{constructor(e,t){super(e,"not-in",t),this.keys=_i("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function _i(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>ur.fromName(e.referenceValue)))}class Ti extends yi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ti(t)&&Gs(t.arrayValue,this.value)}}class Ii extends yi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Gs(this.value.arrayValue,t)}}class Di extends yi{constructor(e,t){super(e,"not-in",t)}matches(e){if(Gs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Gs(this.value.arrayValue,t)}}class Ai extends yi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ti(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Gs(this.value.arrayValue,e)))}}class Ri{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=s,this.startAt=i,this.endAt=a,this.Te=null}}function Oi(e){return new Ri(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Li(e){const t=Vn(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Ni(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Fr(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>$s(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>$s(e))).join(",")),t.Te=e}return t.Te}function Pi(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!pi(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!ki(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!fi(e.startAt,t.startAt)&&fi(e.endAt,t.endAt)}function Mi(e){return ur.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Fi{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=s,this.limitType=i,this.startAt=a,this.endAt=o,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Vi(e,t,n,r,s,i,a,o){return new Fi(e,t,n,r,s,i,a,o)}function Ui(e){return new Fi(e)}function zi(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Bi(e){return null!==e.collectionGroup}function qi(e){const t=Vn(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const s of t.explicitOrderBy)t.Ie.push(s),e.add(s.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new bs(cr.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new mi(r,n))})),e.has(cr.keyField().canonicalString())||t.Ie.push(new mi(cr.keyField(),n))}return t.Ie}function Hi(e){const t=Vn(e);return t.Ee||(t.Ee=Wi(t,qi(e))),t.Ee}function Wi(e,t){if("F"===e.limitType)return Oi(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new mi(e.field,t)}));const n=e.endAt?new di(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new di(e.startAt.position,e.startAt.inclusive):null;return Oi(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Gi(e,t){const n=e.filters.concat([t]);return new Fi(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Ki(e,t,n){return new Fi(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Qi(e,t){return Pi(Hi(e),Hi(t))&&e.limitType===t.limitType}function Yi(e){return"".concat(Li(Hi(e)),"|lt:").concat(e.limitType)}function $i(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>ji(e))).join(", "),"]")),Fr(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>$s(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>$s(e))).join(",")),"Target(".concat(t,")")}(Hi(e)),"; limitType=").concat(e.limitType,")")}function Xi(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ur.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of qi(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=hi(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,qi(e),t))&&!(e.endAt&&!function(e,t,n){const r=hi(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,qi(e),t))}(e,t)}function Ji(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Zi(e){return(t,n)=>{let r=!1;for(const s of qi(e)){const e=ea(s,t,n);if(0!==e)return e;r=r||s.field.isKeyField()}return 0}}function ea(e,t,n){const r=e.field.isKeyField()?ur.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),s=n.data.field(e);return null!==r&&null!==s?Ks(r,s):Pn(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Pn(19790,{direction:e.dir})}}class ta{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,s]of n)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ps(this.inner,((t,n)=>{for(const[r,s]of n)e(r,s)}))}isEmpty(){return gs(this.inner)}size(){return this.innerSize}}const na=new ys(ur.comparator);function ra(){return na}const sa=new ys(ur.comparator);function ia(){let e=sa;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const s of n)e=e.insert(s.key,s);return e}function aa(e){let t=sa;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function oa(){return ca()}function la(){return ca()}function ca(){return new ta((e=>e.toString()),((e,t)=>e.isEqual(t)))}const ua=new ys(ur.comparator),da=new bs(ur.comparator);function ha(){let e=da;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const s of n)e=e.add(s);return e}const fa=new bs(Zn);function ma(){return fa}function pa(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vr(t)?"-0":t}}function ga(e){return{integerValue:""+e}}function ya(e,t){return Ur(t)?ga(t):pa(e,t)}class xa{constructor(){this._=void 0}}function va(e,t,n){return e instanceof Na?function(e,t){const n={fields:{[Is]:{stringValue:Ts},[As]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Rs(t)&&(t=Os(t)),t&&(n.fields[Ds]=t),{mapValue:n}}(n,t):e instanceof ka?ja(e,t):e instanceof Sa?Ca(e,t):function(e,t){const n=wa(e,t),r=_a(n)+_a(e.Ae);return ei(n)&&ei(e.Ae)?ga(r):pa(e.serializer,r)}(e,t)}function ba(e,t,n){return e instanceof ka?ja(e,t):e instanceof Sa?Ca(e,t):n}function wa(e,t){return e instanceof Ea?function(e){return ei(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Na extends xa{}class ka extends xa{constructor(e){super(),this.elements=e}}function ja(e,t){const n=Ta(t);for(const r of e.elements)n.some((e=>Ws(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Sa extends xa{constructor(e){super(),this.elements=e}}function Ca(e,t){let n=Ta(t);for(const r of e.elements)n=n.filter((e=>!Ws(e,r)));return{arrayValue:{values:n}}}class Ea extends xa{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function _a(e){return Es(e.integerValue||e.doubleValue)}function Ta(e){return ti(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Ia{constructor(e,t){this.field=e,this.transform=t}}class Da{constructor(e,t){this.version=e,this.transformResults=t}}class Aa{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Aa}static exists(e){return new Aa(void 0,e)}static updateTime(e){return new Aa(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ra(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Oa{}function La(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Wa(e.key,Aa.none()):new Ua(e.key,e.data,Aa.none());{const n=e.data,r=li.empty();let s=new bs(cr.comparator);for(let e of t.fields)if(!s.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),s=s.add(e)}return new za(e.key,r,new Ns(s.toArray()),Aa.none())}}function Pa(e,t,n){e instanceof Ua?function(e,t,n){const r=e.value.clone(),s=qa(e.fieldTransforms,t,n.transformResults);r.setAll(s),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof za?function(e,t,n){if(!Ra(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=qa(e.fieldTransforms,t,n.transformResults),s=t.data;s.setAll(Ba(e)),s.setAll(r),t.convertToFoundDocument(n.version,s).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Ma(e,t,n,r){return e instanceof Ua?function(e,t,n,r){if(!Ra(e.precondition,t))return n;const s=e.value.clone(),i=Ha(e.fieldTransforms,r,t);return s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null}(e,t,n,r):e instanceof za?function(e,t,n,r){if(!Ra(e.precondition,t))return n;const s=Ha(e.fieldTransforms,r,t),i=t.data;return i.setAll(Ba(e)),i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return Ra(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Fa(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),s=wa(r.transform,e||null);null!=s&&(null===n&&(n=li.empty()),n.set(r.field,s))}return n||null}function Va(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&sr(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof ka&&t instanceof ka||e instanceof Sa&&t instanceof Sa?sr(e.elements,t.elements,Ws):e instanceof Ea&&t instanceof Ea?Ws(e.Ae,t.Ae):e instanceof Na&&t instanceof Na}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Ua extends Oa{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class za extends Oa{constructor(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Ba(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function qa(e,t,n){const r=new Map;Fn(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let s=0;s<n.length;s++){const i=e[s],a=i.transform,o=t.data.field(i.field);r.set(i.field,ba(a,o,n[s]))}return r}function Ha(e,t,n){const r=new Map;for(const s of e){const e=s.transform,i=n.data.field(s.field);r.set(s.field,va(e,i,t))}return r}class Wa extends Oa{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ga extends Oa{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ka{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Pa(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Ma(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Ma(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=la();return this.mutations.forEach((r=>{const s=e.get(r.key),i=s.overlayedDocument;let a=this.applyToLocalView(i,s.mutatedFields);a=t.has(r.key)?null:a;const o=La(i,a);null!==o&&n.set(r.key,o),i.isValidDocument()||i.convertToNoDocument(kr.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ha())}isEqual(e){return this.batchId===e.batchId&&sr(this.mutations,e.mutations,((e,t)=>Va(e,t)))&&sr(this.baseMutations,e.baseMutations,((e,t)=>Va(e,t)))}}class Qa{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Fn(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=ua;const s=e.mutations;for(let i=0;i<s.length;i++)r=r.insert(s[i].key,n[i].version);return new Qa(e,t,n,r)}}class Ya{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class $a{constructor(e,t){this.count=e,this.unchangedNames=t}}var Xa,Ja;function Za(e){switch(e){case Un.OK:return Pn(64938);case Un.CANCELLED:case Un.UNKNOWN:case Un.DEADLINE_EXCEEDED:case Un.RESOURCE_EXHAUSTED:case Un.INTERNAL:case Un.UNAVAILABLE:case Un.UNAUTHENTICATED:return!1;case Un.INVALID_ARGUMENT:case Un.NOT_FOUND:case Un.ALREADY_EXISTS:case Un.PERMISSION_DENIED:case Un.FAILED_PRECONDITION:case Un.ABORTED:case Un.OUT_OF_RANGE:case Un.UNIMPLEMENTED:case Un.DATA_LOSS:return!0;default:return Pn(15467,{code:e})}}function eo(e){if(void 0===e)return Rn("GRPC error has no .code"),Un.UNKNOWN;switch(e){case Xa.OK:return Un.OK;case Xa.CANCELLED:return Un.CANCELLED;case Xa.UNKNOWN:return Un.UNKNOWN;case Xa.DEADLINE_EXCEEDED:return Un.DEADLINE_EXCEEDED;case Xa.RESOURCE_EXHAUSTED:return Un.RESOURCE_EXHAUSTED;case Xa.INTERNAL:return Un.INTERNAL;case Xa.UNAVAILABLE:return Un.UNAVAILABLE;case Xa.UNAUTHENTICATED:return Un.UNAUTHENTICATED;case Xa.INVALID_ARGUMENT:return Un.INVALID_ARGUMENT;case Xa.NOT_FOUND:return Un.NOT_FOUND;case Xa.ALREADY_EXISTS:return Un.ALREADY_EXISTS;case Xa.PERMISSION_DENIED:return Un.PERMISSION_DENIED;case Xa.FAILED_PRECONDITION:return Un.FAILED_PRECONDITION;case Xa.ABORTED:return Un.ABORTED;case Xa.OUT_OF_RANGE:return Un.OUT_OF_RANGE;case Xa.UNIMPLEMENTED:return Un.UNIMPLEMENTED;case Xa.DATA_LOSS:return Un.DATA_LOSS;default:return Pn(39323,{code:e})}}(Ja=Xa||(Xa={}))[Ja.OK=0]="OK",Ja[Ja.CANCELLED=1]="CANCELLED",Ja[Ja.UNKNOWN=2]="UNKNOWN",Ja[Ja.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ja[Ja.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ja[Ja.NOT_FOUND=5]="NOT_FOUND",Ja[Ja.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ja[Ja.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ja[Ja.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ja[Ja.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ja[Ja.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ja[Ja.ABORTED=10]="ABORTED",Ja[Ja.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ja[Ja.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ja[Ja.INTERNAL=13]="INTERNAL",Ja[Ja.UNAVAILABLE=14]="UNAVAILABLE",Ja[Ja.DATA_LOSS=15]="DATA_LOSS";let to=null;function no(){return new TextEncoder}const ro=new hn([4294967295,4294967295],0);function so(e){const t=no().encode(e),n=new fn;return n.update(t),new Uint8Array(n.digest())}function io(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),s=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new hn([n,r],0),new hn([s,i],0)]}class ao{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new oo("Invalid padding: ".concat(t));if(n<0)throw new oo("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new oo("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new oo("Invalid padding when bitmap length is 0: ".concat(t));this.ge=8*e.length-t,this.pe=hn.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(hn.fromNumber(n)));return 1===r.compare(ro)&&(r=new hn([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;const t=so(e),[n,r]=io(t);for(let s=0;s<this.hashCount;s++){const e=this.ye(n,r,s);if(!this.we(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),i=new ao(s,r,t);return n.forEach((e=>i.insert(e))),i}insert(e){if(0===this.ge)return;const t=so(e),[n,r]=io(t);for(let s=0;s<this.hashCount;s++){const e=this.ye(n,r,s);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class oo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class lo{constructor(e,t,n,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,co.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new lo(kr.min(),r,new ys(Zn),ra(),ha())}}class co{constructor(e,t,n,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new co(n,t,ha(),ha(),ha())}}class uo{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}}class ho{constructor(e,t){this.targetId=e,this.Ce=t}}class fo{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:js.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class mo{constructor(){this.ve=0,this.Fe=yo(),this.Me=js.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ha(),t=ha(),n=ha();return this.Fe.forEach(((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Pn(38017,{changeType:s})}})),new co(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=yo()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Fn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class po{constructor(e){this.Ge=e,this.ze=new Map,this.je=ra(),this.Je=go(),this.He=go(),this.Ye=new ys(Zn)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:Pn(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((e,n)=>{this.rt(n)&&t(n)}))}st(e){const t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){const i=r.target;if(Mi(i))if(0===n){const e=new ur(i.path);this.et(t,e,ui.newNoDocument(e,kr.min()))}else Fn(1===n,20013,{expectedCount:n});else{const r=this._t(t);if(r!==n){var s;const n=this.ut(e),i=n?this.ct(n,e,r):1;if(0!==i){this.it(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,e)}null===(s=to)||void 0===s||s.lt(function(e,t,n,r,s,i,a,o,l,c){const u={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(u.bloomFilter={applied:0===s,hashCount:null!==(i=null===d||void 0===d?void 0:d.hashCount)&&void 0!==i?i:0,bitmapLength:null!==(a=null===d||void 0===d||null===(o=d.bits)||void 0===o||null===(o=o.bitmap)||void 0===o?void 0:o.length)&&void 0!==a?a:0,padding:null!==(l=null===d||void 0===d||null===(c=d.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:e=>{var t;return null!==(t=null===r||void 0===r?void 0:r.mightContain(e))&&void 0!==t&&t}}),u}(r,e.Ce,this.Ge.ht(),n,i))}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:s=0}=t;let i,a;try{i=_s(n).toUint8Array()}catch(e){if(e instanceof ks)return On("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new ao(i,r,s)}catch(e){return On(e instanceof oo?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.ge?null:a}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const s=this.Ge.ht(),i="projects/".concat(s.projectId,"/databases/").concat(s.database,"/documents/").concat(n.path.canonicalString());e.mightContain(i)||(this.et(t,n,null),r++)})),r}Tt(e){const t=new Map;this.ze.forEach(((n,r)=>{const s=this.ot(r);if(s){if(n.current&&Mi(s.target)){const t=new ur(s.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,ui.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.qe())}}));let n=ha();this.He.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.je.forEach(((t,n)=>n.setReadTime(e)));const r=new lo(e,t,this.Ye,this.je,n);return this.je=ra(),this.Je=go(),this.He=go(),this.Ye=new ys(Zn),r}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new mo,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new bs(Zn),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new bs(Zn),this.Je=this.Je.insert(e,t)),t}rt(e){const t=null!==this.ot(e);return t||An("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new mo),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function go(){return new ys(ur.comparator)}function yo(){return new ys(ur.comparator)}const xo={asc:"ASCENDING",desc:"DESCENDING"},vo={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bo={and:"AND",or:"OR"};class wo{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function No(e,t){return e.useProto3Json||Fr(t)?t:{value:t}}function ko(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function jo(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function So(e,t){return ko(e,t.toTimestamp())}function Co(e){return Fn(!!e,49232),kr.fromTimestamp(function(e){const t=Cs(e);return new Nr(t.seconds,t.nanos)}(e))}function Eo(e,t){return _o(e,t).canonicalString()}function _o(e,t){const n=function(e){return new or(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function To(e){const t=or.fromString(e);return Fn(Yo(t),10190,{key:t.toString()}),t}function Io(e,t){return Eo(e.databaseId,t.path)}function Do(e,t){const n=To(t);if(n.get(1)!==e.databaseId.projectId)throw new zn(Un.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new zn(Un.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ur(Lo(n))}function Ao(e,t){return Eo(e.databaseId,t)}function Ro(e){const t=To(e);return 4===t.length?or.emptyPath():Lo(t)}function Oo(e){return new or(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Lo(e){return Fn(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function Po(e,t,n){return{name:Io(e,t),fields:n.value.mapValue.fields}}function Mo(e,t){let n;if(t instanceof Ua)n={update:Po(e,t.key,t.value)};else if(t instanceof Wa)n={delete:Io(e,t.key)};else if(t instanceof za)n={update:Po(e,t.key,t.data),updateMask:Qo(t.fieldMask)};else{if(!(t instanceof Ga))return Pn(16599,{Vt:t.type});n={verify:Io(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Na)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ka)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Sa)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ea)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw Pn(20930,{transform:t.transform})}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:So(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Pn(27497)}(e,t.precondition)),n}function Fo(e,t){return{documents:[Ao(e,t.path)]}}function Vo(e,t){const n={structuredQuery:{}},r=t.path;let s;null!==t.collectionGroup?(s=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Ao(e,s);const i=function(e){if(0!==e.length)return Ko(xi.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const a=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Wo(e.field),direction:Bo(e.dir)}}(e)))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=No(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:s}}function Uo(e){let t=Ro(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Fn(1===r,65062);const e=n.from[0];e.allDescendants?s=e.collectionId:t=t.child(e.collectionId)}let i=[];n.where&&(i=function(e){const t=zo(e);return t instanceof xi&&bi(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map((e=>function(e){return new mi(Go(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Fr(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new di(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new di(n,t)}(n.endAt)),Vi(t,s,a,i,o,"F",l,c)}function zo(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Go(e.unaryFilter.field);return yi.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Go(e.unaryFilter.field);return yi.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Go(e.unaryFilter.field);return yi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Go(e.unaryFilter.field);return yi.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Pn(61313);default:return Pn(60726)}}(e):void 0!==e.fieldFilter?function(e){return yi.create(Go(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Pn(58110);default:return Pn(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return xi.create(e.compositeFilter.filters.map((e=>zo(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Pn(1026)}}(e.compositeFilter.op))}(e):Pn(30097,{filter:e})}function Bo(e){return xo[e]}function qo(e){return vo[e]}function Ho(e){return bo[e]}function Wo(e){return{fieldPath:e.canonicalString()}}function Go(e){return cr.fromServerFormat(e.fieldPath)}function Ko(e){return e instanceof yi?function(e){if("=="===e.op){if(ri(e.value))return{unaryFilter:{field:Wo(e.field),op:"IS_NAN"}};if(ni(e.value))return{unaryFilter:{field:Wo(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ri(e.value))return{unaryFilter:{field:Wo(e.field),op:"IS_NOT_NAN"}};if(ni(e.value))return{unaryFilter:{field:Wo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wo(e.field),op:qo(e.op),value:e.value}}}(e):e instanceof xi?function(e){const t=e.getFilters().map((e=>Ko(e)));return 1===t.length?t[0]:{compositeFilter:{op:Ho(e.op),filters:t}}}(e):Pn(54877,{filter:e})}function Qo(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Yo(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class $o{constructor(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:kr.min(),i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:kr.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:js.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new $o(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new $o(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $o(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $o(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Xo{constructor(e){this.yt=e}}function Jo(e){const t=Uo({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Ki(t,t.limit,"L"):t}class Zo{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(Es(e.integerValue));else if("doubleValue"in e){const n=Es(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),Vr(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),"string"==typeof n&&(n=Cs(n)),t.xt("".concat(n.seconds||"")),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(_s(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?oi(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):ii(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):Pn(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const n=e.fields||{};this.Ft(t,55);for(const r of Object.keys(n))this.Ot(r,t),this.Ct(n[r],t)}kt(e,t){var n;const r=e.fields||{};this.Ft(t,53);const s=qs,i=(null===(n=r[s].arrayValue)||void 0===n||null===(n=n.values)||void 0===n?void 0:n.length)||0;this.Ft(t,15),t.Mt(Es(i)),this.Ot(s,t),this.Ct(r[s],t)}Qt(e,t){const n=e.values||[];this.Ft(t,50);for(const r of n)this.Ct(r,t)}Lt(e,t){this.Ft(t,37),ur.fromName(e).path.forEach((e=>{this.Ft(t,60),this.Ut(e,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}Zo.Kt=new Zo;class el{constructor(){this.Cn=new tl}addToCollectionParentIndex(e,t){return this.Cn.add(t),Rr.resolve()}getCollectionParents(e,t){return Rr.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Rr.resolve()}deleteFieldIndex(e,t){return Rr.resolve()}deleteAllFieldIndexes(e){return Rr.resolve()}createTargetIndexes(e,t){return Rr.resolve()}getDocumentsMatchingTarget(e,t){return Rr.resolve(null)}getIndexType(e,t){return Rr.resolve(0)}getFieldIndexes(e,t){return Rr.resolve([])}getNextCollectionGroupToUpdate(e){return Rr.resolve(null)}getMinOffset(e,t){return Rr.resolve(_r.min())}getMinOffsetFromCollectionGroup(e,t){return Rr.resolve(_r.min())}updateCollectionGroup(e,t,n){return Rr.resolve()}updateIndexEntries(e,t){return Rr.resolve()}}class tl{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new bs(or.comparator),s=!r.has(n);return this.index[t]=r.add(n),s}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new bs(or.comparator)).toArray()}}new Uint8Array(0);const nl={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rl=41943040;class sl{static withCacheSize(e){return new sl(e,sl.DEFAULT_COLLECTION_PERCENTILE,sl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}sl.DEFAULT_COLLECTION_PERCENTILE=10,sl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sl.DEFAULT=new sl(rl,sl.DEFAULT_COLLECTION_PERCENTILE,sl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sl.DISABLED=new sl(-1,0,0);class il{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new il(0)}static cr(){return new il(-1)}}const al="LruGarbageCollector",ol=1048576;function ll(e,t){let[n,r]=e,[s,i]=t;const a=Zn(n,s);return 0===a?Zn(r,i):a}class cl{constructor(e){this.Ir=e,this.buffer=new bs(ll),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();ll(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ul{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(e){An(al,"Garbage collection scheduled in ".concat(e,"ms")),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Lr(e)?An(al,"Ignoring IndexedDB error during garbage collection: ",e):await Ar(e)}await this.Vr(3e5)}))}}class dl{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return Rr.resolve(Pr.ce);const n=new cl(t);return this.mr.forEachTarget(e,(e=>n.Ar(e.sequenceNumber))).next((()=>this.mr.pr(e,(e=>n.Ar(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(An("LruGarbageCollector","Garbage collection skipped; disabled"),Rr.resolve(nl)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(An("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),nl):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,s,i,a,o,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(An("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,i=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,a=Date.now(),this.removeTargets(e,n,t)))).next((t=>(s=t,o=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),Dn()<=ht.DEBUG&&An("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(i-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(a-i)+"ms\n"+"\tRemoved ".concat(s," targets in ")+(o-a)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-o)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),Rr.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:e}))))}}function hl(e,t){return new dl(e,t)}class fl{constructor(){this.changes=new ta((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ui.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Rr.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ml{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class pl{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Ma(n.mutation,e,Ns.empty(),Nr.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,ha()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ha();const r=oa();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=ia();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=oa();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,ha())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let s=ra();const i=ca(),a=ca();return t.forEach(((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof za)?s=s.insert(t.key,t):void 0!==a?(i.set(t.key,a.mutation.getFieldMask()),Ma(a.mutation,t,a.mutation.getFieldMask(),Nr.now())):i.set(t.key,Ns.empty())})),this.recalculateAndSaveOverlays(e,s).next((e=>(e.forEach(((e,t)=>i.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new ml(t,null!==(n=i.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=ca();let r=new ys(((e,t)=>e-t)),s=ha();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const s of e)s.keys().forEach((e=>{const i=t.get(e);if(null===i)return;let a=n.get(e)||Ns.empty();a=s.applyToLocalView(i,a),n.set(e,a);const o=(r.get(s.batchId)||ha()).add(e);r=r.insert(s.batchId,o)}))})).next((()=>{const i=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=la();l.forEach((e=>{if(!s.has(e)){const r=La(t.get(e),n.get(e));null!==r&&c.set(e,r),s=s.add(e)}})),i.push(this.documentOverlayCache.saveOverlays(e,o,c))}return Rr.waitFor(i)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return ur.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Bi(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((s=>{const i=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-s.size):Rr.resolve(oa());let a=jr,o=s;return i.next((t=>Rr.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),s.get(t)?Rr.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{o=o.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,s))).next((()=>this.computeViews(e,o,t,ha()))).next((e=>({batchId:a,changes:aa(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ur(t)).next((e=>{let t=ia();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const s=t.collectionGroup;let i=ia();return this.indexManager.getCollectionParents(e,s).next((a=>Rr.forEach(a,(a=>{const o=function(e,t){return new Fi(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(s));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((i=>(s=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,s,r)))).next((e=>{s.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,ui.newInvalidDocument(r)))}));let n=ia();return e.forEach(((e,r)=>{const i=s.get(e);void 0!==i&&Ma(i.mutation,r,Ns.empty(),Nr.now()),Xi(t,r)&&(n=n.insert(e,r))})),n}))}}class gl{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Rr.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Co(e.createTime)}}(t)),Rr.resolve()}getNamedQuery(e,t){return Rr.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:Jo(e.bundledQuery),readTime:Co(e.readTime)}}(t)),Rr.resolve()}}class yl{constructor(){this.overlays=new ys(ur.comparator),this.qr=new Map}getOverlay(e,t){return Rr.resolve(this.overlays.get(t))}getOverlays(e,t){const n=oa();return Rr.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.St(e,t,r)})),Rr.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.qr.delete(n)),Rr.resolve()}getOverlaysForCollection(e,t,n){const r=oa(),s=t.length+1,i=new ur(t.child("")),a=this.overlays.getIteratorFrom(i);for(;a.hasNext();){const e=a.getNext().value,i=e.getKey();if(!t.isPrefixOf(i.path))break;i.path.length===s&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Rr.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let s=new ys(((e,t)=>e-t));const i=this.overlays.getIterator();for(;i.hasNext();){const e=i.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=s.get(e.largestBatchId);null===t&&(t=oa(),s=s.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=oa(),o=s.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return Rr.resolve(a)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Ya(t,n));let s=this.qr.get(t);void 0===s&&(s=ha(),this.qr.set(t,s)),this.qr.set(t,s.add(n.key))}}class xl{constructor(){this.sessionToken=js.EMPTY_BYTE_STRING}getSessionToken(e){return Rr.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Rr.resolve()}}class vl{constructor(){this.Qr=new bs(bl.$r),this.Ur=new bs(bl.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new bl(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Gr(new bl(e,t))}zr(e,t){e.forEach((e=>this.removeReference(e,t)))}jr(e){const t=new ur(new or([])),n=new bl(t,e),r=new bl(t,e+1),s=[];return this.Ur.forEachInRange([n,r],(e=>{this.Gr(e),s.push(e.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ur(new or([])),n=new bl(t,e),r=new bl(t,e+1);let s=ha();return this.Ur.forEachInRange([n,r],(e=>{s=s.add(e.key)})),s}containsKey(e){const t=new bl(e,0),n=this.Qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class bl{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ur.comparator(e.key,t.key)||Zn(e.Yr,t.Yr)}static Kr(e,t){return Zn(e.Yr,t.Yr)||ur.comparator(e.key,t.key)}}class wl{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new bs(bl.$r)}checkEmpty(e){return Rr.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new Ka(s,t,n,r);this.mutationQueue.push(i);for(const a of r)this.Zr=this.Zr.add(new bl(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Rr.resolve(i)}lookupMutationBatch(e,t){return Rr.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),s=r<0?0:r;return Rr.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Rr.resolve(0===this.mutationQueue.length?Mr:this.tr-1)}getAllMutationBatches(e){return Rr.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new bl(t,0),r=new bl(t,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([n,r],(e=>{const t=this.Xr(e.Yr);s.push(t)})),Rr.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new bs(Zn);return t.forEach((e=>{const t=new bl(e,0),r=new bl(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,r],(e=>{n=n.add(e.Yr)}))})),Rr.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let s=n;ur.isDocumentKey(s)||(s=s.child(""));const i=new bl(new ur(s),0);let a=new bs(Zn);return this.Zr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.Yr)),!0)}),i),Rr.resolve(this.ti(a))}ti(e){const t=[];return e.forEach((e=>{const n=this.Xr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Fn(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Zr;return Rr.forEach(t.mutations,(r=>{const s=new bl(r.key,t.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Zr=n}))}ir(e){}containsKey(e,t){const n=new bl(t,0),r=this.Zr.firstAfterOrEqual(n);return Rr.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Rr.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Nl{constructor(e){this.ri=e,this.docs=new ys(ur.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),s=r?r.size:0,i=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:i}),this.size+=i-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Rr.resolve(n?n.document.mutableCopy():ui.newInvalidDocument(t))}getEntries(e,t){let n=ra();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():ui.newInvalidDocument(e))})),Rr.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let s=ra();const i=t.path,a=new ur(i.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!i.isPrefixOf(e.path))break;e.path.length>i.length+1||Tr(Er(a),n)<=0||(r.has(a.key)||Xi(t,a))&&(s=s.insert(a.key,a.mutableCopy()))}return Rr.resolve(s)}getAllFromCollectionGroup(e,t,n,r){Pn(9500)}ii(e,t){return Rr.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new kl(this)}getSize(e){return Rr.resolve(this.size)}}class kl extends fl{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)})),Rr.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class jl{constructor(e){this.persistence=e,this.si=new ta((e=>Li(e)),Pi),this.lastRemoteSnapshotVersion=kr.min(),this.highestTargetId=0,this.oi=0,this._i=new vl,this.targetCount=0,this.ai=il.ur()}forEachTarget(e,t){return this.si.forEach(((e,n)=>t(n))),Rr.resolve()}getLastRemoteSnapshotVersion(e){return Rr.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Rr.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Rr.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),Rr.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new il(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Rr.resolve()}updateTargetData(e,t){return this.Pr(t),Rr.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Rr.resolve()}removeTargets(e,t,n){let r=0;const s=[];return this.si.forEach(((i,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.si.delete(i),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),Rr.waitFor(s).next((()=>r))}getTargetCount(e){return Rr.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return Rr.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),Rr.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach((t=>{s.push(r.markPotentiallyOrphaned(e,t))})),Rr.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Rr.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return Rr.resolve(n)}containsKey(e,t){return Rr.resolve(this._i.containsKey(t))}}class Sl{constructor(e,t){this.ui={},this.overlays={},this.ci=new Pr(0),this.li=!1,this.li=!0,this.hi=new xl,this.referenceDelegate=e(this),this.Pi=new jl(this),this.indexManager=new el,this.remoteDocumentCache=function(e){return new Nl(e)}((e=>this.referenceDelegate.Ti(e))),this.serializer=new Xo(t),this.Ii=new gl(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new yl,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new wl(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){An("MemoryPersistence","Starting transaction:",e);const r=new Cl(this.ci.next());return this.referenceDelegate.Ei(),n(r).next((e=>this.referenceDelegate.di(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Ai(e,t){return Rr.or(Object.values(this.ui).map((n=>()=>n.containsKey(e,t))))}}class Cl extends Dr{constructor(e){super(),this.currentSequenceNumber=e}}class El{constructor(e){this.persistence=e,this.Ri=new vl,this.Vi=null}static mi(e){return new El(e)}get fi(){if(this.Vi)return this.Vi;throw Pn(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),Rr.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),Rr.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Rr.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((e=>this.fi.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.fi.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Rr.forEach(this.fi,(n=>{const r=ur.fromPath(n);return this.gi(e,r).next((e=>{e||t.removeEntry(r,kr.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return Rr.or([()=>Rr.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class _l{constructor(e,t){this.persistence=e,this.pi=new ta((e=>Br(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=hl(this,t)}static mi(e,t){return new _l(e,t)}Ei(){}di(e){return Rr.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}wr(e){let t=0;return this.pr(e,(e=>{t++})).next((()=>t))}pr(e,t){return Rr.forEach(this.pi,((n,r)=>this.br(e,n,r).next((e=>e?Rr.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.ii(e,(r=>this.br(e,r,t).next((e=>{e||(n++,s.removeEntry(r,kr.min()))})))).next((()=>s.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Rr.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Rr.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Rr.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Rr.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Js(e.data.value)),t}br(e,t,n){return Rr.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.pi.get(t);return Rr.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Tl{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=ha(),r=ha();for(const s of t.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new Tl(e,t.fromCache,n,r)}}class Il{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Dl{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=!et()&&navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")?8:Or(Ze())>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const s={result:null};return this.ys(e,t).next((e=>{s.result=e})).next((()=>{if(!s.result)return this.ws(e,t,r,n).next((e=>{s.result=e}))})).next((()=>{if(s.result)return;const n=new Il;return this.Ss(e,t,n).next((r=>{if(s.result=r,this.Vs)return this.bs(e,t,n,r.size)}))})).next((()=>s.result))}bs(e,t,n,r){return n.documentReadCount<this.fs?(Dn()<=ht.DEBUG&&An("QueryEngine","SDK will not create cache indexes for query:",$i(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Rr.resolve()):(Dn()<=ht.DEBUG&&An("QueryEngine","Query:",$i(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(Dn()<=ht.DEBUG&&An("QueryEngine","The SDK decides to create cache indexes for query:",$i(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hi(t))):Rr.resolve())}ys(e,t){if(zi(t))return Rr.resolve(null);let n=Hi(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Ki(t,null,"F"),n=Hi(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const s=ha(...r);return this.ps.getDocuments(e,s).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const i=this.Ds(t,r);return this.Cs(t,i,s,n.readTime)?this.ys(e,Ki(t,null,"F")):this.vs(e,i,t,n)}))))})))))}ws(e,t,n,r){return zi(t)||r.isEqual(kr.min())?Rr.resolve(null):this.ps.getDocuments(e,n).next((s=>{const i=this.Ds(t,s);return this.Cs(t,i,n,r)?Rr.resolve(null):(Dn()<=ht.DEBUG&&An("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),$i(t)),this.vs(e,i,t,Cr(r,jr)).next((e=>e)))}))}Ds(e,t){let n=new bs(Zi(e));return t.forEach(((t,r)=>{Xi(e,r)&&(n=n.add(r))})),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ss(e,t,n){return Dn()<=ht.DEBUG&&An("QueryEngine","Using full collection scan to execute query:",$i(t)),this.ps.getDocumentsMatchingQuery(e,t,_r.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}const Al="LocalStore",Rl=3e8;class Ol{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new ys(Zn),this.xs=new ta((e=>Li(e)),Pi),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pl(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function Ll(e,t,n,r){return new Ol(e,t,n,r)}async function Pl(e,t){const n=Vn(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((s=>(r=s,n.Bs(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const s=[],i=[];let a=ha();for(const e of r){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({Ls:e,removedBatchIds:s,addedBatchIds:i})))}))}))}function Ml(e){const t=Vn(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function Fl(e,t,n){let r=ha(),s=ha();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=ra();return n.forEach(((n,i)=>{const a=e.get(n);i.isFoundDocument()!==a.isFoundDocument()&&(s=s.add(n)),i.isNoDocument()&&i.version.isEqual(kr.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):An(Al,"Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),{ks:r,qs:s}}))}function Vl(e,t){const n=Vn(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=Mr),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Ul(e,t){const n=Vn(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Pi.getTargetData(e,t).next((s=>s?(r=s,Rr.resolve(r)):n.Pi.allocateTargetId(e).next((s=>(r=new $o(t,s,"TargetPurposeListen",e.currentSequenceNumber),n.Pi.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.xs.set(t,e.targetId)),e}))}async function zl(e,t,n){const r=Vn(e),s=r.Ms.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,(e=>r.persistence.referenceDelegate.removeTarget(e,s)))}catch(e){if(!Lr(e))throw e;An(Al,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ms=r.Ms.remove(t),r.xs.delete(s.target)}function Bl(e,t,n){const r=Vn(e);let s=kr.min(),i=ha();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=Vn(e),s=r.xs.get(n);return void 0!==s?Rr.resolve(r.Ms.get(s)):r.Pi.getTargetData(t,n)}(r,e,Hi(t)).next((t=>{if(t)return s=t.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(e,t.targetId).next((e=>{i=e}))})).next((()=>r.Fs.getDocumentsMatchingQuery(e,t,n?s:kr.min(),n?i:ha()))).next((e=>(ql(r,Ji(t),e),{documents:e,Qs:i})))))}function ql(e,t,n){let r=e.Os.get(t)||kr.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Os.set(t,r)}class Hl{constructor(){this.activeTargetIds=ma()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Wl{constructor(){this.Mo=new Hl,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Hl,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Gl{Oo(e){}shutdown(){}}const Kl="ConnectivityMonitor";class Ql{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){An(Kl,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){An(Kl,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Yl=null;function $l(){return null===Yl?Yl=268435456+Math.round(2147483648*Math.random()):Yl++,"0x"+Yl.toString(16)}const Xl="RestConnection",Jl={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Zl{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko="projects/".concat(n,"/databases/").concat(r),this.Wo=this.databaseId.database===Ms?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}Go(e,t,n,r,s){const i=$l(),a=this.zo(e,t.toUriEncodedString());An(Xl,"Sending RPC '".concat(e,"' ").concat(i,":"),a,n);const o={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(o,r,s);const{host:l}=new URL(a),c=Qe(l);return this.Jo(e,a,o,n,c).then((t=>(An(Xl,"Received RPC '".concat(e,"' ").concat(i,": "),t),t)),(t=>{throw On(Xl,"RPC '".concat(e,"' ").concat(i," failed with error: "),t,"url: ",a,"request:",n),t}))}Ho(e,t,n,r,s,i){return this.Go(e,t,n,r,s)}jo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Tn,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}zo(e,t){const n=Jl[e];return"".concat(this.Uo,"/v1/").concat(t,":").concat(n)}terminate(){}}class ec{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const tc="WebChannelConnection";class nc extends Zl{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,s){const i=$l();return new Promise(((s,a)=>{const o=new gn;o.setWithCredentials(!0),o.listenOnce(xn.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case vn.NO_ERROR:const n=o.getResponseJson();An(tc,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(n)),s(n);break;case vn.TIMEOUT:An(tc,"RPC '".concat(e,"' ").concat(i," timed out")),a(new zn(Un.DEADLINE_EXCEEDED,"Request time out"));break;case vn.HTTP_ERROR:const r=o.getStatus();if(An(tc,"RPC '".concat(e,"' ").concat(i," failed with status:"),r,"response text:",o.getResponseText()),r>0){var t;let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const n=null===(t=e)||void 0===t?void 0:t.error;if(n&&n.status&&n.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Un).indexOf(t)>=0?t:Un.UNKNOWN}(n.status);a(new zn(e,n.message))}else a(new zn(Un.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new zn(Un.UNAVAILABLE,"Connection failed."));break;default:Pn(9055,{l_:e,streamId:i,h_:o.getLastErrorCode(),P_:o.getLastError()})}}finally{An(tc,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);An(tc,"RPC '".concat(e,"' ").concat(i," sending request:"),r),o.send(t,"POST",l,n,15)}))}T_(e,t,n){const r=$l(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=kn(),a=Nn(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.jo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=s.join("");An(tc,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),o);const u=i.createWebChannel(c,o);this.I_(u);let d=!1,h=!1;const f=new ec({Yo:t=>{h?An(tc,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(An(tc,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),An(tc,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Zo:()=>u.close()}),m=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return m(u,yn.EventType.OPEN,(()=>{h||(An(tc,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.o_())})),m(u,yn.EventType.CLOSE,(()=>{h||(h=!0,An(tc,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.a_(),this.E_(u))})),m(u,yn.EventType.ERROR,(t=>{h||(h=!0,On(tc,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),f.a_(new zn(Un.UNAVAILABLE,"The operation could not be completed")))})),m(u,yn.EventType.MESSAGE,(t=>{if(!h){var n;const s=t.data[0];Fn(!!s,16349);const i=s,a=(null===i||void 0===i?void 0:i.error)||(null===(n=i[0])||void 0===n?void 0:n.error);if(a){An(tc,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=Xa[e];if(void 0!==t)return eo(t)}(t),s=a.message;void 0===n&&(n=Un.INTERNAL,s="Unknown error status: "+t+" with message "+a.message),h=!0,f.a_(new zn(n,s)),u.close()}else An(tc,"RPC '".concat(e,"' stream ").concat(r," received:"),s),f.u_(s)}})),m(a,wn.STAT_EVENT,(t=>{t.stat===bn.PROXY?An(tc,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===bn.NOPROXY&&An(tc,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.__()}),0),f}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function rc(){return"undefined"!=typeof document?document:null}function sc(e){return new wo(e,!0)}class ic{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&An("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.V_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const ac="PersistentStream";class oc{constructor(e,t,n,r,s,i,a,o){this.Mi=e,this.S_=n,this.b_=r,this.connection=s,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ic(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===Un.RESOURCE_EXHAUSTED?(Rn(t.toString()),Rn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Un.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.D_===t&&this.G_(n,r)}),(t=>{e((()=>{const e=new zn(Un.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)}))}))}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{n((()=>this.listener.Xo()))})),this.stream.t_((()=>{n((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((e=>{n((()=>this.z_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.F_?this.J_(e):this.onNext(e)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return An(ac,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(An(ac,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class lc extends oc{constructor(e,t,n,r,s,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,i),this.serializer=s}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Pn(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],i=function(e,t){return e.useProto3Json?(Fn(void 0===t||"string"==typeof t,58123),js.fromBase64String(t||"")):(Fn(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),js.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?Un.UNKNOWN:eo(e.code);return new zn(t,e.message||"")}(a);n=new fo(r,s,i,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const s=Do(e,r.document.name),i=Co(r.document.updateTime),a=r.document.createTime?Co(r.document.createTime):kr.min(),o=new li({mapValue:{fields:r.document.fields}}),l=ui.newFoundDocument(s,i,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new uo(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const s=Do(e,r.document),i=r.readTime?Co(r.readTime):kr.min(),a=ui.newNoDocument(s,i),o=r.removedTargetIds||[];n=new uo([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const s=Do(e,r.document),i=r.removedTargetIds||[];n=new uo([],i,s,null)}else{if(!("filter"in t))return Pn(11601,{Rt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:s}=e,i=new $a(r,s),a=e.targetId;n=new ho(a,i)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return kr.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?kr.min():t.readTime?Co(t.readTime):kr.min()}(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=Oo(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Mi(r)?{documents:Fo(e,r)}:{query:Vo(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=jo(e,t.resumeToken);const r=No(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(kr.min())>0){n.readTime=ko(e,t.snapshotVersion.toTimestamp());const r=No(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pn(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=Oo(this.serializer),t.removeTarget=e,this.q_(t)}}class cc extends oc{constructor(e,t,n,r,s,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,i),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Fn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fn(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){Fn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=function(e,t){return e&&e.length>0?(Fn(void 0!==t,14353),e.map((e=>function(e,t){let n=e.updateTime?Co(e.updateTime):Co(t);return n.isEqual(kr.min())&&(n=Co(t)),new Da(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Co(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=Oo(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Mo(this.serializer,e)))};this.q_(t)}}class uc{}class dc extends uc{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new zn(Un.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[i,a]=s;return this.connection.Go(e,_o(t,n),r,i,a)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Un.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new zn(Un.UNKNOWN,e.toString())}))}Ho(e,t,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[a,o]=i;return this.connection.Ho(e,_o(t,n),r,a,o,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Un.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new zn(Un.UNKNOWN,e.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class hc{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.aa?(Rn(t),this.aa=!1):An("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const fc="RemoteStore";class mc{constructor(e,t,n,r,s){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((e=>{n.enqueueAndForget((async()=>{kc(this)&&(An(fc,"Restarting streams for network reachability change."),await async function(e){const t=Vn(e);t.Ea.add(4),await gc(t),t.Ra.set("Unknown"),t.Ea.delete(4),await pc(t)}(this))}))})),this.Ra=new hc(n,r)}}async function pc(e){if(kc(e))for(const t of e.da)await t(!0)}async function gc(e){for(const t of e.da)await t(!1)}function yc(e,t){const n=Vn(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Nc(n)?wc(n):Bc(n).O_()&&vc(n,t))}function xc(e,t){const n=Vn(e),r=Bc(n);n.Ia.delete(t),r.O_()&&bc(n,t),0===n.Ia.size&&(r.O_()?r.L_():kc(n)&&n.Ra.set("Unknown"))}function vc(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(kr.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Bc(e).Y_(t)}function bc(e,t){e.Va.Ue(t),Bc(e).Z_(t)}function wc(e){e.Va=new po({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Bc(e).start(),e.Ra.ua()}function Nc(e){return kc(e)&&!Bc(e).x_()&&e.Ia.size>0}function kc(e){return 0===Vn(e).Ea.size}function jc(e){e.Va=void 0}async function Sc(e){e.Ra.set("Online")}async function Cc(e){e.Ia.forEach(((t,n)=>{vc(e,t)}))}async function Ec(e,t){jc(e),Nc(e)?(e.Ra.ha(t),wc(e)):e.Ra.set("Unknown")}async function _c(e,t,n){if(e.Ra.set("Online"),t instanceof fo&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.Va.removeTarget(r))}(e,t)}catch(n){An(fc,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Tc(e,n)}else if(t instanceof uo?e.Va.Ze(t):t instanceof ho?e.Va.st(t):e.Va.tt(t),!n.isEqual(kr.min()))try{const t=await Ml(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Va.Tt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const s=e.Ia.get(r);s&&e.Ia.set(r,s.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.Ia.get(t);if(!r)return;e.Ia.set(t,r.withResumeToken(js.EMPTY_BYTE_STRING,r.snapshotVersion)),bc(e,t);const s=new $o(r.target,t,n,r.sequenceNumber);vc(e,s)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){An(fc,"Failed to raise snapshot:",t),await Tc(e,t)}}async function Tc(e,t,n){if(!Lr(t))throw t;e.Ea.add(1),await gc(e),e.Ra.set("Offline"),n||(n=()=>Ml(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{An(fc,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await pc(e)}))}function Ic(e,t){return t().catch((n=>Tc(e,n,t)))}async function Dc(e){const t=Vn(e),n=qc(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Mr;for(;Ac(t);)try{const e=await Vl(t.localStore,r);if(null===e){0===t.Ta.length&&n.L_();break}r=e.batchId,Rc(t,e)}catch(e){await Tc(t,e)}Oc(t)&&Lc(t)}function Ac(e){return kc(e)&&e.Ta.length<10}function Rc(e,t){e.Ta.push(t);const n=qc(e);n.O_()&&n.X_&&n.ea(t.mutations)}function Oc(e){return kc(e)&&!qc(e).x_()&&e.Ta.length>0}function Lc(e){qc(e).start()}async function Pc(e){qc(e).ra()}async function Mc(e){const t=qc(e);for(const n of e.Ta)t.ea(n.mutations)}async function Fc(e,t,n){const r=e.Ta.shift(),s=Qa.from(r,t,n);await Ic(e,(()=>e.remoteSyncer.applySuccessfulWrite(s))),await Dc(e)}async function Vc(e,t){t&&qc(e).X_&&await async function(e,t){if(function(e){return Za(e)&&e!==Un.ABORTED}(t.code)){const n=e.Ta.shift();qc(e).B_(),await Ic(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Dc(e)}}(e,t),Oc(e)&&Lc(e)}async function Uc(e,t){const n=Vn(e);n.asyncQueue.verifyOperationInProgress(),An(fc,"RemoteStore received new credentials");const r=kc(n);n.Ea.add(3),await gc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await pc(n)}async function zc(e,t){const n=Vn(e);t?(n.Ea.delete(2),await pc(n)):t||(n.Ea.add(2),await gc(n),n.Ra.set("Unknown"))}function Bc(e){return e.ma||(e.ma=function(e,t,n){const r=Vn(e);return r.sa(),new lc(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:Sc.bind(null,e),t_:Cc.bind(null,e),r_:Ec.bind(null,e),H_:_c.bind(null,e)}),e.da.push((async t=>{t?(e.ma.B_(),Nc(e)?wc(e):e.Ra.set("Unknown")):(await e.ma.stop(),jc(e))}))),e.ma}function qc(e){return e.fa||(e.fa=function(e,t,n){const r=Vn(e);return r.sa(),new cc(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:Pc.bind(null,e),r_:Vc.bind(null,e),ta:Mc.bind(null,e),na:Fc.bind(null,e)}),e.da.push((async t=>{t?(e.fa.B_(),await Dc(e)):(await e.fa.stop(),e.Ta.length>0&&(An(fc,"Stopping write stream with ".concat(e.Ta.length," pending writes")),e.Ta=[]))}))),e.fa}class Hc{constructor(e,t,n,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=s,this.deferred=new Bn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,s){const i=Date.now()+n,a=new Hc(e,t,i,r,s);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new zn(Un.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wc(e,t){if(Rn("AsyncQueue","".concat(t,": ").concat(e)),Lr(e))return new zn(Un.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Gc{static emptySet(e){return new Gc(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||ur.comparator(t.key,n.key):(e,t)=>ur.comparator(e.key,t.key),this.keyedMap=ia(),this.sortedSet=new ys(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Gc))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Gc;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Kc{constructor(){this.ga=new ys(ur.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Pn(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Qc{constructor(e,t,n,r,s,i,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=s,this.fromCache=i,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,s){const i=[];return t.forEach((e=>{i.push({type:0,doc:e})})),new Qc(e,t,Gc.emptySet(t),i,n,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qi(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Yc{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class $c{constructor(){this.queries=Xc(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=Vn(e),r=n.queries;n.queries=Xc(),r.forEach(((e,n)=>{for(const r of n.Sa)r.onError(t)}))}(this,new zn(Un.ABORTED,"Firestore shutting down"))}}function Xc(){return new ta((e=>Yi(e)),Qi)}async function Jc(e,t){const n=Vn(e);let r=3;const s=t.query;let i=n.queries.get(s);i?!i.ba()&&t.Da()&&(r=2):(i=new Yc,r=t.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(e){const n=Wc(e,"Initialization of query '".concat($i(t.query),"' failed"));return void t.onError(n)}n.queries.set(s,i),i.Sa.push(t),t.va(n.onlineState),i.wa&&t.Fa(i.wa)&&nu(n)}async function Zc(e,t){const n=Vn(e),r=t.query;let s=3;const i=n.queries.get(r);if(i){const e=i.Sa.indexOf(t);e>=0&&(i.Sa.splice(e,1),0===i.Sa.length?s=t.Da()?0:1:!i.ba()&&t.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function eu(e,t){const n=Vn(e);let r=!1;for(const s of t){const e=s.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Fa(s)&&(r=!0);t.wa=s}}r&&nu(n)}function tu(e,t,n){const r=Vn(e),s=r.queries.get(t);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(t)}function nu(e){e.Ca.forEach((e=>{e.next()}))}var ru,su;(su=ru||(ru={})).Ma="default",su.Cache="cache";class iu{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Qc(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache)return!0;if(!this.Da())return!0;const n="Offline"!==t;return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=Qc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ru.Cache}}class au{constructor(e){this.key=e}}class ou{constructor(e){this.key=e}}class lu{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ha(),this.mutatedKeys=ha(),this.eu=Zi(e),this.tu=new Gc(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new Kc,r=t?t.tu:this.tu;let s=t?t.mutatedKeys:this.mutatedKeys,i=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=Xi(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.su(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.eu(u,o)>0||l&&this.eu(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(i=i.add(u),s=h?s.add(e):s.delete(e)):(i=i.delete(e),s=s.delete(e)))})),null!==this.query.limit)for(;i.size>this.query.limit;){const e="F"===this.query.limitType?i.last():i.first();i=i.delete(e.key),s=s.delete(e.key),n.track({type:1,doc:e})}return{tu:i,iu:n,Cs:a,mutatedKeys:s}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){var s;const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pn(20277,{Rt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc))),this.ou(n),r=null!==(s=r)&&void 0!==s&&s;const o=t&&!r?this._u():[],l=0===this.Xa.size&&this.current&&!r?1:0,c=l!==this.Za;return this.Za=l,0!==a.length||c?{snapshot:new Qc(this.query,e.tu,i,a,e.mutatedKeys,0===l,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Kc,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ha(),this.tu.forEach((e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))}));const t=[];return e.forEach((e=>{this.Xa.has(e)||t.push(new ou(e))})),this.Xa.forEach((n=>{e.has(n)||t.push(new au(n))})),t}cu(e){this.Ya=e.Qs,this.Xa=ha();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Qc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Za,this.hasCachedResults)}}const cu="SyncEngine";class uu{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class du{constructor(e){this.key=e,this.hu=!1}}class hu{constructor(e,t,n,r,s,i){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=i,this.Pu={},this.Tu=new ta((e=>Yi(e)),Qi),this.Iu=new Map,this.Eu=new Set,this.du=new ys(ur.comparator),this.Au=new Map,this.Ru=new vl,this.Vu={},this.mu=new Map,this.fu=il.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function fu(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Ou(e);let s;const i=r.Tu.get(t);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await pu(r,t,n,!0),s}async function mu(e,t){const n=Ou(e);await pu(n,t,!0,!1)}async function pu(e,t,n,r){const s=await Ul(e.localStore,Hi(t)),i=s.targetId,a=e.sharedClientState.addLocalQueryTarget(i,n);let o;return r&&(o=await gu(e,t,i,"current"===a,s.resumeToken)),e.isPrimaryClient&&n&&yc(e.remoteStore,s),o}async function gu(e,t,n,r,s){e.pu=(t,n,r)=>async function(e,t,n,r){let s=t.view.ru(n);s.Cs&&(s=await Bl(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ru(n,s)})));const i=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(s,e.isPrimaryClient,i,a);return _u(e,t.targetId,o.au),o.snapshot}(e,t,n,r);const i=await Bl(e.localStore,t,!0),a=new lu(t,i.Qs),o=a.ru(i.documents),l=co.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,s),c=a.applyChanges(o,e.isPrimaryClient,l);_u(e,n,c.au);const u=new uu(t,n,a);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}async function yu(e,t,n){const r=Vn(e),s=r.Tu.get(t),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter((e=>!Qi(e,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await zl(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&xc(r.remoteStore,s.targetId),Cu(r,s.targetId)})).catch(Ar)):(Cu(r,s.targetId),await zl(r.localStore,s.targetId,!0))}async function xu(e,t){const n=Vn(e),r=n.Tu.get(t),s=n.Iu.get(r.targetId);n.isPrimaryClient&&1===s.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),xc(n.remoteStore,r.targetId))}async function vu(e,t){const n=Vn(e);try{const e=await function(e,t){const n=Vn(e),r=t.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const i=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];t.targetChanges.forEach(((i,o)=>{const l=s.get(o);if(!l)return;a.push(n.Pi.removeMatchingKeys(e,i.removedDocuments,o).next((()=>n.Pi.addMatchingKeys(e,i.addedDocuments,o))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(js.EMPTY_BYTE_STRING,kr.min()).withLastLimboFreeSnapshotVersion(kr.min()):i.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(i.resumeToken,r)),s=s.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=Rl||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,i)&&a.push(n.Pi.updateTargetData(e,c))}));let o=ra(),l=ha();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(Fl(e,i,t.documentUpdates).next((e=>{o=e.ks,l=e.qs}))),!r.isEqual(kr.min())){const t=n.Pi.getLastRemoteSnapshotVersion(e).next((t=>n.Pi.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return Rr.waitFor(a).next((()=>i.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,o,l))).next((()=>o))})).then((e=>(n.Ms=s,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Au.get(t);r&&(Fn(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?Fn(r.hu,14607):e.removedDocuments.size>0&&(Fn(r.hu,42227),r.hu=!1))})),await Du(n,e,t)}catch(e){await Ar(e)}}function bu(e,t,n){const r=Vn(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Tu.forEach(((n,r)=>{const s=r.view.va(t);s.snapshot&&e.push(s.snapshot)})),function(e,t){const n=Vn(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const s of n.Sa)s.va(t)&&(r=!0)})),r&&nu(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function wu(e,t,n){const r=Vn(e);r.sharedClientState.updateQueryState(t,"rejected",n);const s=r.Au.get(t),i=s&&s.key;if(i){let e=new ys(ur.comparator);e=e.insert(i,ui.newNoDocument(i,kr.min()));const n=ha().add(i),s=new lo(kr.min(),new Map,new ys(Zn),e,n);await vu(r,s),r.du=r.du.remove(i),r.Au.delete(t),Iu(r)}else await zl(r.localStore,t,!1).then((()=>Cu(r,t,n))).catch(Ar)}async function Nu(e,t){const n=Vn(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Vn(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const s=n.batch,i=s.keys();let a=Rr.resolve();return i.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const i=n.docVersions.get(e);Fn(null!==i,48541),t.version.compareTo(i)<0&&(s.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,s)))}(n,e,t,s).next((()=>s.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=ha();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Su(n,r,null),ju(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Du(n,e)}catch(e){await Ar(e)}}async function ku(e,t,n){const r=Vn(e);try{const e=await function(e,t){const n=Vn(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Fn(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Su(r,t,n),ju(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Du(r,e)}catch(n){await Ar(n)}}function ju(e,t){(e.mu.get(t)||[]).forEach((e=>{e.resolve()})),e.mu.delete(t)}function Su(e,t,n){const r=Vn(e);let s=r.Vu[r.currentUser.toKey()];if(s){const e=s.get(t);e&&(n?e.reject(n):e.resolve(),s=s.remove(t)),r.Vu[r.currentUser.toKey()]=s}}function Cu(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach((t=>{e.Ru.containsKey(t)||Eu(e,t)}))}function Eu(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(xc(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),Iu(e))}function _u(e,t,n){for(const r of n)r instanceof au?(e.Ru.addReference(r.key,t),Tu(e,r)):r instanceof ou?(An(cu,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||Eu(e,r.key)):Pn(19791,{wu:r})}function Tu(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(An(cu,"New document in limbo: "+n),e.Eu.add(r),Iu(e))}function Iu(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new ur(or.fromString(t)),r=e.fu.next();e.Au.set(r,new du(n)),e.du=e.du.insert(n,r),yc(e.remoteStore,new $o(Hi(Ui(n.path)),r,"TargetPurposeLimboResolution",Pr.ce))}}async function Du(e,t,n){const r=Vn(e),s=[],i=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach(((e,o)=>{a.push(r.pu(o,t,n).then((e=>{if((e||n)&&r.isPrimaryClient){var t;const s=e?!e.fromCache:null===n||void 0===n||null===(t=n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,s?"current":"not-current")}if(e){s.push(e);const t=Tl.As(o.targetId,e);i.push(t)}})))})),await Promise.all(a),r.Pu.H_(s),await async function(e,t){const n=Vn(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Rr.forEach(t,(t=>Rr.forEach(t.Es,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Rr.forEach(t.ds,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Lr(e))throw e;An(Al,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ms.get(e),r=t.snapshotVersion,s=t.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(e,s)}}}(r.localStore,i))}async function Au(e,t){const n=Vn(e);if(!n.currentUser.isEqual(t)){An(cu,"User change. New user:",t.toKey());const e=await Pl(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach((e=>{e.forEach((e=>{e.reject(new zn(Un.CANCELLED,t))}))})),e.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Du(n,e.Ls)}}function Ru(e,t){const n=Vn(e),r=n.Au.get(t);if(r&&r.hu)return ha().add(r.key);{let e=ha();const r=n.Iu.get(t);if(!r)return e;for(const t of r){const r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function Ou(e){const t=Vn(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=vu.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ru.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=wu.bind(null,t),t.Pu.H_=eu.bind(null,t.eventManager),t.Pu.yu=tu.bind(null,t.eventManager),t}function Lu(e){const t=Vn(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Nu.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ku.bind(null,t),t}class Pu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return Ll(this.persistence,new Dl,e.initialUser,this.serializer)}Cu(e){return new Sl(El.mi,this.serializer)}Du(e){return new Wl}async terminate(){var e,t;null!==(e=this.gcScheduler)&&void 0!==e&&e.stop(),null!==(t=this.indexBackfillerScheduler)&&void 0!==t&&t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Pu.provider={build:()=>new Pu};class Mu extends Pu{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Fn(this.persistence.referenceDelegate instanceof _l,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new ul(n,e.asyncQueue,t)}Cu(e){const t=void 0!==this.cacheSizeBytes?sl.withCacheSize(this.cacheSizeBytes):sl.DEFAULT;return new Sl((e=>_l.mi(e,t)),this.serializer)}}class Fu{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>bu(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Au.bind(null,this.syncEngine),await zc(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new $c}createDatastore(e){const t=sc(e.databaseInfo.databaseId),n=function(e){return new nc(e)}(e.databaseInfo);return function(e,t,n,r){return new dc(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,s){return new mc(e,t,n,r,s)}(this.localStore,this.datastore,e.asyncQueue,(e=>bu(this.syncEngine,e,0)),Ql.v()?new Ql:new Gl)}createSyncEngine(e,t){return function(e,t,n,r,s,i,a){const o=new hu(e,t,n,r,s,i);return a&&(o.gu=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Vn(e);An(fc,"RemoteStore shutting down."),t.Ea.add(5),await gc(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),null!==(e=this.datastore)&&void 0!==e&&e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Fu.provider={build:()=>new Fu};class Vu{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Rn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Uu="FirestoreClient";class zu{constructor(e,t,n,r,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=_n.UNAUTHENTICATED,this.clientId=Jn.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,(async e=>{An(Uu,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(An(Uu,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Bn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Wc(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Bu(e,t){e.asyncQueue.verifyOperationInProgress(),An(Uu,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Pl(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function qu(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Hu(e);An(Uu,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>Uc(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Uc(t.remoteStore,n))),e._onlineComponents=t}async function Hu(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){An(Uu,"Using user provided OfflineComponentProvider");try{await Bu(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===Un.FAILED_PRECONDITION||e.code===Un.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;On("Error using user provided cache. Falling back to memory cache: "+n),await Bu(e,new Pu)}}else An(Uu,"Using default OfflineComponentProvider"),await Bu(e,new Mu(void 0));return e._offlineComponents}async function Wu(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(An(Uu,"Using user provided OnlineComponentProvider"),await qu(e,e._uninitializedComponentsProvider._online)):(An(Uu,"Using default OnlineComponentProvider"),await qu(e,new Fu))),e._onlineComponents}function Gu(e){return Wu(e).then((e=>e.syncEngine))}async function Ku(e){const t=await Wu(e),n=t.eventManager;return n.onListen=fu.bind(null,t.syncEngine),n.onUnlisten=yu.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=mu.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=xu.bind(null,t.syncEngine),n}function Qu(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Bn;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,s){const i=new Vu({next:o=>{i.Nu(),t.enqueueAndForget((()=>Zc(e,a)));const l=o.docs.has(n);!l&&o.fromCache?s.reject(new zn(Un.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?s.reject(new zn(Un.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):s.resolve(o)},error:e=>s.reject(e)}),a=new iu(Ui(n.path),i,{includeMetadataChanges:!0,qa:!0});return Jc(e,a)}(await Ku(e),e.asyncQueue,t,n,r))),r.promise}function Yu(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Bn;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,s){const i=new Vu({next:n=>{i.Nu(),t.enqueueAndForget((()=>Zc(e,a))),n.fromCache&&"server"===r.source?s.reject(new zn(Un.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):s.resolve(n)},error:e=>s.reject(e)}),a=new iu(n,i,{includeMetadataChanges:!0,qa:!0});return Jc(e,a)}(await Ku(e),e.asyncQueue,t,n,r))),r.promise}function $u(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Xu=new Map,Ju="firestore.googleapis.com";class Zu{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new zn(Un.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ju,this.ssl=true}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=rl;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<ol)throw new zn(Un.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new zn(Un.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$u(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new zn(Un.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new zn(Un.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new zn(Un.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ed{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zu({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new zn(Un.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new zn(Un.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zu(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Hn;switch(e.type){case"firstParty":return new Qn(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new zn(Un.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Xu.get(e);t&&(An("ComponentProvider","Removing Datastore"),Xu.delete(e),t.terminate())}(this),Promise.resolve()}}function td(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=gr(e,ed);const s=Qe(t),i=e._getSettings(),a=Me(Me({},i),{},{emulatorOptions:e._getEmulatorOptions()}),o="".concat(t,":").concat(n);s&&(Ye("https://".concat(o)),Je("Firestore",!0)),i.host!==Ju&&i.host!==o&&On("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Me(Me({},i),{},{host:o,ssl:s,emulatorOptions:r});if(!st(l,a)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=_n.MOCK_USER;else{var c;t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=Me({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ze(JSON.stringify({alg:"none",type:"JWT"})),ze(JSON.stringify(i)),""].join(".")}(r.mockUserToken,null===(c=e._app)||void 0===c?void 0:c.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new zn(Un.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new _n(s)}e._authCredentials=new Wn(new qn(t,n))}}class nd{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new nd(this.firestore,e,this._query)}}class rd{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rd(this.firestore,e,this._key)}toJSON(){return{type:rd._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(vr(t,rd._jsonSchema))return new rd(e,n||null,new ur(or.fromString(t.referencePath)))}}rd._jsonSchemaVersion="firestore/documentReference/1.0",rd._jsonSchema={type:xr("string",rd._jsonSchemaVersion),referencePath:xr("string")};class sd extends nd{constructor(e,t,n){super(e,t,Ui(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rd(this.firestore,null,new ur(e))}withConverter(e){return new sd(this.firestore,e,this._path)}}function id(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];if(e=at(e),dr("collection","path",t),e instanceof ed){const n=or.fromString(t,...r);return fr(n),new sd(e,null,n)}{if(!(e instanceof rd||e instanceof sd))throw new zn(Un.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(or.fromString(t,...r));return fr(n),new sd(e.firestore,null,n)}}function ad(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];if(e=at(e),1===arguments.length&&(t=Jn.newId()),dr("doc","path",t),e instanceof ed){const n=or.fromString(t,...r);return hr(n),new rd(e,null,new ur(n))}{if(!(e instanceof rd||e instanceof sd))throw new zn(Un.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(or.fromString(t,...r));return hr(n),new rd(e.firestore,e instanceof sd?e.converter:null,new ur(n))}}const od="AsyncQueue";class ld{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ic(this,"async_queue_retry"),this._c=()=>{const e=rc();e&&An(od,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=rc();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=rc();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Bn;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Lr(e))throw e;An(od,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((e=>{throw this.nc=e,this.rc=!1,Rn("INTERNAL UNHANDLED ERROR: ",cd(e)),e})).then((e=>(this.rc=!1,e))))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=Hc.createAndSchedule(this,e,t,n,(e=>this.hc(e)));return this.tc.push(r),r}uc(){this.nc&&Pn(47125,{Pc:cd(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function cd(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class ud extends ed{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new ld,this._persistenceKey=(null===r||void 0===r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ld(e),this._firestoreClient=void 0,await e}}}function dd(e){if(e._terminated)throw new zn(Un.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||hd(e),e._firestoreClient}function hd(e){var t,n,r;const s=e._freezeSettings(),i=function(e,t,n,r){return new Ps(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,$u(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,s);e._componentsProvider||null!==(n=s.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=s.localCache)&&void 0!==r&&r._onlineComponentProvider&&(e._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),e._firestoreClient=new zu(e._authCredentials,e._appCheckCredentials,e._queue,i,e._componentsProvider&&function(e){const t=null===e||void 0===e?void 0:e._online.build();return{_offline:null===e||void 0===e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class fd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fd(js.fromBase64String(e))}catch(e){throw new zn(Un.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new fd(js.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:fd._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(vr(e,fd._jsonSchema))return fd.fromBase64String(e.bytes)}}fd._jsonSchemaVersion="firestore/bytes/1.0",fd._jsonSchema={type:xr("string",fd._jsonSchemaVersion),bytes:xr("string")};class md{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new zn(Un.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cr(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class pd{constructor(e){this._methodName=e}}class gd{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new zn(Un.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new zn(Un.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Zn(this._lat,e._lat)||Zn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:gd._jsonSchemaVersion}}static fromJSON(e){if(vr(e,gd._jsonSchema))return new gd(e.latitude,e.longitude)}}gd._jsonSchemaVersion="firestore/geoPoint/1.0",gd._jsonSchema={type:xr("string",gd._jsonSchemaVersion),latitude:xr("number"),longitude:xr("number")};class yd{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:yd._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(vr(e,yd._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((e=>"number"==typeof e)))return new yd(e.vectorValues);throw new zn(Un.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}yd._jsonSchemaVersion="firestore/vectorValue/1.0",yd._jsonSchema={type:xr("string",yd._jsonSchemaVersion),vectorValues:xr("object")};const xd=/^__.*__$/;class vd{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new za(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ua(e,this.data,t,this.fieldTransforms)}}class bd{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new za(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function wd(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pn(40011,{Ac:e})}}class Nd{constructor(e,t,n,r,s,i){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===s&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=i||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Nd(Me(Me({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Fd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(0===e.length)throw this.Sc("Document fields must not be empty");if(wd(this.Ac)&&xd.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class kd{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||sc(e)}Cc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Nd({Ac:e,methodName:t,Dc:n,path:cr.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jd(e){const t=e._freezeSettings(),n=sc(e._databaseId);return new kd(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Sd(e,t,n,r,s){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.Cc(i.merge||i.mergeFields?2:0,t,n,s);Od("Data must be an object, but it was:",a,r);const o=Ad(r,a);let l,c;if(i.merge)l=new Ns(a.fieldMask),c=a.fieldTransforms;else if(i.mergeFields){const e=[];for(const r of i.mergeFields){const s=Ld(t,r,n);if(!a.contains(s))throw new zn(Un.INVALID_ARGUMENT,"Field '".concat(s,"' is specified in your field mask but missing from your input data."));Vd(e,s)||e.push(s)}l=new Ns(e),c=a.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=a.fieldTransforms;return new vd(new li(o),l,c)}class Cd extends pd{_toFieldTransform(e){if(2!==e.Ac)throw 1===e.Ac?e.Sc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Sc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Cd}}class Ed extends pd{_toFieldTransform(e){return new Ia(e.path,new Na)}isEqual(e){return e instanceof Ed}}function _d(e,t,n,r){const s=e.Cc(1,t,n);Od("Data must be an object, but it was:",s,r);const i=[],a=li.empty();ps(r,((e,r)=>{const o=Md(t,e,n);r=at(r);const l=s.yc(o);if(r instanceof Cd)i.push(o);else{const e=Dd(r,l);null!=e&&(i.push(o),a.set(o,e))}}));const o=new Ns(i);return new bd(a,o,s.fieldTransforms)}function Td(e,t,n,r,s,i){const a=e.Cc(1,t,n),o=[Ld(t,r,n)],l=[s];if(i.length%2!=0)throw new zn(Un.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<i.length;h+=2)o.push(Ld(t,i[h])),l.push(i[h+1]);const c=[],u=li.empty();for(let h=o.length-1;h>=0;--h)if(!Vd(c,o[h])){const e=o[h];let t=l[h];t=at(t);const n=a.yc(e);if(t instanceof Cd)c.push(e);else{const r=Dd(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new Ns(c);return new bd(u,d,a.fieldTransforms)}function Id(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Dd(n,e.Cc(r?4:3,t))}function Dd(e,t){if(Rd(e=at(e)))return Od("Unsupported field value:",t,e),Ad(e,t);if(e instanceof pd)return function(e,t){if(!wd(t.Ac))throw t.Sc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Sc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&4!==t.Ac)throw t.Sc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const s of e){let e=Dd(s,t.wc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=at(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ya(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Nr.fromDate(e);return{timestampValue:ko(t.serializer,n)}}if(e instanceof Nr){const n=new Nr(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ko(t.serializer,n)}}if(e instanceof gd)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof fd)return{bytesValue:jo(t.serializer,e._byteString)};if(e instanceof rd){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Sc("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Eo(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof yd)return function(e,t){return{mapValue:{fields:{[Vs]:{stringValue:Bs},[qs]:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.Sc("VectorValues must only contain numeric values.");return pa(t.serializer,e)}))}}}}}}(e,t);throw t.Sc("Unsupported field value: ".concat(pr(e)))}(e,t)}function Ad(e,t){const n={};return gs(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ps(e,((e,r)=>{const s=Dd(r,t.mc(e));null!=s&&(n[e]=s)})),{mapValue:{fields:n}}}function Rd(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Nr||e instanceof gd||e instanceof fd||e instanceof rd||e instanceof pd||e instanceof yd)}function Od(e,t,n){if(!Rd(n)||!mr(n)){const r=pr(n);throw"an object"===r?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function Ld(e,t,n){if((t=at(t))instanceof md)return t._internalPath;if("string"==typeof t)return Md(e,t);throw Fd("Field path arguments must be of type string or ",e,!1,void 0,n)}const Pd=new RegExp("[~\\*/\\[\\]]");function Md(e,t,n){if(t.search(Pd)>=0)throw Fd("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new md(...t.split("."))._internalPath}catch(r){throw Fd("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Fd(e,t,n,r,s){const i=r&&!r.isEmpty(),a=void 0!==s;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(i||a)&&(l+=" (found",i&&(l+=" in field ".concat(r)),a&&(l+=" in document ".concat(s)),l+=")"),new zn(Un.INVALID_ARGUMENT,o+e+l)}function Vd(e,t){return e.some((e=>e.isEqual(t)))}class Ud{constructor(e,t,n,r,s){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new rd(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new zd(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Bd("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class zd extends Ud{data(){return super.data()}}function Bd(e,t){return"string"==typeof t?Md(e,t):t instanceof md?t._internalPath:t._delegate._internalPath}function qd(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new zn(Un.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hd{}class Wd extends Hd{}function Gd(e,t){let n=[];for(var r=arguments.length,s=new Array(r>2?r-2:0),i=2;i<r;i++)s[i-2]=arguments[i];t instanceof Hd&&n.push(t),n=n.concat(s),function(e){const t=e.filter((e=>e instanceof Qd)).length,n=e.filter((e=>e instanceof Kd)).length;if(t>1||t>0&&n>0)throw new zn(Un.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class Kd extends Wd{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Kd(e,t,n)}_apply(e){const t=this._parse(e);return th(e._query,t),new nd(e.firestore,e.converter,Gi(e._query,t))}_parse(e){const t=jd(e.firestore),n=function(e,t,n,r,s,i,a){let o;if(s.isKeyField()){if("array-contains"===i||"array-contains-any"===i)throw new zn(Un.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(i,"' queries on documentId()."));if("in"===i||"not-in"===i){eh(a,i);const t=[];for(const n of a)t.push(Zd(r,e,n));o={arrayValue:{values:t}}}else o=Zd(r,e,a)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||eh(a,i),o=Id(n,t,a,"in"===i||"not-in"===i);return yi.create(s,i,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class Qd extends Hd{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Qd(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:xi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const s of r)th(n,s),n=Gi(n,s)}(e._query,t),new nd(e.firestore,e.converter,Gi(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Yd extends Wd{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Yd(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new zn(Un.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new zn(Un.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new mi(t,n)}(e._query,this._field,this._direction);return new nd(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Fi(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function $d(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Bd("orderBy",e);return Yd._create(n,t)}class Xd extends Wd{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new Xd(e,t,n)}_apply(e){return new nd(e.firestore,e.converter,Ki(e._query,this._limit,this._limitType))}}function Jd(e){return yr("limit",e),Xd._create("limit",e,"F")}function Zd(e,t,n){if("string"==typeof(n=at(n))){if(""===n)throw new zn(Un.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Bi(t)&&-1!==n.indexOf("/"))throw new zn(Un.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(or.fromString(n));if(!ur.isDocumentKey(r))throw new zn(Un.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Zs(e,new ur(r))}if(n instanceof rd)return Zs(e,n._key);throw new zn(Un.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(pr(n),"."))}function eh(e,t){if(!Array.isArray(e)||0===e.length)throw new zn(Un.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function th(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new zn(Un.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new zn(Un.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class nh{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Hs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Es(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_s(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Pn(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return ps(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t;const n=null===(t=e.fields)||void 0===t||null===(t=t[qs].arrayValue)||void 0===t||null===(t=t.values)||void 0===t?void 0:t.map((e=>Es(e.doubleValue)));return new yd(n)}convertGeoPoint(e){return new gd(Es(e.latitude),Es(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Os(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ls(e));default:return null}}convertTimestamp(e){const t=Cs(e);return new Nr(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=or.fromString(e);Fn(Yo(n),9688,{name:e});const r=new Fs(n.get(1),n.get(3)),s=new ur(n.popFirst(5));return r.isEqual(t)||Rn("Document ".concat(s," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),s}}function rh(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class sh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ih extends Ud{constructor(e,t,n,r,s,i){super(e,t,n,r,i),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new ah(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Bd("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new zn(Un.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ih._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}ih._jsonSchemaVersion="firestore/documentSnapshot/1.0",ih._jsonSchema={type:xr("string",ih._jsonSchemaVersion),bundleSource:xr("string","DocumentSnapshot"),bundleName:xr("string"),bundle:xr("string")};class ah extends ih{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class oh{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new sh(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new ah(this._firestore,this._userDataWriter,n.key,n,new sh(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new zn(Un.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new ah(e._firestore,e._userDataWriter,n.doc.key,n.doc,new sh(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new ah(e._firestore,e._userDataWriter,t.doc.key,t.doc,new sh(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let s=-1,i=-1;return 0!==t.type&&(s=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),i=n.indexOf(t.doc.key)),{type:lh(t.type),doc:r,oldIndex:s,newIndex:i}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new zn(Un.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=oh._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Jn.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach((e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function lh(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pn(61501,{type:e})}}function ch(e){e=gr(e,rd);const t=gr(e.firestore,ud);return Qu(dd(t),e._key).then((n=>gh(t,e,n)))}oh._jsonSchemaVersion="firestore/querySnapshot/1.0",oh._jsonSchema={type:xr("string",oh._jsonSchemaVersion),bundleSource:xr("string","QuerySnapshot"),bundleName:xr("string"),bundle:xr("string")};class uh extends nh{constructor(e){super(),this.firestore=e}convertBytes(e){return new fd(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new rd(this.firestore,null,t)}}function dh(e){e=gr(e,nd);const t=gr(e.firestore,ud),n=dd(t),r=new uh(t);return qd(e._query),Yu(n,e._query).then((n=>new oh(t,r,e,n)))}function hh(e,t,n){e=gr(e,rd);const r=gr(e.firestore,ud),s=jd(r);let i;for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return i="string"==typeof(t=at(t))||t instanceof md?Td(s,"updateDoc",e._key,t,n,o):_d(s,"updateDoc",e._key,t),ph(r,[i.toMutation(e._key,Aa.exists(!0))])}function fh(e){return ph(gr(e.firestore,ud),[new Wa(e._key,Aa.none())])}function mh(e,t){const n=gr(e.firestore,ud),r=ad(e),s=rh(e.converter,t);return ph(n,[Sd(jd(e.firestore),"addDoc",r._key,s,null!==e.converter,{}).toMutation(r._key,Aa.exists(!1))]).then((()=>r))}function ph(e,t){return function(e,t){const n=new Bn;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Lu(e);try{const e=await function(e,t){const n=Vn(e),r=Nr.now(),s=t.reduce(((e,t)=>e.add(t.key)),ha());let i,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let o=ra(),l=ha();return n.Ns.getEntries(e,s).next((e=>{o=e,o.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,o))).next((s=>{i=s;const a=[];for(const e of t){const t=Fa(e,i.get(e.key).overlayedDocument);null!=t&&a.push(new za(e.key,t,ci(t.value.mapValue),Aa.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)})).next((t=>{a=t;const r=t.applyToLocalDocumentSet(i,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:aa(i)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Vu[e.currentUser.toKey()];r||(r=new ys(Zn)),r=r.insert(t,n),e.Vu[e.currentUser.toKey()]=r}(r,e.batchId,n),await Du(r,e.changes),await Dc(r.remoteStore)}catch(e){const t=Wc(e,"Failed to persist write");n.reject(t)}}(await Gu(e),t,n))),n.promise}(dd(e),t)}function gh(e,t,n){const r=n.docs.get(t._key),s=new uh(e);return new ih(e,s,t._key,r,new sh(n.hasPendingWrites,n.fromCache),t.converter)}function yh(){return new Ed("serverTimestamp")}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Tn=e}("12.1.0"),Wt(new ot("firestore",((e,n)=>{let{instanceIdentifier:r,options:s}=n;const i=e.getProvider("app").getImmediate(),a=new ud(new Gn(e.getProvider("auth-internal")),new $n(i,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new zn(Un.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fs(e.options.projectId,t)}(i,r),i);return s=Me({useFetchStreams:t},s),a._setSettings(s),a}),"PUBLIC").setMultipleInstances(!0)),Jt(Cn,En,e),Jt(Cn,En,"esm2020")}();const xh="functions";class vh{constructor(e,t,n,r){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Kt(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=t.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||t.get().then((e=>this.auth=e),(()=>{})),this.messaging||n.get().then((e=>this.messaging=e),(()=>{})),this.appCheck||null===r||void 0===r||r.get().then((e=>this.appCheck=e),(()=>{}))}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return null===e||void 0===e?void 0:e.accessToken}catch(e){return}}async getMessagingToken(){if(this.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return await this.messaging.getToken()}catch(e){return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){return{authToken:await this.getAuthToken(),messagingToken:await this.getMessagingToken(),appCheckToken:await this.getAppCheckToken(e)}}}const bh="us-central1";class wh{constructor(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:bh,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(){return fetch(...arguments)};this.app=e,this.fetchImpl=i,this.emulatorOrigin=null,this.contextProvider=new vh(e,t,n,r),this.cancelAllRequests=new Promise((e=>{this.deleteService=()=>Promise.resolve(e())}));try{const e=new URL(s);this.customDomain=e.origin+("/"===e.pathname?"":e.pathname),this.region=bh}catch(a){this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;if(null!==this.emulatorOrigin){const n=this.emulatorOrigin;return"".concat(n,"/").concat(t,"/").concat(this.region,"/").concat(e)}return null!==this.customDomain?"".concat(this.customDomain,"/").concat(e):"https://".concat(this.region,"-").concat(t,".cloudfunctions.net/").concat(e)}}const Nh="@firebase/functions",kh="0.13.0";!function(e){Wt(new ot(xh,((e,t)=>{let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("messaging-internal"),a=e.getProvider("app-check-internal");return new wh(r,s,i,a,n)}),"PUBLIC").setMultipleInstances(!0)),Jt(Nh,kh,e),Jt(Nh,kh,"esm2020")}();const jh=$t({apiKey:"AIzaSyDh5whYPFN1p59JIZifx5tVu1pBPwBf2OM",authDomain:"hotel-react-app.firebaseapp.com",projectId:"hotel-react-app",storageBucket:"hotel-react-app.firebasestorage.app",messagingSenderId:"179117906052",appId:"1:179117906052:web:fa730f95e76b6995d0cad1"}),Sh=function(e,t){const n="object"==typeof e?e:Xt(),r="string"==typeof e?e:t||Ms,s=Gt(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const e=We("firestore");e&&td(s,...e)}return s}(jh);!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bh;const n=Gt(at(e),xh).getImmediate({identifier:t}),r=We("functions");r&&function(e,t,n){!function(e,t,n){const r=Qe(t);e.emulatorOrigin="http".concat(r?"s":"","://").concat(t,":").concat(n),r&&(Ye(e.emulatorOrigin),Je("Functions",!0))}(at(e),t,n)}(n,...r)}(jh);var Ch=n(184);function Eh(){const{id:e}=function(){let{matches:e}=t.useContext(Q),n=e[e.length-1];return n?n.params:{}}(),n=Z(),[r,s]=(0,t.useState)(null),[i,a]=(0,t.useState)("");return(0,t.useEffect)((()=>{(async()=>{const t=ad(Sh,"rooms",e),r=await ch(t);if(r.exists()){const e=Me({id:r.id},r.data());s(e),e.images&&e.images.length>0&&a(e.images[0])}else n("/404")})()}),[e,n]),r?(0,Ch.jsx)("div",{className:"container mx-auto py-12 px-4 bg-light",children:(0,Ch.jsxs)("div",{className:"bg-white shadow-lg rounded-lg p-8 max-w-4xl mx-auto border-t-4 border-primary relative",children:[(0,Ch.jsx)("button",{onClick:()=>n(-1),className:"absolute top-4 right-4 w-10 h-10 bg-gray-100 hover:bg-red-100 rounded-full flex items-center justify-center transition-all duration-300 z-10 transform hover:scale-110 hover:rotate-90 group",children:(0,Ch.jsx)("svg",{className:"w-6 h-6 text-gray-600 group-hover:text-red-600 transition-all duration-300 group-hover:scale-110",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ch.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),(0,Ch.jsx)("h1",{className:"text-4xl font-bold text-primary mb-6 text-center",children:r.name}),r.images&&r.images.length>0&&(0,Ch.jsxs)("div",{className:"mb-8",children:[(0,Ch.jsxs)("div",{className:"relative w-full h-96 mb-6 rounded-xl overflow-hidden shadow-2xl",children:[(0,Ch.jsx)("img",{src:i,alt:r.name,className:"w-full h-full object-cover"}),(0,Ch.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"})]}),(0,Ch.jsxs)("div",{className:"relative",children:[(0,Ch.jsx)("div",{className:"flex gap-3 overflow-x-auto pb-2 scrollbar-hide",children:r.images.map(((e,t)=>(0,Ch.jsx)("div",{className:"relative flex-shrink-0 cursor-pointer group transition-all duration-300 ".concat(i===e?"transform scale-105":"hover:scale-105"),onClick:()=>a(e),children:(0,Ch.jsxs)("div",{className:"relative w-20 h-20 rounded-lg overflow-hidden border-2 transition-all duration-300 ".concat(i===e?"border-primary shadow-lg shadow-primary/30":"border-gray-200 hover:border-primary/50"),children:[(0,Ch.jsx)("img",{src:e,alt:"".concat(r.name," ").concat(t+1),className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110"}),i===e&&(0,Ch.jsx)("div",{className:"absolute inset-0 bg-primary/20 flex items-center justify-center"})]})},t)))}),(0,Ch.jsxs)("div",{className:"absolute top-2 right-2 bg-black/50 text-white px-3 py-1 rounded-full text-sm font-medium",children:[r.images.findIndex((e=>e===i))+1," / ",r.images.length]})]})]}),(0,Ch.jsx)("p",{className:"text-lg text-gray-700 mb-4 leading-relaxed",children:r.description}),(0,Ch.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[r.maxOccupancy&&(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("h3",{className:"text-xl font-semibold text-dark mb-2",children:"Max Occupancy"}),(0,Ch.jsxs)("p",{className:"text-gray-600 mb-1",children:[(0,Ch.jsx)("i",{className:"fa fa-user text-primary mr-2"}),"Adults: ",(0,Ch.jsx)("span",{className:"font-bold",children:r.maxOccupancy.adults})]}),r.maxOccupancy.children>0&&(0,Ch.jsxs)("p",{className:"text-gray-600",children:[(0,Ch.jsx)("i",{className:"fa fa-child text-primary mr-2"}),"Children: ",(0,Ch.jsx)("span",{className:"font-bold",children:r.maxOccupancy.children})]})]}),r.amenities&&r.amenities.length>0&&(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("h3",{className:"text-xl font-semibold text-dark mb-2",children:"Amenities"}),(0,Ch.jsx)("ul",{className:"list-disc list-inside text-gray-600",children:r.amenities.map(((e,t)=>(0,Ch.jsxs)("li",{className:"flex items-center mb-1",children:[(0,Ch.jsx)("i",{className:"fa fa-check-circle text-primary mr-2"}),e]},t)))})]})]}),(0,Ch.jsxs)("p",{className:"text-2xl text-gray-700 mb-6 font-bold",children:["Nightly Rate: ",(0,Ch.jsxs)("span",{className:"font-semibold text-primary",children:["$",r.price]})]}),(0,Ch.jsxs)("p",{className:"text-lg text-gray-600 mb-8",children:["Availability:"," ",(0,Ch.jsx)("span",{className:"font-semibold ".concat(r.available?"text-green-600":"text-secondary"),children:r.available?"Available for Booking":"Currently Reserved"})]}),(0,Ch.jsxs)("p",{className:"text-md text-gray-600 mb-8 border-l-4 border-primary pl-4",children:[(0,Ch.jsx)("i",{className:"fa fa-info-circle text-primary mr-2"}),"Payment is due upon arrival at the hotel."]})]})}):(0,Ch.jsx)("p",{className:"text-center text-lg py-10 text-dark",children:"Loading room details..."})}function _h(){const[e,n]=(0,t.useState)({username:"",password:""}),[r,s]=(0,t.useState)(""),i=Z(),a="admin",o="naum2024";return(0,Ch.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Ch.jsxs)("div",{className:"max-w-md w-full bg-white rounded-lg shadow-md p-8",children:[(0,Ch.jsxs)("div",{className:"text-center mb-8",children:[(0,Ch.jsx)("h2",{className:"text-3xl font-bold text-gray-900",children:"Admin Login"}),(0,Ch.jsx)("p",{className:"text-gray-600 mt-2",children:"NaumApartments Management"})]}),(0,Ch.jsxs)("form",{onSubmit:t=>{t.preventDefault(),e.username===a&&e.password===o?(localStorage.setItem("adminAuthenticated","true"),i("/admin")):s("Invalid credentials. Please try again.")},className:"space-y-6",children:[r&&(0,Ch.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:r}),(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),(0,Ch.jsx)("input",{type:"text",value:e.username,onChange:t=>n(Me(Me({},e),{},{username:t.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",required:!0})]}),(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),(0,Ch.jsx)("input",{type:"password",value:e.password,onChange:t=>n(Me(Me({},e),{},{password:t.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",required:!0})]}),(0,Ch.jsx)("button",{type:"submit",className:"w-full bg-primary text-white py-3 rounded-lg hover:bg-secondary transition-colors",children:"Login"})]}),(0,Ch.jsx)("div",{className:"mt-6 text-center",children:(0,Ch.jsx)("button",{onClick:()=>i("/"),className:"text-primary hover:text-secondary",children:"Back to Website"})}),(0,Ch.jsx)("div",{className:"mt-8 p-4 bg-gray-100 rounded-lg",children:(0,Ch.jsxs)("p",{className:"text-sm text-gray-600 text-center",children:[(0,Ch.jsx)("strong",{children:"Demo Credentials:"}),(0,Ch.jsx)("br",{}),"Username: admin",(0,Ch.jsx)("br",{}),"Password: naum2024"]})})]})})}function Th(){const[e]=Re(),[n,r]=(0,t.useState)("loading"),[s,i]=(0,t.useState)(""),[a,o]=(0,t.useState)("");(0,t.useEffect)((()=>{const t=e.get("token");if(!t)return r("error"),void o("Invalid unsubscribe link");l(t)}),[e]);const l=async e=>{try{const t=ad(Sh,"newsletter",e),n=await ch(t);if(!n.exists())return r("notfound"),void o("Subscriber not found");const s=n.data();i(s.email),await hh(t,{status:"unsubscribed",unsubscribedAt:(new Date).toISOString()}),r("success"),o("You have been successfully unsubscribed from our newsletter.")}catch(t){console.error("Error unsubscribing:",t),r("error"),o("An error occurred while unsubscribing. Please try again later.")}};return(0,Ch.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,Ch.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,Ch.jsxs)("div",{className:"text-center",children:[(0,Ch.jsx)("div",{className:"mx-auto h-12 w-12 flex items-center justify-center",children:(0,Ch.jsx)("span",{className:"text-4xl",children:(()=>{switch(n){case"success":return"\u2705";case"error":return"\u274c";case"notfound":return"\u2753";default:return"\u23f3"}})()})}),(0,Ch.jsx)("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Newsletter Unsubscribe"}),(0,Ch.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"NaumApartments Newsletter Management"})]}),(0,Ch.jsx)("div",{className:"bg-white py-8 px-6 shadow rounded-lg",children:(0,Ch.jsxs)("div",{className:"text-center",children:[(0,Ch.jsxs)("div",{className:"text-lg font-medium ".concat((()=>{switch(n){case"success":return"text-green-600";case"error":return"text-red-600";case"notfound":return"text-yellow-600";default:return"text-blue-600"}})()),children:["loading"===n&&"Processing your request...","success"===n&&"Unsubscribed Successfully","error"===n&&"Error Occurred","notfound"===n&&"Subscriber Not Found"]}),(0,Ch.jsx)("p",{className:"mt-4 text-gray-600",children:a}),s&&"success"===n&&(0,Ch.jsxs)("p",{className:"mt-2 text-sm text-gray-500",children:["Email: ",s]}),"success"===n&&(0,Ch.jsxs)("div",{className:"mt-6",children:[(0,Ch.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"We're sorry to see you go! If you change your mind, you can always subscribe again through our website."}),(0,Ch.jsx)("a",{href:"/",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary hover:bg-secondary transition duration-300",children:"Visit Our Website"})]}),"error"===n&&(0,Ch.jsxs)("div",{className:"mt-6",children:[(0,Ch.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"If you continue to experience issues, please contact us directly."}),(0,Ch.jsx)("a",{href:"mailto:info@naumapartments.com",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary hover:bg-secondary transition duration-300",children:"Contact Support"})]})]})}),(0,Ch.jsx)("div",{className:"text-center",children:(0,Ch.jsx)("p",{className:"text-xs text-gray-500",children:"\xa9 2024 NaumApartments. All rights reserved."})})]})})}function Ih(e){let{children:t}=e;return"true"===localStorage.getItem("adminAuthenticated")?t:(0,Ch.jsx)(fe,{to:"/admin/login",replace:!0})}const Dh=[{id:1,path:"/",text:"Home"},{id:3,path:"/booking",text:"Booking"},{id:4,path:"/services",text:"Services"},{id:5,path:"/rooms",text:"Rooms"},{id:6,path:"/gallery",text:"Gallery"},{id:7,path:"/contact",text:"Contact"}],Ah=[{icon:(0,Ch.jsx)("i",{className:"fab fa-facebook-f"})},{icon:(0,Ch.jsx)("i",{className:"fab fa-twitter"})},{icon:(0,Ch.jsx)("i",{className:"fab fa-instagram"})},{icon:(0,Ch.jsx)("i",{className:"fab fa-linkedin-in"})},{icon:(0,Ch.jsx)("i",{className:"fab fa-youtube"})}],Rh=[{icon:(0,Ch.jsx)("i",{className:"fa fa-hotel fa-2x text-primary mb-2"}),text:"Rooms",count:"7"},{icon:(0,Ch.jsx)("i",{className:"fa fa-users fa-2x text-primary mb-2"}),text:"Staffs",count:"30"},{icon:(0,Ch.jsx)("i",{className:"fa fa-users-cog fa-2x text-primary mb-2"}),text:"Clients",count:"5000+"}],Oh=[{icon:(0,Ch.jsx)("i",{className:"fa fa-hotel fa-2x text-primary"}),name:"Rooms & Appartment",discription:"Contrary to popular belief, ipsum is not simply random."},{icon:(0,Ch.jsx)("i",{className:"fa fa-utensils fa-2x text-primary"}),name:"Food & Restaurant",discription:"Contrary to popular belief, ipsum is not simply random."},{icon:(0,Ch.jsx)("i",{className:"fa fa-spa fa-2x text-primary"}),name:"Spa & Fitness",discription:"Contrary to popular belief, ipsum is not simply random."},{icon:(0,Ch.jsx)("i",{className:"fa fa-swimmer fa-2x text-primary"}),name:"Sports & Gaming",discription:"Contrary to popular belief, ipsum is not simply random."},{icon:(0,Ch.jsx)("i",{className:"fa fa-glass-cheers fa-2x text-primary"}),name:"Event & Party",discription:"Contrary to popular belief, ipsum is not simply random."},{icon:(0,Ch.jsx)("i",{className:"fa fa-dumbbell fa-2x text-primary"}),name:"GYM & Yoga",discription:"Contrary to popular belief, ipsum is not simply random."}],Lh=[{id:1,header:"Company",UnitItem:[{name:"About Us"},{name:"Contact Us"},{name:"Privacy Policy"},{name:"Terms & Condition"},{name:"Support"}]},{id:2,header:"Services",UnitItem:[{name:"Food & Restaurant"},{name:"Spa & Fitness"},{name:"Sports & Gaming"},{name:"Event & Party"},{name:"GYM & Yoga"}]}],Ph=[{icon:(0,Ch.jsx)("i",{className:"fa fa-map-marker-alt me-3"}),name:"Kriva Palnaka, Macedonia"},{icon:(0,Ch.jsx)("i",{className:"fa fa-phone-alt me-3"}),name:"+389 71 234 567"},{icon:(0,Ch.jsx)("i",{className:"fa fa-envelope me-3"}),name:"naumonvd@gmail.com"}],Mh=[{icon:(0,Ch.jsx)("i",{className:"fa fa-envelope-open text-primary me-2"}),title:"Booking",email:"naumonvd@gmail.com"},{icon:(0,Ch.jsx)("i",{className:"fa fa-envelope-open text-primary me-2"}),title:"Technical",email:"naumonvd@gmail.com"},{icon:(0,Ch.jsx)("i",{className:"fa fa-envelope-open text-primary me-2"}),title:"General",email:"naumonvd@gmail.com"}];function Fh(){const[e,n]=(0,t.useState)(!1),[r,s]=(0,t.useState)(null),i=()=>{s(null)};return(0,Ch.jsxs)("header",{className:"sticky top-0 z-50 w-full bg-light shadow-lg border-b border-bordercolor",children:[(0,Ch.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Ch.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,Ch.jsx)("div",{className:"flex-shrink-0 transform hover:scale-105 transition duration-300",children:(0,Ch.jsx)(_e,{to:"/",onClick:()=>window.scrollTo({top:0,left:0,behavior:"smooth"}),"aria-label":"Go to home",className:"text-primary text-xl sm:text-2xl md:text-3xl lg:text-4xl font-extrabold uppercase tracking-wide transition duration-300",children:"NaumApartments"})}),(0,Ch.jsx)("div",{className:"hidden md:block",children:(0,Ch.jsx)("nav",{className:"flex space-x-6",children:Dh.map(((e,t)=>(0,Ch.jsx)("div",{className:"relative group",children:e.subItems?(0,Ch.jsxs)("div",{onMouseEnter:()=>{return t=e.id,void s(t);var t},onMouseLeave:i,children:[(0,Ch.jsx)(Te,{to:"#",className:e=>{let{isActive:t}=e;return"px-3 py-2 rounded-md text-lg font-medium transition duration-300 ".concat(t?"text-primary underline underline-offset-4":"text-secondary hover:text-primary")},children:e.text}),(0,Ch.jsx)("div",{className:"absolute left-0 mt-2 w-48 rounded-md shadow-xl bg-white border border-bordercolor focus:outline-none transform transition duration-300 group-hover:block ".concat(r===e.id?"block":"hidden"),children:(0,Ch.jsx)("div",{className:"py-1",children:e.subItems.map(((e,t)=>(0,Ch.jsx)(Te,{to:e.path,className:e=>{let{isActive:t}=e;return"block px-4 py-2 text-base transition duration-300 ".concat(t?"text-primary underline underline-offset-4":"text-secondary hover:bg-primary hover:text-white")},children:e.text},t)))})})]}):(0,Ch.jsx)(Te,{to:e.path,className:e=>{let{isActive:t}=e;return"px-3 py-2 rounded-md text-lg font-medium transition duration-300 ".concat(t?"text-primary underline underline-offset-4":"text-secondary hover:text-primary")},children:e.text})},t)))})}),(0,Ch.jsx)("div",{className:"flex md:hidden",children:(0,Ch.jsxs)("button",{onClick:()=>n(!e),type:"button",className:"inline-flex items-center bg-primary justify-center p-2 rounded-md text-light hover:text-white hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white transition duration-300","aria-controls":"mobile-menu","aria-expanded":"false",children:[(0,Ch.jsx)("span",{className:"sr-only",children:"Open main menu"}),e?(0,Ch.jsx)("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:(0,Ch.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}):(0,Ch.jsx)("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:(0,Ch.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})]})})]})}),(0,Ch.jsx)("div",{className:"".concat(e?"block":"hidden"," md:hidden bg-light border-t border-bordercolor pb-4"),id:"mobile-menu",children:(0,Ch.jsx)("div",{className:"px-4 pt-3 space-y-2",children:Dh.map(((e,t)=>(0,Ch.jsx)("div",{children:e.subItems?(0,Ch.jsxs)("div",{className:"group relative",children:[(0,Ch.jsx)(Te,{to:"#",onClick:()=>s(r===e.id?null:e.id),className:e=>{let{isActive:t}=e;return"block px-3 py-3 rounded-md text-base font-medium transition duration-300 ".concat(t?"text-primary underline underline-offset-4":"text-secondary hover:text-primary")},children:e.text}),(0,Ch.jsx)("div",{className:"pl-6 mt-1 space-y-1 ".concat(r===e.id?"block":"hidden"),children:e.subItems.map(((e,t)=>(0,Ch.jsx)(Te,{to:e.path,onClick:()=>n(!1),className:e=>{let{isActive:t}=e;return"block px-3 py-2 rounded-md text-sm font-medium transition duration-300 ".concat(t?"text-primary underline underline-offset-4":"text-secondary hover:text-primary")},children:e.text},t)))})]}):(0,Ch.jsx)(Te,{to:e.path,onClick:()=>n(!1),className:e=>{let{isActive:t}=e;return"block px-3 py-3 rounded-md text-base font-medium transition duration-300 ".concat(t?"text-primary underline underline-offset-4":"text-secondary hover:text-primary")},children:e.text})},t)))})})]})}function Vh(){const[e,n]=(0,t.useState)(!1),r=()=>{window.pageYOffset>300?n(!0):n(!1)};(0,t.useEffect)((()=>(window.addEventListener("scroll",r),()=>{window.removeEventListener("scroll",r)})),[]);return(0,Ch.jsx)(Ch.Fragment,{children:e&&(0,Ch.jsx)("button",{onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},className:"fixed bottom-6 right-6 z-50 bg-primary text-white p-3 rounded-full shadow-lg hover:bg-secondary transition-all duration-300 transform hover:scale-110 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2","aria-label":"Back to top",children:(0,Ch.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Ch.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 10l7-7m0 0l7 7m-7-7v18"})})})})}function Uh(){const{pathname:e}=X();return(0,t.useEffect)((()=>{window.scrollTo(0,0)}),[e]),null}const zh=e=>{let{message:n,type:r="info",duration:s=5e3,onClose:i}=e;const[a,o]=(0,t.useState)(!0);(0,t.useEffect)((()=>{const e=setTimeout((()=>{o(!1),setTimeout((()=>{i()}),300)}),s);return()=>clearTimeout(e)}),[s,i]);return(0,Ch.jsx)("div",{className:"fixed bottom-4 left-4 z-50 max-w-sm w-full transform transition-all duration-300 ease-in-out ".concat(a?"translate-x-0 opacity-100":"-translate-x-full opacity-0"),children:(0,Ch.jsx)("div",{className:"".concat("bg-primary/30 border-primary text-white shadow-lg"," rounded-lg border-l-4 p-4 ring-1 ring-black ring-opacity-20 backdrop-blur-sm"),children:(0,Ch.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Ch.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Ch.jsx)("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-white/20 flex items-center justify-center",children:(0,Ch.jsx)("span",{className:"text-lg",children:(()=>{switch(r){case"success":return"\u2705";case"error":return"\u274c";case"warning":return"\u26a0\ufe0f";default:return"\u2139\ufe0f"}})()})}),(0,Ch.jsx)("div",{className:"flex-1",children:(0,Ch.jsx)("p",{className:"text-sm font-medium leading-5",children:n})})]}),(0,Ch.jsx)("button",{onClick:()=>{o(!1),setTimeout((()=>{i()}),300)},className:"flex-shrink-0 ml-3 text-white hover:text-gray-200 transition-colors focus:outline-none focus:ring-2 focus:ring-white focus:ring-opacity-50 rounded p-1 hover:bg-white hover:bg-opacity-20",children:(0,Ch.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ch.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})})})},Bh=(0,t.createContext)(),qh=()=>{const e=(0,t.useContext)(Bh);if(!e)throw new Error("useNotification must be used within a NotificationProvider");return e},Hh=e=>{let{children:n}=e;const[r,s]=(0,t.useState)([]),i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;const r=Date.now()+Math.random(),i={id:r,message:e,type:t,duration:n};s((e=>[...e,i])),setTimeout((()=>{a(r)}),n)},a=e=>{s((t=>t.filter((t=>t.id!==e))))},o={addNotification:i,removeNotification:a,showSuccess:function(e){i(e,"success",arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3)},showError:function(e){i(e,"error",arguments.length>1&&void 0!==arguments[1]?arguments[1]:7e3)},showWarning:function(e){i(e,"warning",arguments.length>1&&void 0!==arguments[1]?arguments[1]:6e3)},showInfo:function(e){i(e,"info",arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3)}};return(0,Ch.jsxs)(Bh.Provider,{value:o,children:[n,r.map((e=>(0,Ch.jsx)(zh,{message:e.message,type:e.type,duration:e.duration,onClose:()=>a(e.id)},e.id)))]})};function Wh(e){let{heading:t,title:n,subtitle:r}=e;return(0,Ch.jsxs)("div",{className:"relative h-64 md:h-80 mb-5 overflow-hidden bg-room-2 bg-cover bg-center",children:[(0,Ch.jsx)("div",{className:"absolute inset-0 bg-dark-opacity-50"}),(0,Ch.jsxs)("div",{className:"absolute inset-0 flex flex-col justify-center items-center text-center px-4",children:[(0,Ch.jsx)("h1",{className:"text-white mb-3 text-4xl md:text-5xl font-bold animate-slideInDown",children:t}),(0,Ch.jsx)("nav",{"aria-label":"breadcrumb",children:(0,Ch.jsxs)("ol",{className:"flex justify-center uppercase text-white space-x-2",children:[(0,Ch.jsx)("li",{className:"breadcrumb-item",children:(0,Ch.jsx)(_e,{to:"/",className:"hover:text-secondary",children:n})}),(0,Ch.jsxs)("li",{className:"breadcrumb-item text-white active","aria-current":"page",children:["/ ",r]})]})})]})]})}function Gh(){const{showSuccess:e,showError:n}=qh(),r=X().state||{},{checkIn:s,checkOut:i,adults:a=1,children:o=0}=r,[l,c]=(0,t.useState)(s||""),[u,d]=(0,t.useState)(i||""),[h,f]=(0,t.useState)(a||1),[m,p]=(0,t.useState)(o||0),[g,y]=(0,t.useState)([]),[x,v]=(0,t.useState)(!0),[b,w]=(0,t.useState)(null),[N,k]=(0,t.useState)(null),[j,S]=(0,t.useState)({firstName:"",lastName:"",email:"",phone:""}),[C,E]=(0,t.useState)(!1),[_,T]=(0,t.useState)(!1),[I,D]=(0,t.useState)(null),A=(0,t.useMemo)((()=>(new Date).toISOString().split("T")[0]),[]),R=(0,t.useMemo)((()=>{if(!l||!u)return 0;const e=new Date(l),t=new Date(u)-e,n=Math.ceil(t/864e5);return Number.isFinite(n)&&n>0?n:0}),[l,u]),O=async()=>{v(!0);let e=(await dh(id(Sh,"rooms"))).docs.map((e=>Me({id:e.id},e.data()))),t=e;if(l&&u){const n=new Date(l),r=new Date(u),s=(await dh(id(Sh,"bookings"))).docs.map((e=>e.data()));t=e.filter((e=>{if(!(!e.maxOccupancy||e.maxOccupancy.adults>=h&&(!e.maxOccupancy.children||e.maxOccupancy.children>=m)))return!1;return!s.filter((t=>t.roomId===e.id)).some((e=>{const t=new Date(e.checkInDate),s=new Date(e.checkOutDate);return i=r,a=t,n<s&&a<i;var i,a}))}))}y(t),v(!1)};(0,t.useEffect)((()=>{O()}),[l,u,h,m]);const L=j.firstName&&j.lastName&&/.+@.+\..+/.test(j.email)&&j.phone.length>=6;return(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)(Wh,{heading:"Book Your Stay",title:"NaumApartments",subtitle:"Reservation"}),(0,Ch.jsxs)("div",{className:"container mx-auto py-10 px-4",children:[(0,Ch.jsx)("div",{className:"bg-white shadow-lg p-8 rounded-lg border-t-4 border-primary max-w-4xl mx-auto mb-8",children:(0,Ch.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("label",{className:"block text-sm text-primary mb-1",children:"Check-in"}),(0,Ch.jsx)("input",{type:"date",className:"w-full p-3 border border-light rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-primary",value:l,min:A,onChange:e=>c(e.target.value)})]}),(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("label",{className:"block text-sm text-primary mb-1",children:"Check-out"}),(0,Ch.jsx)("input",{type:"date",className:"w-full p-3 border border-light rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-primary",value:u,min:l||A,onChange:e=>d(e.target.value)})]}),(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("label",{className:"block text-sm text-primary mb-1",children:"Adults"}),(0,Ch.jsxs)("div",{className:"flex items-center border border-light rounded-md",children:[(0,Ch.jsx)("button",{type:"button",onClick:()=>{h>1&&f(h-1)},disabled:h<=1,className:"px-3 py-3 text-lg font-bold transition-colors ".concat(h<=1?"text-gray-400 cursor-not-allowed":"text-primary hover:bg-gray-100"),children:"\u2212"}),(0,Ch.jsxs)("div",{className:"flex-1 text-center py-3 text-primary font-medium",children:[h," ",1===h?"Adult":"Adults"]}),(0,Ch.jsx)("button",{type:"button",onClick:()=>{h<6&&f(h+1)},disabled:h>=6,className:"px-3 py-3 text-lg font-bold transition-colors ".concat(h>=6?"text-gray-400 cursor-not-allowed":"text-primary hover:bg-gray-100"),children:"+"})]})]}),(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("label",{className:"block text-sm text-primary mb-1",children:"Children"}),(0,Ch.jsxs)("div",{className:"flex items-center border border-light rounded-md",children:[(0,Ch.jsx)("button",{type:"button",onClick:()=>{m>0&&p(m-1)},disabled:m<=0,className:"px-3 py-3 text-lg font-bold transition-colors ".concat(m<=0?"text-gray-400 cursor-not-allowed":"text-primary hover:bg-gray-100"),children:"\u2212"}),(0,Ch.jsxs)("div",{className:"flex-1 text-center py-3 text-primary font-medium",children:[m," ",1===m?"Child":"Children"]}),(0,Ch.jsx)("button",{type:"button",onClick:()=>{m<5&&p(m+1)},disabled:m>=5,className:"px-3 py-3 text-lg font-bold transition-colors ".concat(m>=5?"text-gray-400 cursor-not-allowed":"text-primary hover:bg-gray-100"),children:"+"})]})]}),(0,Ch.jsx)("div",{className:"flex items-end",children:(0,Ch.jsxs)("div",{className:"w-full p-3 bg-light rounded border border-light text-center font-semibold text-dark",children:[R," night(s)"]})})]})}),!l||!u||R<=0?(0,Ch.jsx)("p",{className:"text-center text-secondary",children:"Please select valid dates to see available rooms."}):(0,Ch.jsx)(Ch.Fragment,{children:x?(0,Ch.jsx)("p",{className:"text-center text-dark",children:"Loading available rooms..."}):0===g.length?(0,Ch.jsx)("p",{className:"text-center text-dark",children:"No rooms available for your selected dates."}):(0,Ch.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:g.map((e=>(0,Ch.jsxs)("div",{className:"bg-white shadow rounded overflow-hidden border-t-4 border-primary",children:[e.images&&e.images.length>0&&(0,Ch.jsx)("img",{className:"w-full h-56 object-cover",src:e.images[0],alt:e.name}),(0,Ch.jsxs)("div",{className:"p-5",children:[(0,Ch.jsx)("h3",{className:"text-xl font-semibold text-primary",children:e.name}),(0,Ch.jsxs)("p",{className:"text-gray-700 mb-2",children:["$",e.price," / night"]}),(0,Ch.jsxs)("div",{className:"mt-3 p-3 bg-light rounded border border-gray-100",children:[(0,Ch.jsxs)("div",{className:"flex justify-between text-gray-700",children:[(0,Ch.jsx)("span",{children:"Nights"}),(0,Ch.jsx)("span",{children:R})]}),(0,Ch.jsxs)("div",{className:"flex justify-between text-gray-700",children:[(0,Ch.jsx)("span",{children:"Total"}),(0,Ch.jsxs)("span",{className:"font-semibold text-primary",children:["$",(e.price*R).toFixed(2)]})]})]}),(0,Ch.jsxs)("div",{className:"grid grid-cols-2 gap-3 mt-4",children:[(0,Ch.jsx)("button",{className:"w-full bg-white border text-dark py-2 rounded hover:bg-gray-50",onClick:()=>k(e),children:"View details"}),(0,Ch.jsx)("button",{className:"w-full bg-primary text-white py-2 rounded hover:bg-secondary",onClick:()=>w(e),children:"Reserve"})]})]})]},e.id)))})})]}),b&&(0,Ch.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[60] flex items-center justify-center p-4 overflow-y-auto",children:(0,Ch.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[(0,Ch.jsxs)("div",{className:"p-5 border-b",children:[(0,Ch.jsxs)("h4",{className:"text-lg font-semibold text-dark",children:["Reservation details for ",b.name]}),(0,Ch.jsxs)("p",{className:"text-sm text-gray-600",children:[l," \u2192 ",u," \u2022 ",R," night(s)"]})]}),(0,Ch.jsxs)("div",{className:"p-5 space-y-4",children:[(0,Ch.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"First name"}),(0,Ch.jsx)("input",{className:"w-full p-3 border rounded",value:j.firstName,onChange:e=>S(Me(Me({},j),{},{firstName:e.target.value}))})]}),(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"Last name"}),(0,Ch.jsx)("input",{className:"w-full p-3 border rounded",value:j.lastName,onChange:e=>S(Me(Me({},j),{},{lastName:e.target.value}))})]}),(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"Email"}),(0,Ch.jsx)("input",{type:"email",className:"w-full p-3 border rounded",value:j.email,onChange:e=>S(Me(Me({},j),{},{email:e.target.value}))})]}),(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"Phone"}),(0,Ch.jsx)("input",{className:"w-full p-3 border rounded",value:j.phone,onChange:e=>(e=>{const t=e.replace(/\D/g,"");S((e=>Me(Me({},e),{},{phone:t})))})(e.target.value),placeholder:"Enter phone number (digits only)"})]})]}),(0,Ch.jsxs)("div",{className:"flex justify-between text-gray-700",children:[(0,Ch.jsx)("span",{children:"Total"}),(0,Ch.jsxs)("span",{className:"font-semibold text-primary",children:["$",(b.price*R).toFixed(2)]})]})]}),(0,Ch.jsxs)("div",{className:"p-5 border-t flex gap-3 justify-end",children:[(0,Ch.jsx)("button",{className:"px-4 py-2 rounded border",onClick:()=>w(null),children:"Cancel"}),(0,Ch.jsx)("button",{className:"px-4 py-2 rounded bg-primary text-white disabled:opacity-60",disabled:!L||C,onClick:async()=>{if(b&&!(R<=0)){E(!0);try{const e=await(async()=>{try{const e=Gd(id(Sh,"bookings"),$d("bookingId","desc"),Jd(1)),t=await dh(e);if(t.empty)return"NA-000001";{const e=t.docs[0].data().bookingId||"NA-000000",n=parseInt(e.split("-")[1]);return"NA-".concat((n+1).toString().padStart(6,"0"))}}catch(e){return console.error("Error generating booking ID:",e),"NA-".concat(Date.now().toString().slice(-6))}})(),t={bookingId:e,checkInDate:l,checkOutDate:u,adults:h,children:m,guest:j,createdAt:(new Date).toISOString(),roomId:b.id,roomName:b.name,roomPrice:b.price};await mh(id(Sh,"bookings"),t),E(!1),w(null),D({bookingId:e,room:b.name,checkIn:l,checkOut:u,nights:R,total:(b.price*R).toFixed(2),guest:j}),T(!0),setTimeout((()=>{O()}),1e3)}catch(e){console.error("Error saving booking:",e),E(!1),n("Error saving booking. Please try again.")}}},children:C?"Saving...":"Confirm Reservation"})]})]})}),N&&(0,Ch.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[60] flex items-center justify-center p-4 overflow-y-auto",children:(0,Ch.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[(0,Ch.jsxs)("div",{className:"p-5 border-b flex justify-between items-center",children:[(0,Ch.jsx)("h4",{className:"text-lg font-semibold text-dark",children:N.name}),(0,Ch.jsxs)("button",{className:"text-gray-500 hover:text-dark",onClick:()=>k(null),children:[(0,Ch.jsx)("span",{className:"sr-only",children:"Close"}),"\xd7"]})]}),N.images&&N.images.length>0&&(0,Ch.jsx)("div",{className:"w-full h-72 overflow-hidden",children:(0,Ch.jsx)("img",{className:"w-full h-full object-cover",src:N.images[0],alt:N.name})}),(0,Ch.jsxs)("div",{className:"p-5 grid grid-cols-1 md:grid-cols-2 gap-4",children:[N.description&&(0,Ch.jsx)("p",{className:"text-gray-700",children:N.description}),(0,Ch.jsxs)("div",{children:[N.maxOccupancy&&(0,Ch.jsxs)("div",{className:"mb-3",children:[(0,Ch.jsx)("h5",{className:"font-semibold text-dark mb-1",children:"Max Occupancy"}),(0,Ch.jsxs)("p",{className:"text-gray-600",children:["Adults: ",N.maxOccupancy.adults]}),N.maxOccupancy.children>0&&(0,Ch.jsxs)("p",{className:"text-gray-600",children:["Children: ",N.maxOccupancy.children]})]}),N.amenities&&N.amenities.length>0&&(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("h5",{className:"font-semibold text-dark mb-1",children:"Amenities"}),(0,Ch.jsx)("ul",{className:"list-disc list-inside text-gray-600",children:N.amenities.map(((e,t)=>(0,Ch.jsx)("li",{children:e},t)))})]})]})]}),(0,Ch.jsxs)("div",{className:"p-5 border-t flex gap-3 justify-end",children:[(0,Ch.jsx)("button",{className:"px-4 py-2 rounded border",onClick:()=>k(null),children:"Close"}),(0,Ch.jsx)("button",{className:"px-4 py-2 rounded bg-primary text-white",onClick:()=>{w(N),k(null)},children:"Reserve"})]})]})}),_&&I&&(0,Ch.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[70] flex items-center justify-center p-4",children:(0,Ch.jsx)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:(0,Ch.jsxs)("div",{className:"p-6 text-center",children:[(0,Ch.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Ch.jsx)("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ch.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),(0,Ch.jsx)("h3",{className:"text-xl font-semibold text-primary mb-2",children:"Reservation Confirmed!"}),(0,Ch.jsx)("p",{className:"text-gray-600 mb-6",children:"Your booking has been successfully saved."}),(0,Ch.jsx)("div",{className:"bg-light rounded-lg p-4 mb-6 text-left",children:(0,Ch.jsxs)("div",{className:"grid grid-cols-1 gap-3 text-sm",children:[(0,Ch.jsxs)("div",{className:"flex justify-between",children:[(0,Ch.jsx)("span",{className:"text-gray-600",children:"Booking ID:"}),(0,Ch.jsx)("span",{className:"font-semibold text-primary",children:I.bookingId})]}),(0,Ch.jsxs)("div",{className:"flex justify-between",children:[(0,Ch.jsx)("span",{className:"text-gray-600",children:"Room:"}),(0,Ch.jsx)("span",{className:"font-semibold text-primary",children:I.room})]}),(0,Ch.jsxs)("div",{className:"flex justify-between",children:[(0,Ch.jsx)("span",{className:"text-gray-600",children:"Check-in:"}),(0,Ch.jsx)("span",{className:"font-semibold",children:I.checkIn})]}),(0,Ch.jsxs)("div",{className:"flex justify-between",children:[(0,Ch.jsx)("span",{className:"text-gray-600",children:"Check-out:"}),(0,Ch.jsx)("span",{className:"font-semibold",children:I.checkOut})]}),(0,Ch.jsxs)("div",{className:"flex justify-between",children:[(0,Ch.jsx)("span",{className:"text-gray-600",children:"Nights:"}),(0,Ch.jsx)("span",{className:"font-semibold",children:I.nights})]}),(0,Ch.jsxs)("div",{className:"flex justify-between border-t pt-2",children:[(0,Ch.jsx)("span",{className:"text-gray-600 font-semibold",children:"Total:"}),(0,Ch.jsxs)("span",{className:"font-bold text-primary text-lg",children:["$",I.total]})]})]})}),(0,Ch.jsx)("div",{className:"text-sm text-gray-500 mb-6",children:(0,Ch.jsxs)("p",{children:["Confirmation sent to: ",(0,Ch.jsx)("span",{className:"font-semibold text-primary",children:I.guest.email})]})}),(0,Ch.jsx)("button",{onClick:()=>{T(!1),D(null),S({firstName:"",lastName:"",email:"",phone:""})},className:"w-full bg-primary text-white py-3 px-6 rounded-md hover:bg-secondary transition duration-300 transform hover:scale-105",children:"Done"})]})})})]})}function Kh(e){let{heading:t,title:n,subtitle:r}=e;return(0,Ch.jsxs)("div",{className:"text-center mb-10",children:[(0,Ch.jsx)("h6",{className:"text-primary text-xl font-bold uppercase mb-2",children:t}),(0,Ch.jsxs)("h1",{className:"text-4xl font-bold text-secondary",children:[r," ",(0,Ch.jsx)("span",{className:"text-primary uppercase",children:n})]})]})}function Qh(){const[e,n]=(0,t.useState)({name:"",email:"",subject:"",message:""}),[r,s]=(0,t.useState)(!1),[i,a]=(0,t.useState)(null),[o,l]=(0,t.useState)(""),c=e=>{const{id:t,value:r}=e.target;n((e=>Me(Me({},e),{},{[t]:r})))};return(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)(Wh,{heading:"Get in Touch",title:"NaumApartments",subtitle:"Contact Us"}),(0,Ch.jsxs)("div",{className:"container mx-auto py-12 px-4 bg-light",children:[(0,Ch.jsx)(Kh,{heading:"Connect with NaumApartments",subtitle:"Have a Question?",title:"Reach Out to Us"}),i&&(0,Ch.jsx)("div",{className:"mb-6 p-4 rounded-lg text-center ".concat("success"===i?"bg-green-100 text-green-800 border border-green-200":"bg-red-100 text-red-800 border border-red-200"),children:"success"===i?"Thank you! Your message has been sent successfully. We will get back to you soon.":o||"There was an error sending your message. Please try again."}),(0,Ch.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,Ch.jsxs)("div",{className:"lg:col-span-1",children:[(0,Ch.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:Mh.map(((e,t)=>(0,Ch.jsxs)("div",{className:"p-4 bg-white shadow-sm rounded-lg border-l-4 border-primary",children:[(0,Ch.jsx)("h6",{className:"text-primary text-lg font-bold uppercase mb-2",children:"Reception"===e.title?"General Inquiries":"Restaurant"===e.title?"Dining Reservations":"Spa"===e.title?"Spa & Wellness":e.title}),(0,Ch.jsxs)("p",{className:"flex items-center text-gray-600",children:[(0,Ch.jsx)("span",{className:"mr-2 text-primary text-xl",children:e.icon}),e.email]})]},t)))}),(0,Ch.jsx)("div",{className:"h-[350px] w-full rounded-lg overflow-hidden shadow-lg border-t-4 border-primary",children:(0,Ch.jsx)("iframe",{className:"w-full h-full border-none",src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d23642.848762736878!2d22.313656003738362!3d42.20683334598112!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x135575c524350591%3A0x931e713363909884!2sOp%C4%87ina%20Kriva%20Palanka!5e0!3m2!1shr!2smk!4v1756312469213!5m2!1shr!2smk",allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})})]}),(0,Ch.jsx)("div",{className:"lg:col-span-1",children:(0,Ch.jsxs)("form",{onSubmit:async t=>{t.preventDefault();const r=(()=>{const{name:t,email:n,subject:r,message:s}=e;return t.trim()&&n.trim()&&r.trim()&&s.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)?s.length<10?"Message must be at least 10 characters long":null:"Please enter a valid email address":"All fields are required"})();if(r)return a("error"),l(r),void setTimeout((()=>{a(null),l("")}),3e3);s(!0),a(null),l("");try{if(!Sh)throw new Error("Firebase database not initialized");const t=Me(Me({},e),{},{createdAt:(new Date).toISOString(),status:"new"});console.log("Attempting to save contact message:",t);const r=await mh(id(Sh,"contactMessages"),t);console.log("Contact message saved with ID:",r.id),a("success"),n({name:"",email:"",subject:"",message:""}),setTimeout((()=>a(null)),5e3)}catch(i){console.error("Error sending contact message:",i),a("error"),l(i.message||"Failed to send message. Please check your internet connection and try again."),setTimeout((()=>{a(null),l("")}),5e3)}finally{s(!1)}},className:"p-8 rounded-lg shadow-lg bg-white border-t-4 border-primary",children:[(0,Ch.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("label",{htmlFor:"name",className:"sr-only",children:"Your Name"}),(0,Ch.jsx)("input",{type:"text",className:"w-full p-3 border border-light rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-dark placeholder-gray-500",id:"name",placeholder:"Your Full Name",value:e.name,onChange:c,required:!0})]}),(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("label",{htmlFor:"email",className:"sr-only",children:"Your Email"}),(0,Ch.jsx)("input",{type:"email",className:"w-full p-3 border border-light rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-dark placeholder-gray-500",id:"email",placeholder:"Your Email Address",value:e.email,onChange:c,required:!0})]})]}),(0,Ch.jsxs)("div",{className:"mb-4",children:[(0,Ch.jsx)("label",{htmlFor:"subject",className:"sr-only",children:"Subject"}),(0,Ch.jsx)("input",{type:"text",className:"w-full p-3 border border-light rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-dark placeholder-gray-500",id:"subject",placeholder:"Subject of Inquiry",value:e.subject,onChange:c,required:!0})]}),(0,Ch.jsxs)("div",{className:"mb-6",children:[(0,Ch.jsx)("label",{htmlFor:"message",className:"sr-only",children:"Message"}),(0,Ch.jsx)("textarea",{className:"w-full p-3 border border-light rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-dark placeholder-gray-500",placeholder:"Your Message Here",id:"message",rows:"6",value:e.message,onChange:c,required:!0})]}),(0,Ch.jsx)("div",{children:(0,Ch.jsx)("button",{className:"w-full py-3 px-6 rounded-md transition duration-300 transform hover:scale-105 ".concat(r?"bg-gray-400 cursor-not-allowed":"bg-primary text-white hover:bg-secondary"),type:"submit",disabled:r,children:r?"Sending Message...":"Send Your Message"})})]})})]})]})]})}function Yh(){return(0,Ch.jsx)("div",{children:(0,Ch.jsx)(Wh,{heading:"404",title:"NaumApartments",subtitle:"Page Not Found"})})}function $h(e){let{limit:n}=e;const[r,s]=(0,t.useState)([]),[i,a]=(0,t.useState)(!0),o=Z();return(0,t.useEffect)((()=>{(async()=>{a(!0);let e=(await dh(id(Sh,"rooms"))).docs.map((e=>Me({id:e.id},e.data())));n&&e.length>n?s(e.slice(-n)):s(e),a(!1)})()}),[n]),i?(0,Ch.jsx)("p",{className:"text-center text-lg py-10 text-luxury",children:"Loading our cozy rooms..."}):(0,Ch.jsx)("div",{className:"container mx-auto py-12 px-4 bg-light",children:(0,Ch.jsxs)("div",{className:"container",children:[(0,Ch.jsx)(Kh,{heading:"Our Cozy Rooms",title:"Comfort Awaits",subtitle:"Explore Our"}),(0,Ch.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:r.map((e=>(0,Ch.jsxs)("div",{className:"shadow-lg rounded-lg overflow-hidden bg-white transform animate-fadeIn hover:scale-105 transition duration-300 cursor-pointer",onClick:()=>o("/rooms/".concat(e.id)),children:[(0,Ch.jsxs)("div",{className:"relative h-60 w-full",children:[e.images&&e.images.length>0&&(0,Ch.jsx)("img",{className:"w-full h-full object-cover",src:e.images[0],alt:"CozyStay Room: ".concat(e.name)}),(0,Ch.jsxs)("small",{className:"absolute bottom-0 left-0 transform translate-y-1/2 bg-primary text-white rounded py-1 px-3 ml-4 text-lg font-bold",children:["$",e.price,"/night"]})]}),(0,Ch.jsxs)("div",{className:"p-4 mt-2",children:[(0,Ch.jsxs)("div",{className:"flex justify-between mb-3",children:[(0,Ch.jsx)("h5",{className:"text-xl font-semibold text-primary mb-0",children:e.name}),(0,Ch.jsx)("div",{className:"pl-2 text-secondary text-lg flex items-center",children:Array.from({length:5},((e,t)=>(0,Ch.jsx)("i",{className:"fa fa-star ".concat(t<5?"text-secondary":"text-gray-300")},t)))})]}),(0,Ch.jsx)("div",{className:"flex mb-3 space-x-3 text-gray-600",children:e.maxOccupancy&&(0,Ch.jsxs)(Ch.Fragment,{children:[(0,Ch.jsxs)("small",{className:"pr-3 border-r border-light last:border-r-0",children:[(0,Ch.jsx)("i",{className:"fa fa-user text-primary me-2"}),e.maxOccupancy.adults," Adult",e.maxOccupancy.adults>1?"s":""]}),e.maxOccupancy.children>0&&(0,Ch.jsxs)("small",{className:"pr-3 border-r border-light last:border-r-0",children:[(0,Ch.jsx)("i",{className:"fa fa-child text-primary me-2"}),e.maxOccupancy.children," Child",e.maxOccupancy.children>1?"ren":""]})]})}),(0,Ch.jsx)("p",{className:"text-gray-600 mb-3 text-base leading-relaxed",children:e.description}),(0,Ch.jsx)("div",{className:"flex justify-left ",children:(0,Ch.jsx)("span",{className:"inline-block bg-primary text-white py-2 px-4 rounded-md  text-sm transform hover:bg-secondary transition duration-200",children:"View Details"})})]})]},e.id)))})]})})}function Xh(){return(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)(Wh,{heading:"Our Cozy Rooms",title:"NaumApartments",subtitle:"Explore & Book"}),(0,Ch.jsx)($h,{})]})}function Jh(){return(0,Ch.jsxs)("div",{className:"container mx-auto py-12 px-4 bg-light",children:[(0,Ch.jsx)("div",{className:"text-center mb-10",children:(0,Ch.jsx)(Kh,{heading:"Our Exceptional Services",title:"Your Comfort is Our Priority",subtitle:"Experience"})}),(0,Ch.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-3 gap-8",children:Oh.map(((e,t)=>(0,Ch.jsx)("div",{children:(0,Ch.jsxs)("div",{className:"block p-6 rounded-lg shadow-md hover:shadow-xl  text-center bg-white border-t-4 border-primary transform hover:scale-105  transition duration-300",children:[(0,Ch.jsx)("div",{className:"flex items-center justify-center w-20 h-20 bg-transparent border-2 border-primary rounded-full mx-auto mb-4",children:(0,Ch.jsx)("div",{className:"flex items-center justify-center w-full h-full border border-primary rounded-full text-primary text-3xl",children:e.icon})}),(0,Ch.jsx)("h5",{className:"text-xl font-semibold mb-3 text-primary",children:e.name}),(0,Ch.jsx)("p",{className:"text-gray-600 text-base mb-0 leading-relaxed",children:"Tempor erat elitr rebum at clita. Diam dolor diam ipsum sit. Aliqu diam amet diam et eos. Clita erat ipsum et lorem et sit, sed stet lorem sit clita duo justo magna dolore erat amet"===e.discription?"Indulge in tailored services designed to enhance your stay, from gourmet dining to rejuvenating spa treatments. We ensure every detail contributes to your ultimate comfort.":e.discription})]})},t)))})]})}function Zh(){return(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)(Wh,{heading:"Our Premium Services",title:"NaumApartments",subtitle:"Exceptional Care"}),(0,Ch.jsx)(Jh,{})]})}function ef(){const[e,n]=(0,t.useState)(0),r=[{_id:1,category:"facilities",imageUrl:"/assets/img/about-1.jpg",title:"Hotel Lobby"},{_id:2,category:"rooms",imageUrl:"/assets/img/about-2.jpg",title:"Luxury Room"},{_id:3,category:"facilities",imageUrl:"/assets/img/about-3.jpg",title:"Hotel Restaurant"},{_id:4,category:"surroundings",imageUrl:"/assets/img/about-4.jpg",title:"Outdoor Pool"}];(0,t.useEffect)((()=>{if(0===r.length)return;const e=setInterval((()=>{n((e=>e===r.length-1?0:e+1))}),4e3);return()=>clearInterval(e)}),[r]);const s=e=>{n(e)};return(0,Ch.jsx)("div",{className:"py-16 bg-light",children:(0,Ch.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Ch.jsxs)("div",{className:"relative max-w-6xl mx-auto",children:[(0,Ch.jsxs)("div",{className:"relative h-96 md:h-[500px] rounded-2xl overflow-hidden shadow-2xl",children:[(0,Ch.jsx)("div",{className:"flex transition-transform duration-500 ease-in-out h-full",style:{transform:"translateX(-".concat(100*e,"%)")},children:r.map((e=>(0,Ch.jsxs)("div",{className:"w-full h-full flex-shrink-0 relative",children:[(0,Ch.jsx)("img",{src:e.imageUrl,alt:e.title,className:"w-full h-full object-cover"}),(0,Ch.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-30 flex items-end",children:(0,Ch.jsxs)("div",{className:"p-8 text-white",children:[(0,Ch.jsx)("h3",{className:"text-2xl font-bold mb-2",children:e.title}),(0,Ch.jsx)("p",{className:"text-lg opacity-90 capitalize",children:e.category})]})})]},e._id)))}),(0,Ch.jsx)("button",{onClick:()=>{n(0===e?r.length-1:e-1)},className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-white bg-opacity-20 hover:bg-opacity-30 text-white p-3 rounded-full transition-all duration-200",children:(0,Ch.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ch.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,Ch.jsx)("button",{onClick:()=>{n(e===r.length-1?0:e+1)},className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-white bg-opacity-20 hover:bg-opacity-30 text-white p-3 rounded-full transition-all duration-200",children:(0,Ch.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ch.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),(0,Ch.jsx)("div",{className:"flex justify-center mt-6 space-x-2",children:r.map(((t,n)=>(0,Ch.jsx)("button",{onClick:()=>s(n),className:"w-3 h-3 rounded-full transition-all duration-200 ".concat(n===e?"bg-blue-600 scale-125":"bg-gray-300 hover:bg-gray-400")},n)))}),(0,Ch.jsx)("div",{className:"mt-8 grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:r.slice(0,6).map(((t,n)=>(0,Ch.jsxs)("div",{onClick:()=>s(n),className:"relative cursor-pointer rounded-lg overflow-hidden transition-all duration-200 ".concat(n===e?"ring-4 ring-primary/50 scale-105":"hover:scale-105"),children:[(0,Ch.jsx)("img",{src:t.imageUrl,alt:t.title,className:"w-full h-20 object-cover"}),(0,Ch.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-20 hover:bg-opacity-10 transition-opacity"})]},t._id)))})]})})})}function tf(){return(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)(Wh,{heading:"Gallery",title:"NaumApartments",subtitle:"Gallery"}),(0,Ch.jsx)(ef,{})]})}function nf(e){let{activeTab:t,setActiveTab:n,onLogout:r,isMobile:s=!1,onClose:i}=e;return(0,Ch.jsxs)("div",{className:"w-64 bg-white shadow-lg min-h-screen flex flex-col",children:[(0,Ch.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,Ch.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("h2",{className:"text-xl font-bold text-primary",children:"Admin Panel"}),(0,Ch.jsx)("p",{className:"text-sm text-gray-600",children:"NaumApartments"})]}),s&&(0,Ch.jsx)("button",{onClick:i,className:"p-2 rounded-md text-gray-600 hover:text-gray-900 hover:bg-gray-100",children:(0,Ch.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Ch.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,Ch.jsx)("nav",{className:"mt-6 flex-1",children:[{id:"dashboard",label:"Dashboard",icon:"\ud83d\udcca"},{id:"bookings",label:"Bookings",icon:"\ud83d\udcc5"},{id:"rooms",label:"Rooms",icon:"\ud83c\udfe0"},{id:"messages",label:"Messages",icon:"\ud83d\udcac"},{id:"newsletter",label:"Newsletter",icon:"\ud83d\udce7"}].map((e=>(0,Ch.jsxs)("button",{onClick:()=>n(e.id),className:"w-full flex items-center px-6 py-3 text-left transition-colors duration-200 ".concat(t===e.id?"bg-primary text-white":"text-gray-700 hover:bg-gray-100"),children:[(0,Ch.jsx)("span",{className:"mr-3",children:e.icon}),e.label]},e.id)))}),(0,Ch.jsxs)("div",{className:"mt-auto p-6 border-t border-gray-200",children:[(0,Ch.jsxs)("button",{onClick:()=>window.location.href="/",className:"w-full flex items-center px-4 py-2 text-gray-600 hover:bg-gray-100 rounded transition-colors duration-200 mb-2",children:[(0,Ch.jsx)("span",{className:"mr-3",children:"\ud83c\udfe0"}),"Back to Website"]}),(0,Ch.jsxs)("button",{onClick:r,className:"w-full flex items-center px-4 py-2 text-red-600 hover:bg-red-50 rounded transition-colors duration-200",children:[(0,Ch.jsx)("span",{className:"mr-3",children:"\ud83d\udeaa"}),"Logout"]})]})]})}function rf(e){let{bookings:n,rooms:r,onUpdate:s,onDelete:i,onRefresh:a}=e;const{showSuccess:o,showError:l,showWarning:c}=qh(),[u,d]=(0,t.useState)(null),[h,f]=(0,t.useState)(""),[m,p]=(0,t.useState)("all"),[g,y]=(0,t.useState)(!1),[x,v]=(0,t.useState)([]),[b,w]=(0,t.useState)(!1),[N,k]=(0,t.useState)(!1),[j,S]=(0,t.useState)([]),[C,E]=(0,t.useState)(!1),[_,T]=(0,t.useState)({guest:{firstName:"",lastName:"",email:"",phone:""},checkInDate:"",checkOutDate:"",adults:1,children:0,roomId:"",roomName:"",roomPrice:0,totalCost:0,specialRequests:"",bookingId:""}),I=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),D=()=>(new Date).toISOString().split("T")[0],A=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=e.replace(/\D/g,"");t?T((e=>Me(Me({},e),{},{guest:Me(Me({},e.guest),{},{phone:n})}))):d((e=>Me(Me({},e),{},{guest:Me(Me({},e.guest),{},{phone:n})})))},R=e=>{const t=new Date,n=new Date(e);return n<t?"bg-green-100 text-green-800":n>t?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"},O=e=>{const t=new Date,n=new Date(e);return n<t?"Completed":n>t?"Active":"Checking Out"},L=n.filter((e=>{const t=e.guest.firstName.toLowerCase().includes(h.toLowerCase())||e.guest.lastName.toLowerCase().includes(h.toLowerCase())||e.guest.email.toLowerCase().includes(h.toLowerCase())||e.roomName.toLowerCase().includes(h.toLowerCase())||e.bookingId&&e.bookingId.toLowerCase().includes(h.toLowerCase()),n="all"===m||"active"===m&&new Date(e.checkOutDate)>new Date||"completed"===m&&new Date(e.checkOutDate)<=new Date;return t&&n}));t.useEffect((()=>{v([]),w(!1)}),[h,m]);const P=e=>{d(Me({},e)),y(!0)},M=()=>{d(null),y(!1)},F=e=>{S([e]),k(!0)},V=()=>{b?(v([]),w(!1)):(v(L.map((e=>e.id))),w(!0))},U=e=>{x.includes(e)?v(x.filter((t=>t!==e))):v([...x,e])},z=()=>{k(!1),S([])},B=()=>{if(_.checkInDate&&_.checkOutDate&&_.roomPrice){const e=new Date(_.checkInDate),t=new Date(_.checkOutDate);return Math.ceil((t-e)/864e5)*_.roomPrice}return 0},q=()=>{E(!1),T({guest:{firstName:"",lastName:"",email:"",phone:""},checkInDate:"",checkOutDate:"",adults:1,children:0,roomId:"",roomName:"",roomPrice:0,totalCost:0,specialRequests:"",bookingId:""})};return(0,Ch.jsxs)("div",{className:"space-y-6",children:[(0,Ch.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Booking Management"}),(0,Ch.jsx)("p",{className:"text-gray-600",children:"Manage hotel bookings and reservations"})]}),(0,Ch.jsxs)("div",{className:"flex space-x-3",children:[(0,Ch.jsx)("button",{onClick:()=>{E(!0),T({guest:{firstName:"",lastName:"",email:"",phone:""},checkInDate:"",checkOutDate:"",adults:1,children:0,roomId:"",roomName:"",roomPrice:0,totalCost:0,specialRequests:"",bookingId:""})},className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-secondary transition-colors font-medium shadow-md",children:"\u2795 Add New Booking"}),(0,Ch.jsx)("button",{onClick:a,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-secondary transition-colors",children:"\ud83d\udd04 Refresh"})]})]}),x.length>0&&(0,Ch.jsx)("div",{className:"bg-primary bg-opacity-10 border border-primary border-opacity-30 rounded-lg p-4",children:(0,Ch.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ch.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ch.jsxs)("span",{className:"text-primary font-medium",children:[x.length," booking(s) selected"]}),(0,Ch.jsx)("button",{onClick:()=>{v([]),w(!1)},className:"text-primary hover:text-secondary text-sm font-medium",children:"Clear selection"})]}),(0,Ch.jsx)("div",{className:"flex items-center space-x-3",children:(0,Ch.jsxs)("button",{onClick:()=>{if(0===x.length)return;const e=L.filter((e=>x.includes(e.id)));S(e),k(!0)},className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-secondary transition-colors font-medium",children:["\ud83d\uddd1\ufe0f Delete Selected (",x.length,")"]})})]})}),(0,Ch.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:(0,Ch.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Bookings"}),(0,Ch.jsx)("input",{type:"text",placeholder:"Search by booking ID, guest name, email, or room...",value:h,onChange:e=>f(e.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Status"}),(0,Ch.jsxs)("select",{value:m,onChange:e=>p(e.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[(0,Ch.jsx)("option",{value:"all",children:"All Bookings"}),(0,Ch.jsx)("option",{value:"active",children:"Active Bookings"}),(0,Ch.jsx)("option",{value:"completed",children:"Completed Bookings"})]})]})]})}),(0,Ch.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[(0,Ch.jsx)("div",{className:"px-4 lg:px-6 py-3 bg-gray-50 border-b border-gray-200",children:(0,Ch.jsx)("p",{className:"text-sm text-gray-600",children:"Select bookings using checkboxes to perform bulk actions. Use the checkbox in the header to select all visible bookings."})}),(0,Ch.jsx)("div",{className:"hidden lg:block overflow-x-auto",children:(0,Ch.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Ch.jsx)("thead",{className:"bg-gray-50",children:(0,Ch.jsxs)("tr",{children:[(0,Ch.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,Ch.jsx)("input",{type:"checkbox",checked:b&&L.length>0,onChange:V,className:"rounded border-gray-300 text-primary focus:ring-primary"})}),(0,Ch.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Booking ID"}),(0,Ch.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Guest"}),(0,Ch.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Room"}),(0,Ch.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dates"}),(0,Ch.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Guests"}),(0,Ch.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Ch.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Ch.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:L.map((e=>(0,Ch.jsxs)("tr",{className:"hover:bg-gray-50 ".concat(x.includes(e.id)?"bg-blue-50 border-l-4 border-blue-500":""),children:[(0,Ch.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ch.jsx)("input",{type:"checkbox",checked:x.includes(e.id),onChange:()=>U(e.id),className:"rounded border-gray-300 text-primary focus:ring-primary"})}),(0,Ch.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ch.jsx)("div",{className:"text-sm font-medium text-primary",children:e.bookingId||"N/A"})}),(0,Ch.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ch.jsxs)("div",{children:[(0,Ch.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[e.guest.firstName," ",e.guest.lastName]}),(0,Ch.jsx)("div",{className:"text-sm text-gray-500",children:e.guest.email}),(0,Ch.jsx)("div",{className:"text-sm text-gray-500",children:e.guest.phone})]})}),(0,Ch.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,Ch.jsx)("div",{className:"text-sm text-gray-900",children:e.roomName}),(0,Ch.jsxs)("div",{className:"text-sm text-gray-500",children:["$",e.roomPrice,"/night"]})]}),(0,Ch.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ch.jsxs)("div",{children:[(0,Ch.jsxs)("div",{className:"text-sm text-gray-900",children:[I(e.checkInDate)," - ",I(e.checkOutDate)]}),(0,Ch.jsxs)("div",{className:"text-sm text-gray-500",children:[Math.ceil((new Date(e.checkOutDate)-new Date(e.checkInDate))/864e5)," nights"]})]})}),(0,Ch.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ch.jsxs)("div",{className:"text-sm text-gray-900",children:[e.adults," Adults, ",e.children," Children"]})}),(0,Ch.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ch.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(R(e.checkOutDate)),children:O(e.checkOutDate)})}),(0,Ch.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,Ch.jsxs)("div",{className:"space-x-2",children:[(0,Ch.jsx)("button",{onClick:()=>P(e),className:"px-3 py-1 bg-primary text-white rounded hover:bg-secondary transition-colors font-medium text-sm",children:"Edit"}),(0,Ch.jsx)("button",{onClick:()=>F(e),className:"px-3 py-1 bg-primary text-white rounded hover:bg-secondary transition-colors font-medium text-sm",children:"Delete"})]})})]},e.id)))})]})}),(0,Ch.jsx)("div",{className:"lg:hidden",children:(0,Ch.jsxs)("div",{className:"p-4",children:[(0,Ch.jsxs)("div",{className:"mb-4 flex items-center",children:[(0,Ch.jsx)("input",{type:"checkbox",checked:b&&L.length>0,onChange:V,className:"rounded border-gray-300 text-primary focus:ring-primary mr-2"}),(0,Ch.jsx)("span",{className:"text-sm text-gray-600",children:"Select All"})]}),(0,Ch.jsx)("div",{className:"space-y-4",children:L.map((e=>(0,Ch.jsxs)("div",{className:"border rounded-lg p-4 ".concat(x.includes(e.id)?"bg-blue-50 border-blue-500":"border-gray-200"),children:[(0,Ch.jsx)("div",{className:"flex items-start justify-between mb-3",children:(0,Ch.jsxs)("div",{className:"flex items-center",children:[(0,Ch.jsx)("input",{type:"checkbox",checked:x.includes(e.id),onChange:()=>U(e.id),className:"rounded border-gray-300 text-primary focus:ring-primary mr-3"}),(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("div",{className:"text-sm font-medium text-primary",children:e.bookingId||"N/A"}),(0,Ch.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(R(e.checkOutDate)),children:O(e.checkOutDate)})]})]})}),(0,Ch.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("span",{className:"text-sm font-medium text-gray-900",children:"Guest:"}),(0,Ch.jsxs)("div",{className:"text-sm text-gray-600",children:[e.guest.firstName," ",e.guest.lastName]}),(0,Ch.jsx)("div",{className:"text-sm text-gray-500",children:e.guest.email}),(0,Ch.jsx)("div",{className:"text-sm text-gray-500",children:e.guest.phone})]}),(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("span",{className:"text-sm font-medium text-gray-900",children:"Room:"}),(0,Ch.jsx)("div",{className:"text-sm text-gray-600",children:e.roomName}),(0,Ch.jsxs)("div",{className:"text-sm text-gray-500",children:["$",e.roomPrice,"/night"]})]}),(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("span",{className:"text-sm font-medium text-gray-900",children:"Dates:"}),(0,Ch.jsxs)("div",{className:"text-sm text-gray-600",children:[I(e.checkInDate)," - ",I(e.checkOutDate)]}),(0,Ch.jsxs)("div",{className:"text-sm text-gray-500",children:[Math.ceil((new Date(e.checkOutDate)-new Date(e.checkInDate))/864e5)," nights"]})]}),(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("span",{className:"text-sm font-medium text-gray-900",children:"Guests:"}),(0,Ch.jsxs)("div",{className:"text-sm text-gray-600",children:[e.adults," Adults, ",e.children," Children"]})]})]}),(0,Ch.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,Ch.jsx)("button",{onClick:()=>P(e),className:"px-3 py-2 bg-primary text-white rounded hover:bg-secondary transition-colors font-medium text-sm",children:"Edit"}),(0,Ch.jsx)("button",{onClick:()=>F(e),className:"px-3 py-2 bg-primary text-white rounded hover:bg-secondary transition-colors font-medium text-sm",children:"Delete"})]})]},e.id)))})]})}),0===L.length&&(0,Ch.jsx)("div",{className:"text-center py-8",children:(0,Ch.jsx)("p",{className:"text-gray-500",children:"No bookings found matching your criteria."})})]}),g&&u&&(0,Ch.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Ch.jsx)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:(0,Ch.jsxs)("div",{className:"p-6",children:[(0,Ch.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Ch.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Edit Booking"}),(0,Ch.jsx)("button",{onClick:M,className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\xd7"})]}),(0,Ch.jsxs)("div",{className:"space-y-6",children:[(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Booking Information"}),(0,Ch.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Ch.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,Ch.jsx)("strong",{children:"Booking ID:"})," ",u.bookingId||"N/A"]}),(0,Ch.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,Ch.jsx)("strong",{children:"Created:"})," ",I(u.createdAt)]})]})]}),(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Guest Information"}),(0,Ch.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),(0,Ch.jsx)("input",{type:"text",value:u.guest.firstName,onChange:e=>d(Me(Me({},u),{},{guest:Me(Me({},u.guest),{},{firstName:e.target.value})})),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),(0,Ch.jsx)("input",{type:"text",value:u.guest.lastName,onChange:e=>d(Me(Me({},u),{},{guest:Me(Me({},u.guest),{},{lastName:e.target.value})})),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,Ch.jsx)("input",{type:"email",value:u.guest.email,onChange:e=>d(Me(Me({},u),{},{guest:Me(Me({},u.guest),{},{email:e.target.value})})),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),(0,Ch.jsx)("input",{type:"tel",value:u.guest.phone,onChange:e=>A(e.target.value,!1),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Enter phone number (digits only)"})]})]})]}),(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Booking Details"}),(0,Ch.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Check-in Date"}),(0,Ch.jsx)("input",{type:"date",value:u.checkInDate,onChange:e=>d(Me(Me({},u),{},{checkInDate:e.target.value})),min:D(),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Check-out Date"}),(0,Ch.jsx)("input",{type:"date",value:u.checkOutDate,onChange:e=>d(Me(Me({},u),{},{checkOutDate:e.target.value})),min:u.checkInDate||D(),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Adults"}),(0,Ch.jsxs)("select",{value:u.adults,onChange:e=>d(Me(Me({},u),{},{adults:parseInt(e.target.value)})),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[(0,Ch.jsx)("option",{value:1,children:"1 Adult"}),(0,Ch.jsx)("option",{value:2,children:"2 Adults"}),(0,Ch.jsx)("option",{value:3,children:"3 Adults"}),(0,Ch.jsx)("option",{value:4,children:"4 Adults"})]})]}),(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Children"}),(0,Ch.jsxs)("select",{value:u.children,onChange:e=>d(Me(Me({},u),{},{children:parseInt(e.target.value)})),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[(0,Ch.jsx)("option",{value:0,children:"0 Children"}),(0,Ch.jsx)("option",{value:1,children:"1 Child"}),(0,Ch.jsx)("option",{value:2,children:"2 Children"}),(0,Ch.jsx)("option",{value:3,children:"3 Children"})]})]})]})]}),(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Room Information"}),(0,Ch.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Ch.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,Ch.jsx)("strong",{children:"Room:"})," ",u.roomName]}),(0,Ch.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,Ch.jsx)("strong",{children:"Price:"})," $",u.roomPrice,"/night"]}),(0,Ch.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,Ch.jsx)("strong",{children:"Total Nights:"})," ",Math.ceil((new Date(u.checkOutDate)-new Date(u.checkInDate))/864e5)," nights"]}),(0,Ch.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,Ch.jsx)("strong",{children:"Total Cost:"})," $",(u.roomPrice*Math.ceil((new Date(u.checkOutDate)-new Date(u.checkInDate))/864e5)).toFixed(2)]})]})]})]}),(0,Ch.jsxs)("div",{className:"flex justify-end space-x-3 mt-8 pt-6 border-t border-gray-200",children:[(0,Ch.jsx)("button",{onClick:M,className:"px-6 py-3 text-gray-600 hover:text-gray-800 font-medium transition-colors",children:"Cancel"}),(0,Ch.jsx)("button",{onClick:async()=>{if(u)try{await s(u.id,{checkInDate:u.checkInDate,checkOutDate:u.checkOutDate,adults:u.adults,children:u.children,guest:u.guest}),d(null),y(!1)}catch(e){console.error("Error updating booking:",e),l("Failed to update booking. Please try again.")}},className:"px-6 py-3 bg-primary text-white rounded-lg hover:bg-secondary transition-colors font-medium shadow-md",children:"Save Changes"})]})]})})}),N&&j.length>0&&(0,Ch.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Ch.jsx)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:(0,Ch.jsxs)("div",{className:"p-6",children:[(0,Ch.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Ch.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:1===j.length?"Delete Booking":"Delete ".concat(j.length," Bookings")}),(0,Ch.jsx)("button",{onClick:z,className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\xd7"})]}),(0,Ch.jsxs)("div",{className:"mb-6",children:[(0,Ch.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Ch.jsx)("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mr-4",children:(0,Ch.jsx)("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ch.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("p",{className:"text-lg font-medium text-gray-900",children:1===j.length?"Are you sure you want to delete this booking?":"Are you sure you want to delete these ".concat(j.length," bookings?")}),(0,Ch.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"This action cannot be undone. All booking data will be permanently removed."})]})]}),(0,Ch.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 max-h-60 overflow-y-auto",children:[(0,Ch.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:1===j.length?"Booking to be deleted:":"Bookings to be deleted:"}),(0,Ch.jsx)("div",{className:"space-y-2",children:j.map((e=>(0,Ch.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white rounded border",children:[(0,Ch.jsxs)("div",{children:[(0,Ch.jsxs)("p",{className:"font-medium text-gray-900",children:[e.bookingId||"N/A"," - ",e.guest.firstName," ",e.guest.lastName]}),(0,Ch.jsxs)("p",{className:"text-sm text-gray-600",children:[e.roomName," \u2022 ",I(e.checkInDate)," - ",I(e.checkOutDate)]})]}),(0,Ch.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(R(e.checkOutDate)),children:O(e.checkOutDate)})]},e.id)))})]})]}),(0,Ch.jsxs)("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[(0,Ch.jsx)("button",{onClick:z,className:"px-6 py-3 text-gray-600 hover:text-gray-800 font-medium transition-colors",children:"Cancel"}),(0,Ch.jsx)("button",{onClick:async()=>{try{for(const e of j)await i(e.id);v([]),w(!1),k(!1),S([])}catch(e){console.error("Error deleting bookings:",e),l("Failed to delete bookings. Please try again.")}},className:"px-6 py-3 bg-primary text-white rounded-lg hover:bg-secondary transition-colors font-medium shadow-md",children:1===j.length?"Delete Booking":"Delete ".concat(j.length," Bookings")})]})]})})}),C&&(0,Ch.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Ch.jsx)("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:(0,Ch.jsxs)("div",{className:"p-6",children:[(0,Ch.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Ch.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Add New Booking"}),(0,Ch.jsx)("button",{onClick:q,className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\xd7"})]}),(0,Ch.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Ch.jsxs)("div",{className:"space-y-4",children:[(0,Ch.jsx)("h4",{className:"text-lg font-medium text-gray-900 border-b pb-2",children:"Guest Information"}),(0,Ch.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name *"}),(0,Ch.jsx)("input",{type:"text",value:_.guest.firstName,onChange:e=>T((t=>Me(Me({},t),{},{guest:Me(Me({},t.guest),{},{firstName:e.target.value})}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter first name"})]}),(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name *"}),(0,Ch.jsx)("input",{type:"text",value:_.guest.lastName,onChange:e=>T((t=>Me(Me({},t),{},{guest:Me(Me({},t.guest),{},{lastName:e.target.value})}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter last name"})]})]}),(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),(0,Ch.jsx)("input",{type:"email",value:_.guest.email,onChange:e=>T((t=>Me(Me({},t),{},{guest:Me(Me({},t.guest),{},{email:e.target.value})}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter email address"})]}),(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),(0,Ch.jsx)("input",{type:"tel",value:_.guest.phone,onChange:e=>A(e.target.value,!0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter phone number (digits only)"})]})]}),(0,Ch.jsxs)("div",{className:"space-y-4",children:[(0,Ch.jsx)("h4",{className:"text-lg font-medium text-gray-900 border-b pb-2",children:"Booking Details"}),(0,Ch.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Check-in Date *"}),(0,Ch.jsx)("input",{type:"date",value:_.checkInDate,onChange:e=>T((t=>Me(Me({},t),{},{checkInDate:e.target.value}))),min:D(),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Check-out Date *"}),(0,Ch.jsx)("input",{type:"date",value:_.checkOutDate,onChange:e=>T((t=>Me(Me({},t),{},{checkOutDate:e.target.value}))),min:_.checkInDate||D(),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,Ch.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Adults *"}),(0,Ch.jsx)("select",{value:_.adults,onChange:e=>T((t=>Me(Me({},t),{},{adults:parseInt(e.target.value)}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[1,2,3,4,5,6].map((e=>(0,Ch.jsx)("option",{value:e,children:e},e)))})]}),(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Children"}),(0,Ch.jsx)("select",{value:_.children,onChange:e=>T((t=>Me(Me({},t),{},{children:parseInt(e.target.value)}))),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[0,1,2,3,4,5].map((e=>(0,Ch.jsx)("option",{value:e,children:e},e)))})]})]}),(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Room *"}),(0,Ch.jsxs)("select",{value:_.roomId,onChange:e=>(e=>{const t=r.find((t=>t.id===e));t&&T((n=>Me(Me({},n),{},{roomId:e,roomName:t.name,roomPrice:t.price})))})(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,Ch.jsx)("option",{value:"",children:"Select a room"}),r.map((e=>(0,Ch.jsxs)("option",{value:e.id,children:[e.name," - $",e.price,"/night"]},e.id)))]})]}),(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Special Requests"}),(0,Ch.jsx)("textarea",{value:_.specialRequests,onChange:e=>T((t=>Me(Me({},t),{},{specialRequests:e.target.value}))),rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Any special requests or notes..."})]})]})]}),_.checkInDate&&_.checkOutDate&&_.roomId&&(0,Ch.jsxs)("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[(0,Ch.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-3",children:"Booking Summary"}),(0,Ch.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("span",{className:"text-gray-600",children:"Room:"}),(0,Ch.jsx)("p",{className:"font-medium",children:_.roomName})]}),(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("span",{className:"text-gray-600",children:"Nights:"}),(0,Ch.jsx)("p",{className:"font-medium",children:_.checkInDate&&_.checkOutDate?Math.ceil((new Date(_.checkOutDate)-new Date(_.checkInDate))/864e5):0})]}),(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("span",{className:"text-gray-600",children:"Price per night:"}),(0,Ch.jsxs)("p",{className:"font-medium",children:["$",_.roomPrice]})]}),(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("span",{className:"text-gray-600",children:"Total cost:"}),(0,Ch.jsxs)("p",{className:"font-medium text-lg text-green-600",children:["$",B()]})]})]})]}),(0,Ch.jsxs)("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200 mt-6",children:[(0,Ch.jsx)("button",{onClick:q,className:"px-6 py-3 text-gray-600 hover:text-gray-800 font-medium transition-colors",children:"Cancel"}),(0,Ch.jsx)("button",{onClick:async()=>{try{if(!_.guest.firstName||!_.guest.lastName||!_.guest.email)return void c("Please fill in all required guest information");if(!_.checkInDate||!_.checkOutDate)return void c("Please select check-in and check-out dates");if(!_.roomId)return void c("Please select a room");const e=await(async()=>{try{const e=Gd(id(Sh,"bookings"),$d("bookingId","desc"),Jd(1)),t=await dh(e);if(t.empty)return"NA-000001";{const e=t.docs[0].data().bookingId||"NA-000000",n=parseInt(e.split("-")[1]);return"NA-".concat((n+1).toString().padStart(6,"0"))}}catch(e){return console.error("Error generating booking ID:",e),"NA-".concat(Date.now().toString().slice(-6))}})(),t=B(),n=Me(Me({},_),{},{bookingId:e,totalCost:t,createdAt:(new Date).toISOString(),status:"confirmed"});await mh(id(Sh,"bookings"),n),a(),E(!1),o("Booking added successfully!")}catch(e){console.error("Error adding booking:",e),l("Error adding booking. Please try again.")}},className:"px-6 py-3 bg-primary text-white rounded-lg hover:bg-secondary transition-colors font-medium shadow-md",children:"\u2705 Add Booking"})]})]})})})]})}function sf(e){var n,r;let{rooms:s,onRefresh:i}=e;const{showSuccess:a,showError:o,showWarning:l}=qh(),[c,u]=(0,t.useState)(null),[d,h]=(0,t.useState)(!1),[f,m]=(0,t.useState)(!1),[p,g]=(0,t.useState)(null),[y,x]=(0,t.useState)({name:"",description:"",price:"",maxOccupancy:{adults:2,children:2},amenities:[],images:[]}),[v,b]=(0,t.useState)(""),[w,N]=(0,t.useState)(""),[k,j]=(0,t.useState)(""),[S,C]=(0,t.useState)(""),E=["WiFi","Air Conditioning","TV","Private Bathroom","Kitchen","Balcony","Parking","Pool","Gym","Breakfast","Room Service","Mini Bar","Safe","Hair Dryer","Iron","Desk","Wardrobe"],_=async()=>{if(c)try{await hh(ad(Sh,"rooms",c.id),{name:c.name,description:c.description,price:parseFloat(c.price),maxOccupancy:c.maxOccupancy,amenities:c.amenities,images:c.images}),u(null),i()}catch(e){console.error("Error updating room:",e)}},T=()=>{u(null)},I=()=>{m(!1),g(null)},D=(e,t)=>{if(!e.amenities.includes(t)&&t.trim()){const n=Me(Me({},e),{},{amenities:[...e.amenities,t.trim()]});u(n)}},A=(e,t)=>{if(t.trim()&&!e.images.includes(t.trim())){const n=Me(Me({},e),{},{images:[...e.images,t.trim()]});u(n)}};return(0,Ch.jsxs)("div",{className:"space-y-6",children:[(0,Ch.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ch.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Room Management"}),(0,Ch.jsx)("button",{onClick:()=>h(!0),className:"px-6 py-3 bg-primary text-white rounded-lg hover:bg-secondary transition-colors shadow-md font-medium",children:"\u2795 Add New Room"})]}),d&&(0,Ch.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,Ch.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Add New Room"}),(0,Ch.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Room Name *"}),(0,Ch.jsx)("input",{type:"text",value:y.name,onChange:e=>x(Me(Me({},y),{},{name:e.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"e.g., Deluxe Suite"})]}),(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price per Night *"}),(0,Ch.jsx)("input",{type:"number",value:y.price,onChange:e=>x(Me(Me({},y),{},{price:e.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"0.00",min:"0",step:"0.01"})]}),(0,Ch.jsxs)("div",{className:"md:col-span-2",children:[(0,Ch.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),(0,Ch.jsx)("textarea",{value:y.description,onChange:e=>x(Me(Me({},y),{},{description:e.target.value})),rows:3,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Describe the room..."})]}),(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Adults"}),(0,Ch.jsxs)("select",{value:y.maxOccupancy.adults,onChange:e=>x(Me(Me({},y),{},{maxOccupancy:Me(Me({},y.maxOccupancy),{},{adults:parseInt(e.target.value)})})),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[(0,Ch.jsx)("option",{value:1,children:"1 Adult"}),(0,Ch.jsx)("option",{value:2,children:"2 Adults"}),(0,Ch.jsx)("option",{value:3,children:"3 Adults"}),(0,Ch.jsx)("option",{value:4,children:"4 Adults"})]})]}),(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Children"}),(0,Ch.jsxs)("select",{value:y.maxOccupancy.children,onChange:e=>x(Me(Me({},y),{},{maxOccupancy:Me(Me({},y.maxOccupancy),{},{children:parseInt(e.target.value)})})),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[(0,Ch.jsx)("option",{value:0,children:"0 Children"}),(0,Ch.jsx)("option",{value:1,children:"1 Child"}),(0,Ch.jsx)("option",{value:2,children:"2 Children"}),(0,Ch.jsx)("option",{value:3,children:"3 Children"}),(0,Ch.jsx)("option",{value:4,children:"4 Children"})]})]}),(0,Ch.jsxs)("div",{className:"md:col-span-2",children:[(0,Ch.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amenities"}),(0,Ch.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,Ch.jsx)("input",{type:"text",value:v,onChange:e=>b(e.target.value),className:"flex-1 p-2 border border-gray-300 rounded text-sm",placeholder:"Type amenity name here..."}),(0,Ch.jsx)("button",{onClick:()=>{v.trim()&&!y.amenities.includes(v.trim())&&(x(Me(Me({},y),{},{amenities:[...y.amenities,v.trim()]})),b(""))},className:"px-4 py-2 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 font-medium",children:"\u2795 Add"})]}),(0,Ch.jsxs)("div",{className:"mb-3",children:[(0,Ch.jsx)("p",{className:"text-xs text-gray-600 mb-2",children:"Quick add common amenities:"}),(0,Ch.jsx)("div",{className:"flex flex-wrap gap-1",children:E.map((e=>(0,Ch.jsx)("button",{onClick:()=>{y.amenities.includes(e)||x(Me(Me({},y),{},{amenities:[...y.amenities,e]}))},disabled:y.amenities.includes(e),className:"px-2 py-1 text-xs rounded ".concat(y.amenities.includes(e)?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:e},e)))})]}),y.amenities.length>0&&(0,Ch.jsx)("div",{className:"flex flex-wrap gap-1",children:y.amenities.map(((e,t)=>(0,Ch.jsxs)("span",{className:"px-2 py-1 bg-primary text-white text-xs rounded flex items-center gap-1",children:[e,(0,Ch.jsx)("button",{onClick:()=>(e=>{x(Me(Me({},y),{},{amenities:y.amenities.filter((t=>t!==e))}))})(e),className:"text-white hover:text-red-200",children:"\xd7"})]},t)))})]}),(0,Ch.jsxs)("div",{className:"md:col-span-2",children:[(0,Ch.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Room Images"}),(0,Ch.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,Ch.jsx)("input",{type:"url",value:w,onChange:e=>N(e.target.value),className:"flex-1 p-2 border border-gray-300 rounded text-sm",placeholder:"Paste image URL here..."}),(0,Ch.jsx)("button",{onClick:()=>{w.trim()&&!y.images.includes(w.trim())&&(x(Me(Me({},y),{},{images:[...y.images,w.trim()]})),N(""))},className:"px-4 py-2 bg-green-600 text-white rounded text-sm hover:bg-green-700 font-medium",children:"\ud83d\uddbc\ufe0f Add"})]}),y.images.length>0&&(0,Ch.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:y.images.map(((e,t)=>(0,Ch.jsxs)("div",{className:"relative",children:[(0,Ch.jsx)("img",{src:e,alt:"Room ".concat(t+1),className:"w-full h-24 object-cover rounded",onError:e=>{e.target.src="https://via.placeholder.com/150x100?text=Image+Error"}}),(0,Ch.jsx)("button",{onClick:()=>(e=>{x(Me(Me({},y),{},{images:y.images.filter((t=>t!==e))}))})(e),className:"absolute top-0 right-0 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs hover:bg-red-600",children:"\xd7"})]},t)))})]})]}),(0,Ch.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,Ch.jsx)("button",{onClick:()=>h(!1),className:"px-6 py-3 text-gray-600 hover:text-gray-800 font-medium transition-colors",children:"Cancel"}),(0,Ch.jsx)("button",{onClick:async()=>{if(y.name&&y.description&&y.price)try{await mh(id(Sh,"rooms"),Me(Me({},y),{},{price:parseFloat(y.price)})),x({name:"",description:"",price:"",maxOccupancy:{adults:2,children:2},amenities:[],images:[]}),h(!1),i()}catch(e){console.error("Error adding room:",e)}else l("Please fill in all required fields")},className:"px-6 py-3 bg-primary text-white rounded-lg hover:bg-secondary transition-colors font-medium shadow-md",children:"\u2705 Add Room"})]})]}),(0,Ch.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map((e=>{var t,n,r,s;return(0,Ch.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[e.images&&e.images.length>0&&(0,Ch.jsx)("img",{className:"w-full h-48 object-cover",src:e.images[0],alt:e.name}),(0,Ch.jsx)("div",{className:"p-6",children:(null===c||void 0===c?void 0:c.id)===e.id?(0,Ch.jsxs)("div",{className:"space-y-4",children:[(0,Ch.jsx)("input",{type:"text",value:c.name,onChange:e=>u(Me(Me({},c),{},{name:e.target.value})),className:"w-full p-2 border border-gray-300 rounded text-sm font-semibold",placeholder:"Room name"}),(0,Ch.jsx)("input",{type:"number",value:c.price,onChange:e=>u(Me(Me({},c),{},{price:e.target.value})),className:"w-full p-2 border border-gray-300 rounded text-sm",placeholder:"Price per night",min:"0",step:"0.01"}),(0,Ch.jsx)("textarea",{value:c.description,onChange:e=>u(Me(Me({},c),{},{description:e.target.value})),rows:3,className:"w-full p-2 border border-gray-300 rounded text-sm",placeholder:"Room description"}),(0,Ch.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Ch.jsxs)("select",{value:(null===(t=c.maxOccupancy)||void 0===t?void 0:t.adults)||2,onChange:e=>u(Me(Me({},c),{},{maxOccupancy:Me(Me({},c.maxOccupancy),{},{adults:parseInt(e.target.value)})})),className:"w-full p-2 border border-gray-300 rounded text-sm",children:[(0,Ch.jsx)("option",{value:1,children:"1 Adult"}),(0,Ch.jsx)("option",{value:2,children:"2 Adults"}),(0,Ch.jsx)("option",{value:3,children:"3 Adults"}),(0,Ch.jsx)("option",{value:4,children:"4 Adults"})]}),(0,Ch.jsxs)("select",{value:(null===(n=c.maxOccupancy)||void 0===n?void 0:n.children)||2,onChange:e=>u(Me(Me({},c),{},{maxOccupancy:Me(Me({},c.maxOccupancy),{},{children:parseInt(e.target.value)})})),className:"w-full p-2 border border-gray-300 rounded text-sm",children:[(0,Ch.jsx)("option",{value:0,children:"0 Children"}),(0,Ch.jsx)("option",{value:1,children:"1 Child"}),(0,Ch.jsx)("option",{value:2,children:"2 Children"}),(0,Ch.jsx)("option",{value:3,children:"3 Children"}),(0,Ch.jsx)("option",{value:4,children:"4 Children"})]})]}),(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("label",{className:"block text-xs text-gray-600 mb-1",children:"Amenities"}),(0,Ch.jsxs)("div",{className:"flex gap-1 mb-2",children:[(0,Ch.jsx)("input",{type:"text",value:k,onChange:e=>j(e.target.value),placeholder:"Type amenity name here...",className:"flex-1 p-2 border border-gray-300 rounded text-sm",onKeyPress:e=>{"Enter"===e.key&&k.trim()&&(D(c,k),j(""))}}),(0,Ch.jsx)("button",{onClick:()=>{k.trim()&&(D(c,k),j(""))},className:"px-4 py-2 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 font-medium",children:"\u2795 Add"})]}),(0,Ch.jsxs)("div",{className:"mb-2",children:[(0,Ch.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Quick add:"}),(0,Ch.jsx)("div",{className:"flex flex-wrap gap-1",children:E.slice(0,8).map((e=>{var t,n;return(0,Ch.jsx)("button",{onClick:()=>D(c,e),disabled:null===(t=c.amenities)||void 0===t?void 0:t.includes(e),className:"px-1 py-0.5 text-xs rounded ".concat(null!==(n=c.amenities)&&void 0!==n&&n.includes(e)?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:e},e)}))})]}),c.amenities&&c.amenities.length>0&&(0,Ch.jsx)("div",{className:"flex flex-wrap gap-1",children:c.amenities.map(((e,t)=>(0,Ch.jsxs)("span",{className:"px-2 py-1 bg-primary text-white text-xs rounded flex items-center gap-1",children:[e,(0,Ch.jsx)("button",{onClick:()=>((e,t)=>{const n=Me(Me({},e),{},{amenities:e.amenities.filter((e=>e!==t))});u(n)})(c,e),className:"text-white hover:text-red-200",children:"\xd7"})]},t)))})]}),(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("label",{className:"block text-xs text-gray-600 mb-1",children:"Images"}),(0,Ch.jsxs)("div",{className:"flex gap-1 mb-2",children:[(0,Ch.jsx)("input",{type:"url",value:S,onChange:e=>C(e.target.value),placeholder:"Paste image URL here...",className:"flex-1 p-2 border border-gray-300 rounded text-sm",onKeyPress:e=>{"Enter"===e.key&&S.trim()&&(A(c,S),C(""))}}),(0,Ch.jsx)("button",{onClick:()=>{S.trim()&&(A(c,S),C(""))},className:"px-4 py-2 bg-green-600 text-white rounded text-sm hover:bg-green-700 font-medium",children:"\ud83d\uddbc\ufe0f Add"})]}),c.images&&c.images.length>0&&(0,Ch.jsx)("div",{className:"grid grid-cols-2 gap-1",children:c.images.map(((e,t)=>(0,Ch.jsxs)("div",{className:"relative",children:[(0,Ch.jsx)("img",{src:e,alt:"Room ".concat(t+1),className:"w-full h-16 object-cover rounded",onError:e=>{e.target.src="https://via.placeholder.com/100x64?text=Error"}}),(0,Ch.jsx)("button",{onClick:()=>((e,t)=>{const n=Me(Me({},e),{},{images:e.images.filter((e=>e!==t))});u(n)})(c,e),className:"absolute top-0 right-0 bg-red-500 text-white rounded-full w-4 h-4 flex items-center justify-center text-xs hover:bg-red-600",children:"\xd7"})]},t)))})]}),(0,Ch.jsxs)("div",{className:"flex space-x-2",children:[(0,Ch.jsx)("button",{onClick:_,className:"flex-1 px-3 py-2 bg-primary text-white rounded text-sm hover:bg-secondary transition-colors",children:"Save Changes"}),(0,Ch.jsx)("button",{onClick:T,className:"flex-1 px-3 py-2 bg-gray-600 text-white rounded text-sm hover:bg-gray-700 transition-colors",children:"Cancel"})]})]}):(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:e.name}),(0,Ch.jsxs)("p",{className:"text-lg font-bold text-primary mb-2",children:["$",e.price,"/night"]}),(0,Ch.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:e.description}),(0,Ch.jsxs)("div",{className:"mb-4",children:[(0,Ch.jsx)("p",{className:"text-sm text-gray-500 mb-2",children:"Max Occupancy:"}),(0,Ch.jsxs)("p",{className:"text-sm",children:[(null===(r=e.maxOccupancy)||void 0===r?void 0:r.adults)||2," Adults, ",(null===(s=e.maxOccupancy)||void 0===s?void 0:s.children)||2," Children"]})]}),e.amenities&&e.amenities.length>0&&(0,Ch.jsxs)("div",{className:"mb-4",children:[(0,Ch.jsx)("p",{className:"text-sm text-gray-500 mb-2",children:"Amenities:"}),(0,Ch.jsx)("div",{className:"flex flex-wrap gap-1",children:e.amenities.map(((e,t)=>(0,Ch.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-xs rounded",children:e},t)))})]}),e.images&&e.images.length>0&&(0,Ch.jsxs)("div",{className:"mb-4",children:[(0,Ch.jsxs)("p",{className:"text-sm text-gray-500 mb-2",children:["Images (",e.images.length,"):"]}),(0,Ch.jsxs)("div",{className:"grid grid-cols-3 gap-1",children:[e.images.slice(0,3).map(((e,t)=>(0,Ch.jsx)("img",{src:e,alt:"Room ".concat(t+1),className:"w-full h-16 object-cover rounded",onError:e=>{e.target.src="https://via.placeholder.com/100x64?text=No+Image"}},t))),e.images.length>3&&(0,Ch.jsxs)("div",{className:"w-full h-16 bg-gray-200 rounded flex items-center justify-center text-xs text-gray-500",children:["+",e.images.length-3," more"]})]})]}),(0,Ch.jsxs)("div",{className:"flex space-x-3 mt-4",children:[(0,Ch.jsx)("button",{onClick:()=>(e=>{u(Me({},e))})(e),className:"flex-1 px-4 py-3 bg-primary text-white rounded-lg text-sm font-medium hover:bg-secondary transition-colors shadow-md",children:"\u270f\ufe0f Edit Room"}),(0,Ch.jsx)("button",{onClick:()=>(e=>{g(e),m(!0)})(e),className:"flex-1 px-4 py-3 bg-red-600 text-black rounded-lg text-sm font-medium hover:bg-red-700 transition-colors shadow-md",children:"\ud83d\uddd1\ufe0f Delete Room"})]})]})})]},e.id)}))}),0===s.length&&(0,Ch.jsx)("div",{className:"text-center py-8",children:(0,Ch.jsx)("p",{className:"text-gray-500",children:"No rooms found. Add your first room to get started."})}),f&&p&&(0,Ch.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Ch.jsx)("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:(0,Ch.jsxs)("div",{className:"p-6",children:[(0,Ch.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Ch.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Delete Room"}),(0,Ch.jsx)("button",{onClick:I,className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\xd7"})]}),(0,Ch.jsxs)("div",{className:"mb-6",children:[(0,Ch.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Ch.jsx)("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mr-4",children:(0,Ch.jsx)("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ch.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("p",{className:"text-lg font-medium text-gray-900",children:"Are you sure you want to delete this room?"}),(0,Ch.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"This action cannot be undone. All room data will be permanently removed."})]})]}),(0,Ch.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,Ch.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Room to be deleted:"}),(0,Ch.jsxs)("div",{className:"space-y-2",children:[(0,Ch.jsx)("p",{className:"font-medium text-gray-900",children:p.name}),(0,Ch.jsx)("p",{className:"text-sm text-gray-600",children:p.description}),(0,Ch.jsxs)("p",{className:"text-sm text-gray-600",children:["Price: $",p.price,"/night"]}),(0,Ch.jsxs)("p",{className:"text-sm text-gray-600",children:["Max Occupancy: ",(null===(n=p.maxOccupancy)||void 0===n?void 0:n.adults)||2," Adults, ",(null===(r=p.maxOccupancy)||void 0===r?void 0:r.children)||2," Children"]})]})]})]}),(0,Ch.jsxs)("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[(0,Ch.jsx)("button",{onClick:I,className:"px-6 py-3 text-gray-600 hover:text-gray-800 font-medium transition-colors",children:"Cancel"}),(0,Ch.jsx)("button",{onClick:async()=>{try{await fh(ad(Sh,"rooms",p.id)),i(),m(!1),g(null),a("Room deleted successfully!")}catch(e){console.error("Error deleting room:",e),o("Failed to delete room. Please try again.")}},className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium shadow-md",children:"Delete Room"})]})]})})})]})}function af(e){let{stats:t,bookings:n,rooms:r}=e;const s=n.slice(0,5),i=n.filter((e=>new Date(e.checkInDate)>new Date)).slice(0,5),a=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),o=e=>{const t=new Date,n=new Date(e);return n<t?"bg-green-100 text-green-800":n>t?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"},l=e=>{const t=new Date,n=new Date(e);return n<t?"Completed":n>t?"Active":"Checking Out"};return(0,Ch.jsxs)("div",{className:"space-y-6",children:[(0,Ch.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-6",children:[(0,Ch.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md border-l-4 border-blue-500",children:(0,Ch.jsxs)("div",{className:"flex items-center",children:[(0,Ch.jsx)("div",{className:"p-2 bg-blue-100 rounded-full",children:(0,Ch.jsx)("span",{className:"text-2xl",children:"\ud83d\udcc5"})}),(0,Ch.jsxs)("div",{className:"ml-4",children:[(0,Ch.jsx)("p",{className:"text-sm text-gray-600",children:"Total Bookings"}),(0,Ch.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:t.totalBookings})]})]})}),(0,Ch.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md border-l-4 border-yellow-500",children:(0,Ch.jsxs)("div",{className:"flex items-center",children:[(0,Ch.jsx)("div",{className:"p-2 bg-yellow-100 rounded-full",children:(0,Ch.jsx)("span",{className:"text-2xl",children:"\u23f3"})}),(0,Ch.jsxs)("div",{className:"ml-4",children:[(0,Ch.jsx)("p",{className:"text-sm text-gray-600",children:"Active Bookings"}),(0,Ch.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:t.pendingBookings})]})]})}),(0,Ch.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md border-l-4 border-green-500",children:(0,Ch.jsxs)("div",{className:"flex items-center",children:[(0,Ch.jsx)("div",{className:"p-2 bg-green-100 rounded-full",children:(0,Ch.jsx)("span",{className:"text-2xl",children:"\u2705"})}),(0,Ch.jsxs)("div",{className:"ml-4",children:[(0,Ch.jsx)("p",{className:"text-sm text-gray-600",children:"Completed"}),(0,Ch.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:t.completedBookings})]})]})}),(0,Ch.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md border-l-4 border-purple-500",children:(0,Ch.jsxs)("div",{className:"flex items-center",children:[(0,Ch.jsx)("div",{className:"p-2 bg-purple-100 rounded-full",children:(0,Ch.jsx)("span",{className:"text-2xl",children:"\ud83d\udcb0"})}),(0,Ch.jsxs)("div",{className:"ml-4",children:[(0,Ch.jsx)("p",{className:"text-sm text-gray-600",children:"Total Revenue"}),(0,Ch.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:["$",t.totalRevenue]})]})]})}),(0,Ch.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md border-l-4 border-indigo-500",children:(0,Ch.jsxs)("div",{className:"flex items-center",children:[(0,Ch.jsx)("div",{className:"p-2 bg-indigo-100 rounded-full",children:(0,Ch.jsx)("span",{className:"text-2xl",children:"\ud83c\udfe0"})}),(0,Ch.jsxs)("div",{className:"ml-4",children:[(0,Ch.jsx)("p",{className:"text-sm text-gray-600",children:"Total Rooms"}),(0,Ch.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:t.totalRooms})]})]})}),(0,Ch.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md border-l-4 border-red-500",children:(0,Ch.jsxs)("div",{className:"flex items-center",children:[(0,Ch.jsx)("div",{className:"p-2 bg-red-100 rounded-full",children:(0,Ch.jsx)("span",{className:"text-2xl",children:"\ud83d\udcac"})}),(0,Ch.jsxs)("div",{className:"ml-4",children:[(0,Ch.jsx)("p",{className:"text-sm text-gray-600",children:"Messages"}),(0,Ch.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:t.totalMessages}),t.unreadMessages>0&&(0,Ch.jsxs)("p",{className:"text-xs text-red-600 font-medium",children:[t.unreadMessages," unread"]})]})]})})]}),(0,Ch.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Ch.jsxs)("div",{className:"bg-white rounded-lg shadow-md",children:[(0,Ch.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,Ch.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Bookings"})}),(0,Ch.jsx)("div",{className:"p-6",children:0===s.length?(0,Ch.jsx)("p",{className:"text-gray-500 text-center py-4",children:"No recent bookings"}):(0,Ch.jsx)("div",{className:"space-y-4",children:s.map((e=>(0,Ch.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,Ch.jsxs)("div",{children:[(0,Ch.jsxs)("p",{className:"font-medium text-gray-900",children:[e.guest.firstName," ",e.guest.lastName]}),(0,Ch.jsx)("p",{className:"text-sm text-gray-600",children:e.roomName}),(0,Ch.jsx)("p",{className:"text-xs text-primary font-medium",children:e.bookingId||"N/A"}),(0,Ch.jsxs)("p",{className:"text-xs text-gray-500",children:[a(e.checkInDate)," - ",a(e.checkOutDate)]})]}),(0,Ch.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(o(e.checkOutDate)),children:l(e.checkOutDate)})]},e.id)))})})]}),(0,Ch.jsxs)("div",{className:"bg-white rounded-lg shadow-md",children:[(0,Ch.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,Ch.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Upcoming Bookings"})}),(0,Ch.jsx)("div",{className:"p-6",children:0===i.length?(0,Ch.jsx)("p",{className:"text-gray-500 text-center py-4",children:"No upcoming bookings"}):(0,Ch.jsx)("div",{className:"space-y-4",children:i.map((e=>(0,Ch.jsxs)("div",{className:"flex items-center justify-between p-4 bg-blue-50 rounded-lg",children:[(0,Ch.jsxs)("div",{children:[(0,Ch.jsxs)("p",{className:"font-medium text-gray-900",children:[e.guest.firstName," ",e.guest.lastName]}),(0,Ch.jsx)("p",{className:"text-sm text-gray-600",children:e.roomName}),(0,Ch.jsx)("p",{className:"text-xs text-primary font-medium",children:e.bookingId||"N/A"}),(0,Ch.jsxs)("p",{className:"text-xs text-gray-500",children:["Check-in: ",a(e.checkInDate)]})]}),(0,Ch.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Upcoming"})]},e.id)))})})]})]})]})}function of(e){let{isVisible:n,onClose:r,type:s="success",title:i,message:a,duration:o=5e3}=e;if((0,t.useEffect)((()=>{if(n&&o>0){const e=setTimeout((()=>{r()}),o);return()=>clearTimeout(e)}}),[n,o,r]),!n)return null;const{icon:l,bgColor:c,iconBg:u,iconColor:d}=(()=>{switch(s){case"success":return{icon:(0,Ch.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ch.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),bgColor:"bg-primary/30",iconBg:"bg-white/20",iconColor:"text-white"};case"error":return{icon:(0,Ch.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ch.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),bgColor:"bg-primary/30",iconBg:"bg-white/20",iconColor:"text-white"};case"warning":return{icon:(0,Ch.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ch.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),bgColor:"bg-primary/30",iconBg:"bg-white/20",iconColor:"text-white"};case"info":return{icon:(0,Ch.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ch.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),bgColor:"bg-primary/30",iconBg:"bg-white/20",iconColor:"text-white"};default:return{icon:null,bgColor:"bg-primary/30",iconBg:"bg-white/20",iconColor:"text-white"}}})();return(0,Ch.jsx)("div",{className:"fixed bottom-4 right-4 z-50 max-w-sm w-full",children:(0,Ch.jsx)("div",{className:"".concat(c," text-white rounded-lg shadow-lg p-4 transform transition-all duration-300 ease-in-out ").concat(n?"translate-x-0 opacity-100":"translate-x-full opacity-0"),children:(0,Ch.jsxs)("div",{className:"flex items-start",children:[(0,Ch.jsx)("div",{className:"flex-shrink-0 w-8 h-8 rounded-full ".concat(u," flex items-center justify-center ").concat(d),children:l}),(0,Ch.jsxs)("div",{className:"ml-3 flex-1",children:[i&&(0,Ch.jsx)("h4",{className:"text-sm font-medium text-white mb-1",children:i}),(0,Ch.jsx)("p",{className:"text-sm text-white opacity-90",children:a})]}),(0,Ch.jsx)("button",{onClick:r,className:"ml-3 flex-shrink-0 text-white hover:text-gray-200 transition duration-200",children:(0,Ch.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ch.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})})}function lf(e){let{isOpen:n,onClose:r,message:s,onSendReply:i}=e;const[a,o]=(0,t.useState)({subject:"",message:"",isSubmitting:!1}),[l,c]=(0,t.useState)({isVisible:!1,type:"success",title:"",message:""}),u=e=>{const{name:t,value:n}=e.target;o((e=>Me(Me({},e),{},{[t]:n})))},d=()=>{o({subject:"",message:"",isSubmitting:!1}),r()};return n&&s?(0,Ch.jsxs)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:[(0,Ch.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,Ch.jsxs)("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Reply to Message"}),(0,Ch.jsxs)("p",{className:"text-sm text-gray-600",children:["From: ",s.name," (",s.email,")"]})]}),(0,Ch.jsx)("button",{onClick:d,className:"text-gray-400 hover:text-gray-600 transition duration-200",children:(0,Ch.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ch.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Ch.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,Ch.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Original Message"}),(0,Ch.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Ch.jsxs)("div",{className:"mb-2",children:[(0,Ch.jsx)("span",{className:"font-medium text-gray-700",children:"Subject:"}),(0,Ch.jsx)("span",{className:"ml-2 text-gray-900",children:s.subject})]}),(0,Ch.jsxs)("div",{className:"mb-2",children:[(0,Ch.jsx)("span",{className:"font-medium text-gray-700",children:"Date:"}),(0,Ch.jsx)("span",{className:"ml-2 text-gray-900",children:new Date(s.createdAt).toLocaleString()})]}),(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("span",{className:"font-medium text-gray-700",children:"Message:"}),(0,Ch.jsx)("p",{className:"mt-1 text-gray-900 whitespace-pre-wrap",children:s.message})]})]})]}),(0,Ch.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),a.subject.trim()&&a.message.trim()){o((e=>Me(Me({},e),{},{isSubmitting:!0})));try{const e={originalMessageId:s.id,to:s.email,fromName:s.name,originalSubject:s.subject,originalMessage:s.message,replySubject:a.subject,replyMessage:a.message,createdAt:(new Date).toISOString(),status:"pending"};console.log("Storing reply data:",e);const n=await mh(id(Sh,"replyMessages"),e);console.log("Reply stored with ID:",n.id);try{await hh(ad(Sh,"contactMessages",s.id),{status:"replied",repliedAt:(new Date).toISOString()}),console.log("Message status updated to 'replied'")}catch(t){console.error("Error updating message status:",t)}await new Promise((e=>setTimeout(e,1e3))),console.log("Reply document should have been created, checking if function triggers..."),o({subject:"",message:"",isSubmitting:!1}),r(),c({isVisible:!0,type:"success",title:"Reply Sent Successfully",message:"Message status updated to 'replied' and email will be sent automatically."})}catch(n){console.error("Error storing reply:",n),c({isVisible:!0,type:"error",title:"Reply Failed",message:"Failed to submit reply. Please try again."}),o((e=>Me(Me({},e),{},{isSubmitting:!1})))}}else c({isVisible:!0,type:"warning",title:"Missing Information",message:"Please fill in both subject and message"})},className:"p-6",children:[(0,Ch.jsxs)("div",{className:"space-y-4",children:[(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-2",children:"Reply Subject"}),(0,Ch.jsx)("input",{type:"text",id:"subject",name:"subject",value:a.subject,onChange:u,placeholder:"Re: ".concat(s.subject),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",required:!0})]}),(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Reply Message"}),(0,Ch.jsx)("textarea",{id:"message",name:"message",value:a.message,onChange:u,rows:8,placeholder:"Type your reply message here...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent resize-none",required:!0})]})]}),(0,Ch.jsxs)("div",{className:"flex justify-end space-x-3 mt-6 pt-4 border-t border-gray-200",children:[(0,Ch.jsx)("button",{type:"button",onClick:d,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition duration-300",disabled:a.isSubmitting,children:"Cancel"}),(0,Ch.jsx)("button",{type:"submit",className:"px-6 py-2 rounded-md text-white font-medium transition duration-300 ".concat(a.isSubmitting?"bg-gray-400 cursor-not-allowed":"bg-primary hover:bg-secondary"),disabled:a.isSubmitting,children:a.isSubmitting?(0,Ch.jsxs)("span",{className:"flex items-center",children:[(0,Ch.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[(0,Ch.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Ch.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Submitting..."]}):"Submit Reply"})]})]})]}),(0,Ch.jsx)(of,{isVisible:l.isVisible,onClose:()=>c((e=>Me(Me({},e),{},{isVisible:!1}))),type:l.type,title:l.title,message:l.message})]}):null}function cf(e){let{isOpen:t,onClose:n,onConfirm:r,title:s,message:i,confirmText:a="Delete",cancelText:o="Cancel",isDestructive:l=!0}=e;return t?(0,Ch.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Ch.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[(0,Ch.jsxs)("div",{className:"flex items-center p-6 border-b border-gray-200",children:[(0,Ch.jsx)("div",{className:"flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center ".concat(l?"bg-red-100":"bg-blue-100"),children:l?(0,Ch.jsx)("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ch.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}):(0,Ch.jsx)("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ch.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Ch.jsxs)("div",{className:"ml-4",children:[(0,Ch.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:s}),(0,Ch.jsx)("p",{className:"text-sm text-gray-500",children:i})]})]}),(0,Ch.jsxs)("div",{className:"flex justify-end space-x-3 p-6",children:[(0,Ch.jsx)("button",{onClick:n,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition duration-300",children:o}),(0,Ch.jsx)("button",{onClick:r,className:"px-4 py-2 rounded-md text-white font-medium transition duration-300 ".concat("bg-primary hover:bg-secondary"),children:a})]})]})}):null}function uf(e){let{onRefresh:n}=e;const[r,s]=(0,t.useState)([]),[i,a]=(0,t.useState)(!0),[o,l]=(0,t.useState)(null),[c,u]=(0,t.useState)("all"),[d,h]=(0,t.useState)(""),[f,m]=(0,t.useState)(!1),[p,g]=(0,t.useState)(null),[y,x]=(0,t.useState)(!1),[v,b]=(0,t.useState)(null),[w,N]=(0,t.useState)({isVisible:!1,type:"success",title:"",message:""});(0,t.useEffect)((()=>{k()}),[]);const k=async()=>{a(!0);try{const e=Gd(id(Sh,"contactMessages"),$d("createdAt","desc")),t=(await dh(e)).docs.map((e=>Me({id:e.id},e.data())));s(t)}catch(e){console.error("Error fetching messages:",e)}finally{a(!1)}},j=async(e,t)=>{try{await hh(ad(Sh,"contactMessages",e),{status:t,updatedAt:(new Date).toISOString()}),await k()}catch(n){console.error("Error updating message status:",n)}},S=e=>{switch(e){case"new":return"bg-status-new/10 text-status-new";case"read":return"bg-status-read/10 text-status-read";case"replied":return"bg-status-replied/10 text-status-replied";default:return"bg-gray-100 text-gray-800"}},C=r.filter((e=>{const t="all"===c||e.status===c,n=!d||e.email.toLowerCase().includes(d.toLowerCase())||e.name.toLowerCase().includes(d.toLowerCase());return t&&n})),E=r.filter((e=>"new"===e.status)).length,_=(e,t,n)=>{N({isVisible:!0,type:e,title:t,message:n})};return i?(0,Ch.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Ch.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):(0,Ch.jsxs)("div",{className:"space-y-6",children:[(0,Ch.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Contact Messages"}),(0,Ch.jsx)("p",{className:"text-gray-600",children:"Manage customer inquiries and feedback"})]}),(0,Ch.jsxs)("div",{className:"flex items-center space-x-4",children:[E>0&&(0,Ch.jsxs)("span",{className:"bg-red-500 text-white px-3 py-1 rounded-full text-sm font-medium",children:[E," New"]}),(0,Ch.jsx)("button",{onClick:k,className:"bg-primary text-white px-4 py-2 rounded-md hover:bg-secondary transition duration-300",children:"Refresh"})]})]}),(0,Ch.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:[(0,Ch.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ch.jsxs)("div",{className:"flex-1",children:[(0,Ch.jsx)("label",{htmlFor:"email-search",className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Messages"}),(0,Ch.jsxs)("div",{className:"relative",children:[(0,Ch.jsx)("input",{type:"text",id:"email-search",placeholder:"Search by email or name...",value:d,onChange:e=>h(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"}),(0,Ch.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Ch.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ch.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})]}),d&&(0,Ch.jsx)("button",{onClick:()=>h(""),className:"mt-6 px-3 py-2 text-sm text-gray-500 hover:text-gray-700 transition duration-200",children:"Clear"})]}),d&&(0,Ch.jsxs)("div",{className:"mt-2 text-sm text-gray-600",children:["Showing ",C.length," message",1!==C.length?"s":"",' matching "',d,'"']})]}),(0,Ch.jsx)("div",{className:"flex flex-wrap gap-1 bg-gray-100 p-1 rounded-lg",children:[{key:"all",label:"All Messages",count:r.length},{key:"new",label:"New",count:r.filter((e=>"new"===e.status)).length},{key:"read",label:"Read",count:r.filter((e=>"read"===e.status)).length},{key:"replied",label:"Replied",count:r.filter((e=>"replied"===e.status)).length}].map((e=>(0,Ch.jsxs)("button",{onClick:()=>u(e.key),className:"px-3 py-2 rounded-md text-sm font-medium transition duration-300 flex-shrink-0 ".concat(c===e.key?"bg-white text-primary shadow-sm":"text-gray-600 hover:text-gray-900"),children:[(0,Ch.jsx)("span",{className:"hidden sm:inline",children:e.label}),(0,Ch.jsx)("span",{className:"sm:hidden",children:e.key}),(0,Ch.jsxs)("span",{className:"ml-1",children:["(",e.count,")"]})]},e.key)))}),(0,Ch.jsx)("div",{className:"bg-white rounded-lg shadow",children:0===C.length?(0,Ch.jsxs)("div",{className:"p-8 text-center text-gray-500",children:[(0,Ch.jsx)("p",{className:"text-lg",children:"No messages found"}),(0,Ch.jsx)("p",{className:"text-sm",children:"Customer messages will appear here"})]}):(0,Ch.jsx)("div",{className:"divide-y divide-gray-200",children:C.map((e=>{return(0,Ch.jsx)("div",{className:"p-4 lg:p-6 hover:bg-gray-50 transition duration-200",children:(0,Ch.jsx)("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between",children:(0,Ch.jsxs)("div",{className:"flex-1",children:[(0,Ch.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:space-x-3 mb-2",children:[(0,Ch.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),(0,Ch.jsxs)("div",{className:"flex items-center space-x-2 mt-1 sm:mt-0",children:[(0,Ch.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(S(e.status)),children:e.status}),"new"===e.status&&(0,Ch.jsx)("span",{className:"w-2 h-2 bg-red-500 rounded-full"})]})]}),(0,Ch.jsxs)("div",{className:"space-y-1 mb-3",children:[(0,Ch.jsxs)("p",{className:"text-sm text-gray-600 break-all",children:[(0,Ch.jsx)("span",{className:"font-medium",children:"Email:"})," ",e.email]}),(0,Ch.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,Ch.jsx)("span",{className:"font-medium",children:"Subject:"})," ",e.subject]}),(0,Ch.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,Ch.jsx)("span",{className:"font-medium",children:"Date:"})," ",(t=e.createdAt,new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}))]})]}),(0,Ch.jsx)("div",{className:"bg-gray-50 p-3 rounded-md mb-3",children:(0,Ch.jsx)("p",{className:"text-gray-800",children:e.message})}),(0,Ch.jsxs)("div",{className:"flex flex-wrap gap-2",children:["new"===e.status&&(0,Ch.jsxs)("button",{onClick:()=>j(e.id,"read"),className:"bg-warning text-white px-3 py-2 rounded-md text-sm font-medium hover:bg-warning/80 transition duration-300 shadow-sm",children:[(0,Ch.jsx)("span",{className:"hidden sm:inline",children:"Mark as Read"}),(0,Ch.jsx)("span",{className:"sm:hidden",children:"Read"})]}),"read"===e.status&&(0,Ch.jsxs)("button",{onClick:()=>j(e.id,"replied"),className:"bg-success text-white px-3 py-2 rounded-md text-sm font-medium hover:bg-success/80 transition duration-300 shadow-sm",children:[(0,Ch.jsx)("span",{className:"hidden sm:inline",children:"Mark as Replied"}),(0,Ch.jsx)("span",{className:"sm:hidden",children:"Replied"})]}),(0,Ch.jsx)("button",{onClick:()=>(e=>{g(e),m(!0)})(e),className:"bg-info text-white px-3 py-2 rounded-md text-sm font-medium hover:bg-info/80 transition duration-300 shadow-sm",children:"Reply"}),(0,Ch.jsx)("button",{onClick:()=>(e=>{b(e),x(!0)})(e),className:"bg-danger text-white px-3 py-2 rounded-md text-sm font-medium hover:bg-danger/80 transition duration-300 shadow-sm",children:"Delete"})]})]})})},e.id);var t}))})}),(0,Ch.jsx)(lf,{isOpen:f,onClose:()=>{m(!1),g(null)},message:p,onSendReply:async e=>(await k(),{success:!0})}),(0,Ch.jsx)(cf,{isOpen:y,onClose:()=>{x(!1),b(null)},onConfirm:async()=>{if(v)try{await fh(ad(Sh,"contactMessages",v.id)),await k(),_("success","Message Deleted","The message has been successfully deleted."),x(!1),b(null)}catch(e){console.error("Error deleting message:",e),_("error","Delete Failed","Failed to delete message. Please try again.")}},title:"Delete Message",message:"Are you sure you want to delete this message from ".concat(null===v||void 0===v?void 0:v.name,"? This action cannot be undone."),confirmText:"Delete",cancelText:"Cancel",isDestructive:!0}),(0,Ch.jsx)(of,{isVisible:w.isVisible,onClose:()=>{N((e=>Me(Me({},e),{},{isVisible:!1})))},type:w.type,title:w.title,message:w.message})]})}function df(e){let{isOpen:n,onClose:r,onNewsletterSent:s,subscriberCount:i}=e;const[a,o]=(0,t.useState)({subject:"",content:"",preview:"",isSubmitting:!1}),[l,c]=(0,t.useState)({isVisible:!1,type:"success",title:"",message:""}),u=e=>{const{name:t,value:n}=e.target;o((e=>Me(Me({},e),{},{[t]:n})))},d=()=>{o({subject:"",content:"",preview:"",isSubmitting:!1}),r()};return n?(0,Ch.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Ch.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,Ch.jsxs)("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Create Newsletter"}),(0,Ch.jsxs)("p",{className:"text-sm text-gray-600",children:["Will be sent to ",i," active subscribers"]})]}),(0,Ch.jsx)("button",{onClick:d,className:"text-gray-400 hover:text-gray-600 transition duration-200",children:(0,Ch.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ch.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Ch.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),a.subject.trim()&&a.content.trim())if(0!==i){o((e=>Me(Me({},e),{},{isSubmitting:!0})));try{const e={subject:a.subject,content:a.content,preview:a.preview||a.content.substring(0,150)+"...",status:"pending",recipientCount:i,createdAt:(new Date).toISOString()};console.log("Storing newsletter data:",e);const t=await mh(id(Sh,"newsletterPosts"),e);console.log("Newsletter stored with ID:",t.id),o({subject:"",content:"",preview:"",isSubmitting:!1}),r(),c({isVisible:!0,type:"success",title:"Newsletter Queued",message:"Newsletter has been queued for sending to ".concat(i," subscribers.")}),s&&s()}catch(t){console.error("Error storing newsletter:",t),c({isVisible:!0,type:"error",title:"Newsletter Failed",message:"Failed to create newsletter. Please try again."}),o((e=>Me(Me({},e),{},{isSubmitting:!1})))}}else c({isVisible:!0,type:"warning",title:"No Subscribers",message:"You don't have any active subscribers to send the newsletter to."});else c({isVisible:!0,type:"warning",title:"Missing Information",message:"Please fill in both subject and content"})},className:"p-6",children:[(0,Ch.jsxs)("div",{className:"space-y-6",children:[(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-2",children:"Newsletter Subject *"}),(0,Ch.jsx)("input",{type:"text",id:"subject",name:"subject",value:a.subject,onChange:u,placeholder:"Enter newsletter subject...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",required:!0})]}),(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("label",{htmlFor:"preview",className:"block text-sm font-medium text-gray-700 mb-2",children:"Preview Text"}),(0,Ch.jsx)("input",{type:"text",id:"preview",name:"preview",value:a.preview,onChange:u,placeholder:"Brief preview text (optional - will auto-generate from content if empty)",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700 mb-2",children:"Newsletter Content *"}),(0,Ch.jsx)("textarea",{id:"content",name:"content",value:a.content,onChange:u,rows:12,placeholder:"Write your newsletter content here... You can use HTML tags for formatting.",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent resize-none",required:!0}),(0,Ch.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"You can use HTML tags for formatting (e.g., <strong>, <em>, <br>, <p>)"})]}),a.subject&&a.content&&(0,Ch.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[(0,Ch.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Preview:"}),(0,Ch.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,Ch.jsx)("strong",{children:"Subject:"})," ",a.subject]}),(0,Ch.jsxs)("div",{className:"text-sm text-gray-600 mt-1",children:[(0,Ch.jsx)("strong",{children:"Preview:"})," ",a.preview||a.content.substring(0,150)+"..."]}),(0,Ch.jsx)("div",{className:"mt-2 p-3 bg-white rounded border",children:(0,Ch.jsx)("div",{dangerouslySetInnerHTML:{__html:a.content.substring(0,200)+"..."}})})]})]}),(0,Ch.jsxs)("div",{className:"flex justify-end space-x-3 mt-6 pt-4 border-t border-gray-200",children:[(0,Ch.jsx)("button",{type:"button",onClick:d,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition duration-300",disabled:a.isSubmitting,children:"Cancel"}),(0,Ch.jsx)("button",{type:"submit",className:"px-6 py-2 rounded-md text-white font-medium transition duration-300 ".concat(a.isSubmitting?"bg-gray-400 cursor-not-allowed":"bg-primary hover:bg-secondary"),disabled:a.isSubmitting,children:a.isSubmitting?(0,Ch.jsxs)("span",{className:"flex items-center",children:[(0,Ch.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[(0,Ch.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Ch.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending..."]}):"Send to ".concat(i," Subscribers")})]})]}),(0,Ch.jsx)(of,{isVisible:l.isVisible,onClose:()=>c((e=>Me(Me({},e),{},{isVisible:!1}))),type:l.type,title:l.title,message:l.message})]})}):null}function hf(e){let{onRefresh:n}=e;const[r,s]=(0,t.useState)([]),[i,a]=(0,t.useState)([]),[o,l]=(0,t.useState)(!0),[c,u]=(0,t.useState)("subscribers"),[d,h]=(0,t.useState)(!1),[f,m]=(0,t.useState)(!1),[p,g]=(0,t.useState)(null),[y,x]=(0,t.useState)({isVisible:!1,type:"success",title:"",message:""});(0,t.useEffect)((()=>{v()}),[]);const v=async()=>{l(!0);try{const e=Gd(id(Sh,"newsletter"),$d("subscribedAt","desc")),t=(await dh(e)).docs.map((e=>Me({id:e.id},e.data()))),n=Gd(id(Sh,"newsletterPosts"),$d("createdAt","desc")),r=(await dh(n)).docs.map((e=>Me({id:e.id},e.data())));s(t),a(r)}catch(e){console.error("Error fetching data:",e),b("error","Fetch Failed","Failed to load newsletter data")}finally{l(!1)}},b=(e,t,n)=>{x({isVisible:!0,type:e,title:t,message:n})},w=e=>{g(e),m(!0)},N=r.filter((e=>"active"===e.status)).length,k=i.length,j=e=>e?e.seconds?new Date(1e3*e.seconds).toLocaleDateString():new Date(e).toLocaleDateString():"N/A";return o?(0,Ch.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Ch.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):(0,Ch.jsxs)("div",{className:"space-y-4 lg:space-y-6",children:[(0,Ch.jsxs)("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center space-y-4 lg:space-y-0",children:[(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("h2",{className:"text-xl lg:text-2xl font-bold text-gray-900",children:"Newsletter Management"}),(0,Ch.jsx)("p",{className:"text-sm lg:text-base text-gray-600",children:"Manage subscribers and send newsletters"})]}),(0,Ch.jsxs)("div",{className:"flex flex-col sm:flex-row lg:flex-row items-start sm:items-center lg:items-center space-y-3 sm:space-y-0 sm:space-x-4 lg:space-x-4",children:[(0,Ch.jsxs)("div",{className:"flex space-x-6 sm:space-x-4 lg:space-x-4",children:[(0,Ch.jsxs)("div",{className:"text-center sm:text-right lg:text-right",children:[(0,Ch.jsx)("div",{className:"text-xs sm:text-sm text-gray-500",children:"Active Subscribers"}),(0,Ch.jsx)("div",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-primary",children:N})]}),(0,Ch.jsxs)("div",{className:"text-center sm:text-right lg:text-right",children:[(0,Ch.jsx)("div",{className:"text-xs sm:text-sm text-gray-500",children:"Total Newsletters"}),(0,Ch.jsx)("div",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-primary",children:k})]})]}),(0,Ch.jsx)("button",{onClick:()=>h(!0),className:"bg-primary text-white px-4 py-2 rounded-md hover:bg-secondary transition duration-300 text-sm lg:text-base w-full sm:w-auto",children:"Create Newsletter"})]})]}),(0,Ch.jsxs)("div",{className:"flex flex-wrap gap-1 bg-gray-100 p-1 rounded-lg",children:[(0,Ch.jsxs)("button",{onClick:()=>u("subscribers"),className:"px-3 sm:px-4 py-2 rounded-md text-sm font-medium transition duration-300 flex-shrink-0 ".concat("subscribers"===c?"bg-white text-primary shadow-sm":"text-gray-600 hover:text-gray-900"),children:[(0,Ch.jsx)("span",{className:"hidden sm:inline",children:"Subscribers"}),(0,Ch.jsx)("span",{className:"sm:hidden",children:"Subs"}),(0,Ch.jsxs)("span",{className:"ml-1",children:["(",r.length,")"]})]}),(0,Ch.jsxs)("button",{onClick:()=>u("newsletters"),className:"px-3 sm:px-4 py-2 rounded-md text-sm font-medium transition duration-300 flex-shrink-0 ".concat("newsletters"===c?"bg-white text-primary shadow-sm":"text-gray-600 hover:text-gray-900"),children:[(0,Ch.jsx)("span",{className:"hidden sm:inline",children:"Newsletters"}),(0,Ch.jsx)("span",{className:"sm:hidden",children:"News"}),(0,Ch.jsxs)("span",{className:"ml-1",children:["(",i.length,")"]})]})]}),"subscribers"===c&&(0,Ch.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:(0,Ch.jsxs)("div",{className:"p-4 lg:p-6",children:[(0,Ch.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Newsletter Subscribers"}),0===r.length?(0,Ch.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No subscribers yet"}):(0,Ch.jsxs)(Ch.Fragment,{children:[(0,Ch.jsx)("div",{className:"hidden lg:block overflow-x-auto",children:(0,Ch.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Ch.jsx)("thead",{className:"bg-gray-50",children:(0,Ch.jsxs)("tr",{children:[(0,Ch.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),(0,Ch.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,Ch.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Ch.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subscribed"}),(0,Ch.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Ch.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map((e=>(0,Ch.jsxs)("tr",{children:[(0,Ch.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.email}),(0,Ch.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.name||"N/A"}),(0,Ch.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ch.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat("active"===e.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.status})}),(0,Ch.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:j(e.subscribedAt)}),(0,Ch.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,Ch.jsx)("button",{onClick:()=>w(e),className:"text-red-600 hover:text-red-900 transition duration-200",children:"Remove"})})]},e.id)))})]})}),(0,Ch.jsx)("div",{className:"lg:hidden space-y-3",children:r.map((e=>(0,Ch.jsx)("div",{className:"border border-gray-200 rounded-lg p-4",children:(0,Ch.jsxs)("div",{className:"flex flex-col space-y-3",children:[(0,Ch.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ch.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Ch.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.email}),(0,Ch.jsx)("p",{className:"text-xs text-gray-500",children:e.name||"No name provided"})]}),(0,Ch.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ml-2 ".concat("active"===e.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.status})]}),(0,Ch.jsxs)("div",{className:"text-xs text-gray-500",children:["Subscribed: ",j(e.subscribedAt)]}),(0,Ch.jsx)("div",{className:"flex justify-end",children:(0,Ch.jsx)("button",{onClick:()=>w(e),className:"text-red-600 hover:text-red-900 transition duration-200 text-sm font-medium",children:"Remove Subscriber"})})]})},e.id)))})]})]})}),"newsletters"===c&&(0,Ch.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:(0,Ch.jsxs)("div",{className:"p-4 lg:p-6",children:[(0,Ch.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Newsletter History"}),0===i.length?(0,Ch.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No newsletters sent yet"}):(0,Ch.jsx)("div",{className:"space-y-4",children:i.map((e=>(0,Ch.jsx)("div",{className:"border border-gray-200 rounded-lg p-4",children:(0,Ch.jsxs)("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-start space-y-3 lg:space-y-0",children:[(0,Ch.jsxs)("div",{className:"flex-1",children:[(0,Ch.jsx)("h4",{className:"text-base lg:text-lg font-medium text-gray-900",children:e.subject}),(0,Ch.jsx)("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:e.preview}),(0,Ch.jsxs)("div",{className:"hidden lg:flex items-center space-x-4 mt-2 text-xs text-gray-500",children:[(0,Ch.jsxs)("span",{children:["Sent: ",j(e.createdAt)]}),(0,Ch.jsxs)("span",{children:["Status: ",e.status]}),(0,Ch.jsxs)("span",{children:["Recipients: ",e.recipientCount||0]})]}),(0,Ch.jsxs)("div",{className:"lg:hidden space-y-1 mt-2 text-xs text-gray-500",children:[(0,Ch.jsxs)("div",{children:["Sent: ",j(e.createdAt)]}),(0,Ch.jsxs)("div",{children:["Recipients: ",e.recipientCount||0]})]})]}),(0,Ch.jsx)("div",{className:"flex-shrink-0 lg:ml-4",children:(0,Ch.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat("sent"===e.status?"bg-green-100 text-green-800":"failed"===e.status?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:e.status})})]})},e.id)))})]})}),(0,Ch.jsx)(df,{isOpen:d,onClose:()=>h(!1),onNewsletterSent:()=>{v(),b("success","Newsletter Sent","Newsletter has been sent to all subscribers!")},subscriberCount:N}),(0,Ch.jsx)(cf,{isOpen:f,onClose:()=>{m(!1),g(null)},onConfirm:async()=>{if(p)try{await fh(ad(Sh,"newsletter",p.id)),await v(),b("success","Subscriber Removed","The subscriber has been successfully removed."),m(!1),g(null)}catch(e){console.error("Error deleting subscriber:",e),b("error","Delete Failed","Failed to remove subscriber. Please try again.")}},title:"Remove Subscriber",message:"Are you sure you want to remove ".concat(null===p||void 0===p?void 0:p.email," from the newsletter list?"),confirmText:"Remove",cancelText:"Cancel",isDestructive:!0}),(0,Ch.jsx)(of,{isVisible:y.isVisible,onClose:()=>{x((e=>Me(Me({},e),{},{isVisible:!1})))},type:y.type,title:y.title,message:y.message})]})}function ff(){const e=Z(),[n,r]=(0,t.useState)("dashboard"),[s,i]=(0,t.useState)([]),[a,o]=(0,t.useState)([]),[l,c]=(0,t.useState)(!0),[u,d]=(0,t.useState)(!1),[h,f]=(0,t.useState)({totalBookings:0,pendingBookings:0,completedBookings:0,totalRevenue:0,totalRooms:0,totalMessages:0,unreadMessages:0});(0,t.useEffect)((()=>{m()}),[]);const m=async()=>{c(!0);try{const e=Gd(id(Sh,"bookings"),$d("createdAt","desc")),t=(await dh(e)).docs.map((e=>Me({id:e.id},e.data())));i(t);const n=(await dh(id(Sh,"rooms"))).docs.map((e=>Me({id:e.id},e.data())));o(n);const r=(await dh(id(Sh,"contactMessages"))).docs.map((e=>Me({id:e.id},e.data()))),s=t.length,a=t.filter((e=>new Date(e.checkOutDate)>new Date)).length,l=s-a,c=t.reduce(((e,t)=>{const n=Math.ceil((new Date(t.checkOutDate)-new Date(t.checkInDate))/864e5);return e+t.roomPrice*n}),0);f({totalBookings:s,pendingBookings:a,completedBookings:l,totalRevenue:c.toFixed(2),totalRooms:n.length,totalMessages:r.length,unreadMessages:r.filter((e=>"new"===e.status)).length})}catch(e){console.error("Error fetching data:",e)}finally{c(!1)}},p=async(e,t)=>{try{await hh(ad(Sh,"bookings",e),t),await m()}catch(n){console.error("Error updating booking:",n)}},g=async e=>{try{await fh(ad(Sh,"bookings",e)),await m()}catch(t){console.error("Error deleting booking:",t)}},y=()=>{localStorage.removeItem("adminAuthenticated"),e("/admin/login")};return l?(0,Ch.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,Ch.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,Ch.jsxs)("div",{className:"text-center",children:[(0,Ch.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),(0,Ch.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading admin dashboard..."})]})})}):(0,Ch.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Ch.jsxs)("div",{className:"lg:hidden bg-white shadow-sm border-b border-gray-200 px-4 py-3 flex items-center justify-between",children:[(0,Ch.jsx)("button",{onClick:()=>d(!0),className:"p-2 rounded-md text-gray-600 hover:text-gray-900 hover:bg-gray-100",children:(0,Ch.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Ch.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),(0,Ch.jsx)("h1",{className:"text-lg font-semibold text-primary",children:"Admin Panel"}),(0,Ch.jsx)("div",{className:"w-10"})," "]}),(0,Ch.jsx)("div",{className:"hidden lg:block",children:(0,Ch.jsx)(Wh,{heading:"Admin Dashboard",title:"NaumApartments",subtitle:"Management"})}),(0,Ch.jsxs)("div",{className:"flex relative",children:[u&&(0,Ch.jsxs)("div",{className:"fixed inset-0 z-50 lg:hidden",children:[(0,Ch.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:()=>d(!1)}),(0,Ch.jsx)("div",{className:"fixed inset-y-0 left-0 w-64 bg-white shadow-lg",children:(0,Ch.jsx)(nf,{activeTab:n,setActiveTab:e=>{r(e),d(!1)},onLogout:y,isMobile:!0,onClose:()=>d(!1)})})]}),(0,Ch.jsx)("div",{className:"hidden lg:block",children:(0,Ch.jsx)(nf,{activeTab:n,setActiveTab:r,onLogout:y})}),(0,Ch.jsx)("div",{className:"flex-1 p-4 lg:p-8",children:(()=>{switch(n){case"dashboard":default:return(0,Ch.jsx)(af,{stats:h,bookings:s,rooms:a});case"bookings":return(0,Ch.jsx)(rf,{bookings:s,rooms:a,onUpdate:p,onDelete:g,onRefresh:m});case"rooms":return(0,Ch.jsx)(sf,{rooms:a,onRefresh:m});case"messages":return(0,Ch.jsx)(uf,{onRefresh:m});case"newsletter":return(0,Ch.jsx)(hf,{onRefresh:m})}})()})]})]})}function mf(){(0,t.useRef)(null);return(0,Ch.jsxs)("section",{className:"relative h-[40rem] mb-16 flex items-center justify-center bg-gradient-to-r from-primary/70 to-primary/50",children:[(0,Ch.jsx)("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url('https://images.unsplash.com/photo-1566073771259-6a8506099945?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80')"}}),(0,Ch.jsx)("div",{className:"absolute inset-0 bg-primary/60"}),(0,Ch.jsxs)("div",{className:"relative z-10 text-center text-white max-w-4xl mx-auto px-4",children:[(0,Ch.jsxs)("h1",{className:"text-5xl md:text-7xl font-bold mb-6",children:[(0,Ch.jsx)("span",{className:"inline-block animate-slideInLeft",children:"Experience"})," ",(0,Ch.jsx)("span",{className:"inline-block animate-slideInRight",children:"Luxury"})]}),(0,Ch.jsx)("p",{className:"text-xl md:text-2xl mb-8 opacity-90 animate-fadeIn",children:"Indulge in unparalleled comfort and elegance at Naum Apartments"}),(0,Ch.jsx)("div",{className:"transform hover:scale-105 transition duration-300 animate-fadeIn",children:(0,Ch.jsx)(_e,{to:"/rooms",className:"bg-secondary text-white py-2 px-4 md:py-3 md:px-5 rounded-md hover:bg-sbackground transition duration-300 hover:text-primary ",children:"Discover Our Rooms"})})]})]})}function pf(){const[e,n]=(0,t.useState)(""),[r,s]=(0,t.useState)(""),[i,a]=(0,t.useState)(1),[o,l]=(0,t.useState)(0),c=Z(),u=(new Date).toISOString().split("T")[0],d=e&&r&&r>e&&i;return(0,Ch.jsx)("div",{className:"container mx-auto pb-5 px-4",children:(0,Ch.jsx)("div",{className:"bg-white shadow-lg p-8 rounded-lg border-t-4 border-primary",children:(0,Ch.jsxs)("form",{onSubmit:t=>{t.preventDefault(),c("/booking",{state:{checkIn:e,checkOut:r,adults:i,children:o}})},className:"grid grid-cols-1 md:grid-cols-12 gap-4 items-center",children:[(0,Ch.jsx)("div",{className:"md:col-span-10",children:(0,Ch.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[(0,Ch.jsxs)("div",{className:"relative",children:[(0,Ch.jsx)("label",{className:"block text-sm text-gray-600 mb-2",children:"Check-In"}),(0,Ch.jsx)("input",{type:"date",className:"w-full p-3 border border-light rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-primary placeholder-gray-500",placeholder:"Check In Date",value:e,min:u,onChange:e=>n(e.target.value)})]}),(0,Ch.jsxs)("div",{className:"relative",children:[(0,Ch.jsx)("label",{className:"block text-sm text-gray-600 mb-2",children:"Check-Out"}),(0,Ch.jsx)("input",{type:"date",className:"w-full p-3 border border-light rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-primary placeholder-gray-500",placeholder:"Check Out Date",value:r,min:e||u,onChange:e=>s(e.target.value)})]}),(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("label",{className:"block text-sm text-gray-600 mb-2",children:"Adults"}),(0,Ch.jsxs)("div",{className:"flex items-center border border-light rounded-md h-[48px]",children:[(0,Ch.jsx)("button",{type:"button",onClick:()=>{i>1&&a(i-1)},disabled:i<=1,className:"px-3 py-3 text-lg font-bold transition-colors h-full ".concat(i<=1?"text-gray-400 cursor-not-allowed":"text-primary hover:bg-gray-100"),children:"\u2212"}),(0,Ch.jsxs)("div",{className:"flex-1 text-center py-3 text-primary font-medium",children:[i," ",1===i?"Adult":"Adults"]}),(0,Ch.jsx)("button",{type:"button",onClick:()=>{i<6&&a(i+1)},disabled:i>=6,className:"px-3 py-3 text-lg font-bold transition-colors h-full ".concat(i>=6?"text-gray-400 cursor-not-allowed":"text-primary hover:bg-gray-100"),children:"+"})]})]}),(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("label",{className:"block text-sm text-gray-600 mb-2",children:"Children"}),(0,Ch.jsxs)("div",{className:"flex items-center border border-light rounded-md h-[48px]",children:[(0,Ch.jsx)("button",{type:"button",onClick:()=>{o>0&&l(o-1)},disabled:o<=0,className:"px-3 py-3 text-lg font-bold transition-colors h-full ".concat(o<=0?"text-gray-400 cursor-not-allowed":"text-primary hover:bg-gray-100"),children:"\u2212"}),(0,Ch.jsxs)("div",{className:"flex-1 text-center py-3 text-primary font-medium",children:[o," ",1===o?"Child":"Children"]}),(0,Ch.jsx)("button",{type:"button",onClick:()=>{o<5&&l(o+1)},disabled:o>=5,className:"px-3 py-3 text-lg font-bold transition-colors h-full ".concat(o>=5?"text-gray-400 cursor-not-allowed":"text-primary hover:bg-gray-100"),children:"+"})]})]})]})}),(0,Ch.jsx)("div",{className:"md:col-span-2",children:(0,Ch.jsx)("button",{type:"submit",disabled:!d,className:"w-full py-3 px-5 rounded-md transition duration-300 transform hover:scale-105 ".concat(d?"bg-primary text-white hover:bg-secondary":"bg-primary/50 text-white cursor-not-allowed"),children:"Find Room"})})]})})})}function gf(){return(0,Ch.jsx)("div",{className:"container mx-auto py-12 px-4 bg-light",children:(0,Ch.jsxs)("div",{className:"mb-12",children:[(0,Ch.jsx)(Kh,{heading:"Unrivaled Comfort\n",subtitle:" What NaumApartments Offers?"}),(0,Ch.jsx)("p",{className:"max-w-3xl mx-auto text-gray-600 mb-8 text-center leading-relaxed",children:"At NaumApartments, we pride ourselves on providing an exceptional experience. From luxurious rooms to top-tier amenities, discover what makes your stay truly special."}),(0,Ch.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5 pb-8 ",children:Rh.map(((e,t)=>(0,Ch.jsxs)("div",{className:"border border-bordercolor rounded p-4 shadow-sm text-center bg-white transform hover:scale-105 transition duration-300",children:[e.icon,(0,Ch.jsx)("h2",{className:"mb-1 text-xl font-bold text-primary mt-2",children:e.count}),(0,Ch.jsx)("p",{className:"mb-0 text-gray-600 text-sm",children:e.text})]},t)))}),(0,Ch.jsx)("div",{className:"text-center mt-8",children:(0,Ch.jsx)(_e,{to:"/rooms",className:"inline-block bg-primary text-light py-3 px-8 rounded-md hover:bg-secondary transition duration-300 transform hover:scale-105 text-lg font-semibold",children:"Discover Our Amenities"})}),(0,Ch.jsx)(ef,{})]})})}function yf(){return(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)(mf,{}),(0,Ch.jsx)(pf,{}),(0,Ch.jsx)(gf,{}),(0,Ch.jsx)($h,{limit:3}),(0,Ch.jsx)(Jh,{})]})}function xf(){const[e,n]=(0,t.useState)(""),[r,s]=(0,t.useState)(!1),[i,a]=(0,t.useState)("");return(0,Ch.jsx)("div",{className:"container mx-auto mt-5 px-3 sm:px-4 relative z-[10]",children:(0,Ch.jsx)("div",{className:"flex justify-center",children:(0,Ch.jsx)("div",{className:"w-full max-w-md sm:max-w-lg lg:w-10/12 border border-primary rounded p-1 shadow-md",children:(0,Ch.jsx)("div",{className:"border border-secondary rounded text-center p-1",children:(0,Ch.jsxs)("div",{className:"bg-white rounded text-center p-3 sm:p-5",children:[(0,Ch.jsxs)("h4",{className:"mb-4 text-base sm:text-lg lg:text-2xl font-bold text-secondary",children:["Get the best deals at ",(0,Ch.jsx)("span",{className:"text-primary uppercase",children:"NaumApartments"})]}),(0,Ch.jsx)("form",{onSubmit:async t=>{if(t.preventDefault(),e&&e.includes("@")){s(!0),a("");try{const t=Gd(id(Sh,"newsletter"),function(e,t,n){const r=t,s=Bd("where",e);return Kd._create(s,r,n)}("email","==",e.toLowerCase())),r=await dh(t);if(!r.empty){const e=r.docs[0].data();if("active"===e.status)return void a("You are already subscribed to our newsletter!");if("unsubscribed"===e.status){const e=r.docs[0].ref;return await hh(e,{status:"active",resubscribedAt:yh()}),n(""),void a("Welcome back! You have been resubscribed to our newsletter!")}}await mh(id(Sh,"newsletter"),{email:e.toLowerCase(),subscribedAt:yh(),status:"active"}),n(""),a("Thank you for subscribing!")}catch(r){console.error("Error subscribing to newsletter:",r),a("Error subscribing. Please try again.")}finally{s(!1)}}else a("Please enter a valid email address")},className:"w-full",children:(0,Ch.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 w-full",children:[(0,Ch.jsx)("input",{className:"flex-1 py-3 px-3 sm:px-4 border border-secondary rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-dark text-sm sm:text-base",type:"email",placeholder:"Enter your email",value:e,onChange:e=>n(e.target.value),required:!0}),(0,Ch.jsx)("button",{type:"submit",disabled:r,className:"py-3 px-4 sm:px-6 text-white rounded-md transition duration-300 font-medium text-sm sm:text-base whitespace-nowrap ".concat(r?"bg-gray-400 cursor-not-allowed":"bg-primary hover:bg-secondary"),children:r?"Subscribing...":"Subscribe"})]})}),i&&(0,Ch.jsx)("div",{className:"mt-3 text-sm ".concat(i.includes("Thank you")?"text-green-600":i.includes("already subscribed")?"text-blue-600":"text-red-600"),children:i})]})})})})})}function vf(){return(0,Ch.jsxs)("div",{className:"bg-light border-t border-bordercolor text-primary py-10 px-4 sm:px-6 lg:px-8",children:[(0,Ch.jsx)(xf,{}),(0,Ch.jsx)("div",{className:"max-w-7xl mx-auto pt-5",children:(0,Ch.jsxs)("div",{className:"grid grid-cols-1 py-16 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[(0,Ch.jsx)("div",{className:"lg:col-span-1",children:(0,Ch.jsxs)("div",{className:"bg-primary rounded p-6 shadow-lg",children:[(0,Ch.jsx)(_e,{to:"/",children:(0,Ch.jsx)("h1",{className:"text-white text-2xl font-bold uppercase mb-3",children:"NaumApartments"})}),(0,Ch.jsx)("p",{className:"text-white text-sm leading-relaxed",children:"Experience comfort and warmth with NaumApartments, your perfect home away from home. Discover serene rooms and exceptional service for an unforgettable stay."})]})}),(0,Ch.jsxs)("div",{className:"lg:col-span-1",children:[(0,Ch.jsx)("h6",{className:"text-xl font-bold text-primary uppercase mb-4",children:"Connect With Us"}),Ph.map(((e,t)=>(0,Ch.jsxs)("p",{className:"mb-2 flex items-center",children:[(0,Ch.jsx)("span",{className:"mr-2 text-primary",children:e.icon}),(0,Ch.jsx)("span",{className:"text-primary",children:e.name})]},t))),(0,Ch.jsx)("div",{className:"flex space-x-2 pt-2",children:Ah.slice(0,4).map(((e,t)=>(0,Ch.jsx)("a",{className:"w-9 h-9 flex items-center justify-center rounded-full border border-primary text-primary hover:bg-primary hover:text-white transition-colors duration-300",href:"#",children:e.icon},t)))})]}),(0,Ch.jsx)("div",{className:"lg:col-span-2",children:(0,Ch.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-8",children:Lh.map(((e,t)=>(0,Ch.jsxs)("div",{children:[(0,Ch.jsx)("h6",{className:"text-xl font-bold text-primary uppercase mb-4",children:e.header}),(0,Ch.jsx)("ul",{className:"space-y-2",children:e.UnitItem.map(((e,t)=>(0,Ch.jsx)("li",{children:(0,Ch.jsx)(_e,{to:"#",className:"text-primary hover:text-primary transition-colors duration-300",children:e.name})},t)))})]},t)))})})]})})]})}function bf(){return(0,Ch.jsx)(Hh,{children:(0,Ch.jsx)("div",{className:"bg-white",children:(0,Ch.jsxs)(Se,{children:[(0,Ch.jsx)(Uh,{}),(0,Ch.jsx)(Fh,{}),(0,Ch.jsxs)(ge,{children:[(0,Ch.jsx)(me,{path:"/rooms",element:(0,Ch.jsx)(Xh,{})}),(0,Ch.jsx)(me,{path:"/rooms/:id",element:(0,Ch.jsx)(Eh,{})}),(0,Ch.jsx)(me,{path:"/contact",element:(0,Ch.jsx)(Qh,{})}),(0,Ch.jsx)(me,{path:"/",element:(0,Ch.jsx)(yf,{})}),(0,Ch.jsx)(me,{path:"/booking",element:(0,Ch.jsx)(Gh,{})}),(0,Ch.jsx)(me,{path:"/gallery",element:(0,Ch.jsx)(tf,{})}),(0,Ch.jsx)(me,{path:"/admin/login",element:(0,Ch.jsx)(_h,{})}),(0,Ch.jsx)(me,{path:"/admin",element:(0,Ch.jsx)(Ih,{children:(0,Ch.jsx)(ff,{})})}),(0,Ch.jsx)(me,{path:"/unsubscribe",element:(0,Ch.jsx)(Th,{})}),(0,Ch.jsx)(me,{path:"/*",element:(0,Ch.jsx)(Yh,{})}),(0,Ch.jsx)(me,{path:"/services",element:(0,Ch.jsx)(Zh,{})})]}),(0,Ch.jsx)(vf,{}),(0,Ch.jsx)(Vh,{})]})})})}s.createRoot(document.getElementById("root")).render((0,Ch.jsx)(t.StrictMode,{children:(0,Ch.jsx)(bf,{})}))})()})();
//# sourceMappingURL=main.f35b3861.js.map